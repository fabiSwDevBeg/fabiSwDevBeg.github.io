(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var kh={exports:{}},ua={},Nh={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function Fw(){if(Im)return Pe;Im=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=I&&F[I]||F["@@iterator"],typeof F=="function"?F:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,z={};function O(F,G,fe){this.props=F,this.context=G,this.refs=z,this.updater=fe||V}O.prototype.isReactComponent={},O.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function W(){}W.prototype=O.prototype;function K(F,G,fe){this.props=F,this.context=G,this.refs=z,this.updater=fe||V}var ee=K.prototype=new W;ee.constructor=K,x(ee,O.prototype),ee.isPureReactComponent=!0;var ie=Array.isArray,Ie=Object.prototype.hasOwnProperty,ve={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(F,G,fe){var Re,xe={},De=null,Fe=null;if(G!=null)for(Re in G.ref!==void 0&&(Fe=G.ref),G.key!==void 0&&(De=""+G.key),G)Ie.call(G,Re)&&!N.hasOwnProperty(Re)&&(xe[Re]=G[Re]);var Ue=arguments.length-2;if(Ue===1)xe.children=fe;else if(1<Ue){for(var $e=Array(Ue),wt=0;wt<Ue;wt++)$e[wt]=arguments[wt+2];xe.children=$e}if(F&&F.defaultProps)for(Re in Ue=F.defaultProps,Ue)xe[Re]===void 0&&(xe[Re]=Ue[Re]);return{$$typeof:r,type:F,key:De,ref:Fe,props:xe,_owner:ve.current}}function A(F,G){return{$$typeof:r,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function L(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(fe){return G[fe]})}var M=/\/+/g;function C(F,G){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):G.toString(36)}function Je(F,G,fe,Re,xe){var De=typeof F;(De==="undefined"||De==="boolean")&&(F=null);var Fe=!1;if(F===null)Fe=!0;else switch(De){case"string":case"number":Fe=!0;break;case"object":switch(F.$$typeof){case r:case e:Fe=!0}}if(Fe)return Fe=F,xe=xe(Fe),F=Re===""?"."+C(Fe,0):Re,ie(xe)?(fe="",F!=null&&(fe=F.replace(M,"$&/")+"/"),Je(xe,G,fe,"",function(wt){return wt})):xe!=null&&(k(xe)&&(xe=A(xe,fe+(!xe.key||Fe&&Fe.key===xe.key?"":(""+xe.key).replace(M,"$&/")+"/")+F)),G.push(xe)),1;if(Fe=0,Re=Re===""?".":Re+":",ie(F))for(var Ue=0;Ue<F.length;Ue++){De=F[Ue];var $e=Re+C(De,Ue);Fe+=Je(De,G,fe,$e,xe)}else if($e=T(F),typeof $e=="function")for(F=$e.call(F),Ue=0;!(De=F.next()).done;)De=De.value,$e=Re+C(De,Ue++),Fe+=Je(De,G,fe,$e,xe);else if(De==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Fe}function vt(F,G,fe){if(F==null)return F;var Re=[],xe=0;return Je(F,Re,"","",function(De){return G.call(fe,De,xe++)}),Re}function Ee(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(fe){(F._status===0||F._status===-1)&&(F._status=1,F._result=fe)},function(fe){(F._status===0||F._status===-1)&&(F._status=2,F._result=fe)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var Ce={current:null},re={transition:null},pe={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:re,ReactCurrentOwner:ve};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:vt,forEach:function(F,G,fe){vt(F,function(){G.apply(this,arguments)},fe)},count:function(F){var G=0;return vt(F,function(){G++}),G},toArray:function(F){return vt(F,function(G){return G})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Pe.Component=O,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=K,Pe.StrictMode=s,Pe.Suspense=g,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Pe.act=oe,Pe.cloneElement=function(F,G,fe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Re=x({},F.props),xe=F.key,De=F.ref,Fe=F._owner;if(G!=null){if(G.ref!==void 0&&(De=G.ref,Fe=ve.current),G.key!==void 0&&(xe=""+G.key),F.type&&F.type.defaultProps)var Ue=F.type.defaultProps;for($e in G)Ie.call(G,$e)&&!N.hasOwnProperty($e)&&(Re[$e]=G[$e]===void 0&&Ue!==void 0?Ue[$e]:G[$e])}var $e=arguments.length-2;if($e===1)Re.children=fe;else if(1<$e){Ue=Array($e);for(var wt=0;wt<$e;wt++)Ue[wt]=arguments[wt+2];Re.children=Ue}return{$$typeof:r,type:F.type,key:xe,ref:De,props:Re,_owner:Fe}},Pe.createContext=function(F){return F={$$typeof:h,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:u,_context:F},F.Consumer=F},Pe.createElement=S,Pe.createFactory=function(F){var G=S.bind(null,F);return G.type=F,G},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(F){return{$$typeof:f,render:F}},Pe.isValidElement=k,Pe.lazy=function(F){return{$$typeof:w,_payload:{_status:-1,_result:F},_init:Ee}},Pe.memo=function(F,G){return{$$typeof:y,type:F,compare:G===void 0?null:G}},Pe.startTransition=function(F){var G=re.transition;re.transition={};try{F()}finally{re.transition=G}},Pe.unstable_act=oe,Pe.useCallback=function(F,G){return Ce.current.useCallback(F,G)},Pe.useContext=function(F){return Ce.current.useContext(F)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(F){return Ce.current.useDeferredValue(F)},Pe.useEffect=function(F,G){return Ce.current.useEffect(F,G)},Pe.useId=function(){return Ce.current.useId()},Pe.useImperativeHandle=function(F,G,fe){return Ce.current.useImperativeHandle(F,G,fe)},Pe.useInsertionEffect=function(F,G){return Ce.current.useInsertionEffect(F,G)},Pe.useLayoutEffect=function(F,G){return Ce.current.useLayoutEffect(F,G)},Pe.useMemo=function(F,G){return Ce.current.useMemo(F,G)},Pe.useReducer=function(F,G,fe){return Ce.current.useReducer(F,G,fe)},Pe.useRef=function(F){return Ce.current.useRef(F)},Pe.useState=function(F){return Ce.current.useState(F)},Pe.useSyncExternalStore=function(F,G,fe){return Ce.current.useSyncExternalStore(F,G,fe)},Pe.useTransition=function(){return Ce.current.useTransition()},Pe.version="18.3.1",Pe}var Sm;function vd(){return Sm||(Sm=1,Nh.exports=Fw()),Nh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function Uw(){if(Rm)return ua;Rm=1;var r=vd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,y){var w,I={},T=null,V=null;y!==void 0&&(T=""+y),g.key!==void 0&&(T=""+g.key),g.ref!==void 0&&(V=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(I[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)I[w]===void 0&&(I[w]=g[w]);return{$$typeof:e,type:f,key:T,ref:V,props:I,_owner:o.current}}return ua.Fragment=t,ua.jsx=h,ua.jsxs=h,ua}var Am;function jw(){return Am||(Am=1,kh.exports=Uw()),kh.exports}var b=jw(),H=vd(),ru={},Dh={exports:{}},Jt={},Vh={exports:{}},Lh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function zw(){return Cm||(Cm=1,function(r){function e(re,pe){var oe=re.length;re.push(pe);e:for(;0<oe;){var F=oe-1>>>1,G=re[F];if(0<o(G,pe))re[F]=pe,re[oe]=G,oe=F;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var pe=re[0],oe=re.pop();if(oe!==pe){re[0]=oe;e:for(var F=0,G=re.length,fe=G>>>1;F<fe;){var Re=2*(F+1)-1,xe=re[Re],De=Re+1,Fe=re[De];if(0>o(xe,oe))De<G&&0>o(Fe,xe)?(re[F]=Fe,re[De]=oe,F=De):(re[F]=xe,re[Re]=oe,F=Re);else if(De<G&&0>o(Fe,oe))re[F]=Fe,re[De]=oe,F=De;else break e}}return pe}function o(re,pe){var oe=re.sortIndex-pe.sortIndex;return oe!==0?oe:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],y=[],w=1,I=null,T=3,V=!1,x=!1,z=!1,O=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(re){for(var pe=t(y);pe!==null;){if(pe.callback===null)s(y);else if(pe.startTime<=re)s(y),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=t(y)}}function ie(re){if(z=!1,ee(re),!x)if(t(g)!==null)x=!0,Ee(Ie);else{var pe=t(y);pe!==null&&Ce(ie,pe.startTime-re)}}function Ie(re,pe){x=!1,z&&(z=!1,W(S),S=-1),V=!0;var oe=T;try{for(ee(pe),I=t(g);I!==null&&(!(I.expirationTime>pe)||re&&!L());){var F=I.callback;if(typeof F=="function"){I.callback=null,T=I.priorityLevel;var G=F(I.expirationTime<=pe);pe=r.unstable_now(),typeof G=="function"?I.callback=G:I===t(g)&&s(g),ee(pe)}else s(g);I=t(g)}if(I!==null)var fe=!0;else{var Re=t(y);Re!==null&&Ce(ie,Re.startTime-pe),fe=!1}return fe}finally{I=null,T=oe,V=!1}}var ve=!1,N=null,S=-1,A=5,k=-1;function L(){return!(r.unstable_now()-k<A)}function M(){if(N!==null){var re=r.unstable_now();k=re;var pe=!0;try{pe=N(!0,re)}finally{pe?C():(ve=!1,N=null)}}else ve=!1}var C;if(typeof K=="function")C=function(){K(M)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,vt=Je.port2;Je.port1.onmessage=M,C=function(){vt.postMessage(null)}}else C=function(){O(M,0)};function Ee(re){N=re,ve||(ve=!0,C())}function Ce(re,pe){S=O(function(){re(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){x||V||(x=!0,Ee(Ie))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(re){switch(T){case 1:case 2:case 3:var pe=3;break;default:pe=T}var oe=T;T=pe;try{return re()}finally{T=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=T;T=re;try{return pe()}finally{T=oe}},r.unstable_scheduleCallback=function(re,pe,oe){var F=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?F+oe:F):oe=F,re){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,re={id:w++,callback:pe,priorityLevel:re,startTime:oe,expirationTime:G,sortIndex:-1},oe>F?(re.sortIndex=oe,e(y,re),t(g)===null&&re===t(y)&&(z?(W(S),S=-1):z=!0,Ce(ie,oe-F))):(re.sortIndex=G,e(g,re),x||V||(x=!0,Ee(Ie))),re},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(re){var pe=T;return function(){var oe=T;T=pe;try{return re.apply(this,arguments)}finally{T=oe}}}}(Lh)),Lh}var xm;function Bw(){return xm||(xm=1,Vh.exports=zw()),Vh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function $w(){if(Pm)return Jt;Pm=1;var r=vd(),e=Bw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},I={};function T(n){return g.call(I,n)?!0:g.call(w,n)?!1:y.test(n)?I[n]=!0:(w[n]=!0,!1)}function V(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function x(n,i,a,c){if(i===null||typeof i>"u"||V(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function z(n,i,a,c,d,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){O[n]=new z(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];O[i]=new z(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){O[n]=new z(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){O[n]=new z(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){O[n]=new z(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){O[n]=new z(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){O[n]=new z(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){O[n]=new z(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){O[n]=new z(n,5,!1,n.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function K(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(W,K);O[i]=new z(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(W,K);O[i]=new z(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(W,K);O[i]=new z(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){O[n]=new z(n,1,!1,n.toLowerCase(),null,!1,!1)}),O.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){O[n]=new z(n,1,!1,n.toLowerCase(),null,!0,!0)});function ee(n,i,a,c){var d=O.hasOwnProperty(i)?O[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(x(i,a,d,c)&&(a=null),c||d===null?T(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var ie=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ie=Symbol.for("react.element"),ve=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),vt=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,F;function G(n){if(F===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+n}var fe=!1;function Re(n,i){if(!n||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var c=$}Reflect.construct(n,[],i)}else{try{i.call()}catch($){c=$}n.call(i.prototype)}else{try{throw Error()}catch($){c=$}n()}}catch($){if($&&c&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),m=c.stack.split(`
`),v=d.length-1,R=m.length-1;1<=v&&0<=R&&d[v]!==m[R];)R--;for(;1<=v&&0<=R;v--,R--)if(d[v]!==m[R]){if(v!==1||R!==1)do if(v--,R--,0>R||d[v]!==m[R]){var P=`
`+d[v].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=v&&0<=R);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function xe(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=Re(n.type,!1),n;case 11:return n=Re(n.type.render,!1),n;case 1:return n=Re(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case ve:return"Portal";case A:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case Je:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case L:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case vt:return i=n.displayName||null,i!==null?i:De(n.type)||"Memo";case Ee:i=n._payload,n=n._init;try{return De(n(i))}catch{}}return null}function Fe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ue(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $e(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(n){var i=$e(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function sr(n){n._valueTracker||(n._valueTracker=wt(n))}function ts(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=$e(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function xr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function mi(n,i){var a=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ns(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ue(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function mo(n,i){i=i.checked,i!=null&&ee(n,"checked",i,!1)}function go(n,i){mo(n,i);var a=Ue(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?rs(n,i.type,a):i.hasOwnProperty("defaultValue")&&rs(n,i.type,Ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Ba(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function rs(n,i,a){(i!=="number"||xr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var or=Array.isArray;function ar(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function yo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function is(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(or(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Ue(a)}}function ss(n,i){var a=Ue(i.value),c=Ue(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function _o(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function dt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?dt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var lr,vo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(lr=lr||document.createElement("div"),lr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=lr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Pr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(n){yi.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),gi[i]=gi[n]})});function wo(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||gi.hasOwnProperty(n)&&gi[n]?(""+i).trim():i+"px"}function Eo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=wo(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var To=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(n,i){if(i){if(To[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function So(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _i=null;function os(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var as=null,un=null,Bn=null;function ls(n){if(n=Qo(n)){if(typeof as!="function")throw Error(t(280));var i=n.stateNode;i&&(i=_l(i),as(n.stateNode,n.type,i))}}function $n(n){un?Bn?Bn.push(n):Bn=[n]:un=n}function Ro(){if(un){var n=un,i=Bn;if(Bn=un=null,ls(n),i)for(n=0;n<i.length;n++)ls(i[n])}}function vi(n,i){return n(i)}function Ao(){}var ur=!1;function Co(n,i,a){if(ur)return n(i,a);ur=!0;try{return vi(n,i,a)}finally{ur=!1,(un!==null||Bn!==null)&&(Ao(),Ro())}}function st(n,i){var a=n.stateNode;if(a===null)return null;var c=_l(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var us=!1;if(f)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){us=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{us=!1}function wi(n,i,a,c,d,m,v,R,P){var $=Array.prototype.slice.call(arguments,3);try{i.apply(a,$)}catch(J){this.onError(J)}}var Ei=!1,cs=null,In=!1,xo=null,ic={onError:function(n){Ei=!0,cs=n}};function hs(n,i,a,c,d,m,v,R,P){Ei=!1,cs=null,wi.apply(ic,arguments)}function $a(n,i,a,c,d,m,v,R,P){if(hs.apply(this,arguments),Ei){if(Ei){var $=cs;Ei=!1,cs=null}else throw Error(t(198));In||(In=!0,xo=$)}}function Sn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ti(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Rn(n){if(Sn(n)!==n)throw Error(t(188))}function Ha(n){var i=n.alternate;if(!i){if(i=Sn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Rn(d),n;if(m===c)return Rn(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var v=!1,R=d.child;R;){if(R===a){v=!0,a=d,c=m;break}if(R===c){v=!0,c=d,a=m;break}R=R.sibling}if(!v){for(R=m.child;R;){if(R===a){v=!0,a=m,c=d;break}if(R===c){v=!0,c=m,a=d;break}R=R.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Po(n){return n=Ha(n),n!==null?ds(n):null}function ds(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=ds(n);if(i!==null)return i;n=n.sibling}return null}var fs=e.unstable_scheduleCallback,ko=e.unstable_cancelCallback,qa=e.unstable_shouldYield,sc=e.unstable_requestPaint,He=e.unstable_now,Wa=e.unstable_getCurrentPriorityLevel,Ii=e.unstable_ImmediatePriority,kr=e.unstable_UserBlockingPriority,cn=e.unstable_NormalPriority,No=e.unstable_LowPriority,Ka=e.unstable_IdlePriority,Si=null,en=null;function Qa(n){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Si,n,void 0,(n.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Xa,Do=Math.log,Ga=Math.LN2;function Xa(n){return n>>>=0,n===0?32:31-(Do(n)/Ga|0)|0}var ps=64,ms=4194304;function Nr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ri(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,v=a&268435455;if(v!==0){var R=v&~d;R!==0?c=Nr(R):(m&=v,m!==0&&(c=Nr(m)))}else v=a&~d,v!==0?c=Nr(v):m!==0&&(c=Nr(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&d)===0&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-jt(i),d=1<<a,c|=n[a],i&=~d;return c}function oc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var v=31-jt(m),R=1<<v,P=d[v];P===-1?((R&a)===0||(R&c)!==0)&&(d[v]=oc(R,i)):P<=i&&(n.expiredLanes|=R),m&=~R}}function tn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ai(){var n=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),n}function Dr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Vr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-jt(i),n[i]=a}function Be(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-jt(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Lr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-jt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Ne=0;function Or(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Ya,gs,Ja,Za,el,Vo=!1,Hn=[],At=null,An=null,Cn=null,br=new Map,hn=new Map,qn=[],ac="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tl(n,i){switch(n){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":br.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(i.pointerId)}}function qt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Qo(i),i!==null&&gs(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function lc(n,i,a,c,d){switch(i){case"focusin":return At=qt(At,n,i,a,c,d),!0;case"dragenter":return An=qt(An,n,i,a,c,d),!0;case"mouseover":return Cn=qt(Cn,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return br.set(m,qt(br.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,hn.set(m,qt(hn.get(m)||null,n,i,a,c,d)),!0}return!1}function nl(n){var i=Ni(n.target);if(i!==null){var a=Sn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ti(a),i!==null){n.blockedOn=i,el(n.priority,function(){Ja(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ys(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);_i=c,a.target.dispatchEvent(c),_i=null}else return i=Qo(a),i!==null&&gs(i),n.blockedOn=a,!1;i.shift()}return!0}function Ci(n,i,a){hr(n)&&a.delete(i)}function rl(){Vo=!1,At!==null&&hr(At)&&(At=null),An!==null&&hr(An)&&(An=null),Cn!==null&&hr(Cn)&&(Cn=null),br.forEach(Ci),hn.forEach(Ci)}function xn(n,i){n.blockedOn===i&&(n.blockedOn=null,Vo||(Vo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rl)))}function Pn(n){function i(d){return xn(d,n)}if(0<Hn.length){xn(Hn[0],n);for(var a=1;a<Hn.length;a++){var c=Hn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(At!==null&&xn(At,n),An!==null&&xn(An,n),Cn!==null&&xn(Cn,n),br.forEach(i),hn.forEach(i),a=0;a<qn.length;a++)c=qn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)nl(a),a.blockedOn===null&&qn.shift()}var dr=ie.ReactCurrentBatchConfig,Mr=!0;function Ge(n,i,a,c){var d=Ne,m=dr.transition;dr.transition=null;try{Ne=1,Lo(n,i,a,c)}finally{Ne=d,dr.transition=m}}function uc(n,i,a,c){var d=Ne,m=dr.transition;dr.transition=null;try{Ne=4,Lo(n,i,a,c)}finally{Ne=d,dr.transition=m}}function Lo(n,i,a,c){if(Mr){var d=ys(n,i,a,c);if(d===null)wc(n,i,c,xi,a),tl(n,c);else if(lc(d,n,i,a,c))c.stopPropagation();else if(tl(n,c),i&4&&-1<ac.indexOf(n)){for(;d!==null;){var m=Qo(d);if(m!==null&&Ya(m),m=ys(n,i,a,c),m===null&&wc(n,i,c,xi,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else wc(n,i,c,null,a)}}var xi=null;function ys(n,i,a,c){if(xi=null,n=os(c),n=Ni(n),n!==null)if(i=Sn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Ti(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return xi=n,null}function Oo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wa()){case Ii:return 1;case kr:return 4;case cn:case No:return 16;case Ka:return 536870912;default:return 16}default:return 16}}var nn=null,_s=null,Wt=null;function bo(){if(Wt)return Wt;var n,i=_s,a=i.length,c,d="value"in nn?nn.value:nn.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&i[a-c]===d[m-c];c++);return Wt=d.slice(n,1<c?1-c:void 0)}function vs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Wn(){return!0}function Mo(){return!1}function Ct(n){function i(a,c,d,m,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Wn:Mo,this.isPropagationStopped=Mo,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=Ct(kn),Kn=oe({},kn,{view:0,detail:0}),cc=Ct(Kn),Es,fr,Fr,Pi=oe({},Kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fr&&(Fr&&n.type==="mousemove"?(Es=n.screenX-Fr.screenX,fr=n.screenY-Fr.screenY):fr=Es=0,Fr=n),Es)},movementY:function(n){return"movementY"in n?n.movementY:fr}}),Ts=Ct(Pi),Fo=oe({},Pi,{dataTransfer:0}),il=Ct(Fo),Is=oe({},Kn,{relatedTarget:0}),Ss=Ct(Is),sl=oe({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),pr=Ct(sl),ol=oe({},kn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),al=Ct(ol),ll=oe({},kn,{data:0}),Uo=Ct(ll),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ul[n])?!!i[n]:!1}function Qn(){return cl}var l=oe({},Kn,{key:function(n){if(n.key){var i=Rs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=vs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(n){return n.type==="keypress"?vs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Ct(l),_=oe({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Ct(_),U=oe({},Kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),q=Ct(U),ne=oe({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Ct(ne),pt=oe({},Pi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Ct(pt),Et=[9,13,27,32],lt=f&&"CompositionEvent"in window,dn=null;f&&"documentMode"in document&&(dn=document.documentMode);var rn=f&&"TextEvent"in window&&!dn,ki=f&&(!lt||dn&&8<dn&&11>=dn),As=" ",yf=!1;function _f(n,i){switch(n){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Cs=!1;function Ov(n,i){switch(n){case"compositionend":return vf(i);case"keypress":return i.which!==32?null:(yf=!0,As);case"textInput":return n=i.data,n===As&&yf?null:n;default:return null}}function bv(n,i){if(Cs)return n==="compositionend"||!lt&&_f(n,i)?(n=bo(),Wt=_s=nn=null,Cs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ki&&i.locale!=="ko"?null:i.data;default:return null}}var Mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Mv[n.type]:i==="textarea"}function Ef(n,i,a,c){$n(c),i=ml(i,"onChange"),0<i.length&&(a=new ws("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var jo=null,zo=null;function Fv(n){Uf(n,0)}function hl(n){var i=Ds(n);if(ts(i))return n}function Uv(n,i){if(n==="change")return i}var Tf=!1;if(f){var hc;if(f){var dc="oninput"in document;if(!dc){var If=document.createElement("div");If.setAttribute("oninput","return;"),dc=typeof If.oninput=="function"}hc=dc}else hc=!1;Tf=hc&&(!document.documentMode||9<document.documentMode)}function Sf(){jo&&(jo.detachEvent("onpropertychange",Rf),zo=jo=null)}function Rf(n){if(n.propertyName==="value"&&hl(zo)){var i=[];Ef(i,zo,n,os(n)),Co(Fv,i)}}function jv(n,i,a){n==="focusin"?(Sf(),jo=i,zo=a,jo.attachEvent("onpropertychange",Rf)):n==="focusout"&&Sf()}function zv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hl(zo)}function Bv(n,i){if(n==="click")return hl(i)}function $v(n,i){if(n==="input"||n==="change")return hl(i)}function Hv(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Nn=typeof Object.is=="function"?Object.is:Hv;function Bo(n,i){if(Nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!Nn(n[d],i[d]))return!1}return!0}function Af(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cf(n,i){var a=Af(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Af(a)}}function xf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?xf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Pf(){for(var n=window,i=xr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=xr(n.document)}return i}function fc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function qv(n){var i=Pf(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&xf(a.ownerDocument.documentElement,a)){if(c!==null&&fc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=Cf(a,m);var v=Cf(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Wv=f&&"documentMode"in document&&11>=document.documentMode,xs=null,pc=null,$o=null,mc=!1;function kf(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mc||xs==null||xs!==xr(c)||(c=xs,"selectionStart"in c&&fc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),$o&&Bo($o,c)||($o=c,c=ml(pc,"onSelect"),0<c.length&&(i=new ws("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=xs)))}function dl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ps={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},gc={},Nf={};f&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function fl(n){if(gc[n])return gc[n];if(!Ps[n])return n;var i=Ps[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Nf)return gc[n]=i[a];return n}var Df=fl("animationend"),Vf=fl("animationiteration"),Lf=fl("animationstart"),Of=fl("transitionend"),bf=new Map,Mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(n,i){bf.set(n,i),u(i,[n])}for(var yc=0;yc<Mf.length;yc++){var _c=Mf[yc],Kv=_c.toLowerCase(),Qv=_c[0].toUpperCase()+_c.slice(1);Ur(Kv,"on"+Qv)}Ur(Df,"onAnimationEnd"),Ur(Vf,"onAnimationIteration"),Ur(Lf,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Of,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function Ff(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,$a(c,i,void 0,n),n.currentTarget=null}function Uf(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var R=c[v],P=R.instance,$=R.currentTarget;if(R=R.listener,P!==m&&d.isPropagationStopped())break e;Ff(d,R,$),m=P}else for(v=0;v<c.length;v++){if(R=c[v],P=R.instance,$=R.currentTarget,R=R.listener,P!==m&&d.isPropagationStopped())break e;Ff(d,R,$),m=P}}}if(In)throw n=xo,In=!1,xo=null,n}function We(n,i){var a=i[Ac];a===void 0&&(a=i[Ac]=new Set);var c=n+"__bubble";a.has(c)||(jf(i,n,2,!1),a.add(c))}function vc(n,i,a){var c=0;i&&(c|=4),jf(a,n,c,i)}var pl="_reactListening"+Math.random().toString(36).slice(2);function qo(n){if(!n[pl]){n[pl]=!0,s.forEach(function(a){a!=="selectionchange"&&(Gv.has(a)||vc(a,!1,n),vc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[pl]||(i[pl]=!0,vc("selectionchange",!1,i))}}function jf(n,i,a,c){switch(Oo(i)){case 1:var d=Ge;break;case 4:d=uc;break;default:d=Lo}a=d.bind(null,i,a,n),d=void 0,!us||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function wc(n,i,a,c,d){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;v=v.return}for(;R!==null;){if(v=Ni(R),v===null)return;if(P=v.tag,P===5||P===6){c=m=v;continue e}R=R.parentNode}}c=c.return}Co(function(){var $=m,J=os(a),Z=[];e:{var Y=bf.get(n);if(Y!==void 0){var se=ws,ue=n;switch(n){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":ue="focus",se=Ss;break;case"focusout":ue="blur",se=Ss;break;case"beforeblur":case"afterblur":se=Ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=il;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=q;break;case Df:case Vf:case Lf:se=pr;break;case Of:se=ze;break;case"scroll":se=cc;break;case"wheel":se=Ve;break;case"copy":case"cut":case"paste":se=al;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var he=(i&4)!==0,ot=!he&&n==="scroll",j=he?Y!==null?Y+"Capture":null:Y;he=[];for(var D=$,B;D!==null;){B=D;var te=B.stateNode;if(B.tag===5&&te!==null&&(B=te,j!==null&&(te=st(D,j),te!=null&&he.push(Wo(D,te,B)))),ot)break;D=D.return}0<he.length&&(Y=new se(Y,ue,null,a,J),Z.push({event:Y,listeners:he}))}}if((i&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",Y&&a!==_i&&(ue=a.relatedTarget||a.fromElement)&&(Ni(ue)||ue[mr]))break e;if((se||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=$,ue=ue?Ni(ue):null,ue!==null&&(ot=Sn(ue),ue!==ot||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=$),se!==ue)){if(he=Ts,te="onMouseLeave",j="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(he=E,te="onPointerLeave",j="onPointerEnter",D="pointer"),ot=se==null?Y:Ds(se),B=ue==null?Y:Ds(ue),Y=new he(te,D+"leave",se,a,J),Y.target=ot,Y.relatedTarget=B,te=null,Ni(J)===$&&(he=new he(j,D+"enter",ue,a,J),he.target=B,he.relatedTarget=ot,te=he),ot=te,se&&ue)t:{for(he=se,j=ue,D=0,B=he;B;B=ks(B))D++;for(B=0,te=j;te;te=ks(te))B++;for(;0<D-B;)he=ks(he),D--;for(;0<B-D;)j=ks(j),B--;for(;D--;){if(he===j||j!==null&&he===j.alternate)break t;he=ks(he),j=ks(j)}he=null}else he=null;se!==null&&zf(Z,Y,se,he,!1),ue!==null&&ot!==null&&zf(Z,ot,ue,he,!0)}}e:{if(Y=$?Ds($):window,se=Y.nodeName&&Y.nodeName.toLowerCase(),se==="select"||se==="input"&&Y.type==="file")var de=Uv;else if(wf(Y))if(Tf)de=$v;else{de=zv;var ge=jv}else(se=Y.nodeName)&&se.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(de=Bv);if(de&&(de=de(n,$))){Ef(Z,de,a,J);break e}ge&&ge(n,Y,$),n==="focusout"&&(ge=Y._wrapperState)&&ge.controlled&&Y.type==="number"&&rs(Y,"number",Y.value)}switch(ge=$?Ds($):window,n){case"focusin":(wf(ge)||ge.contentEditable==="true")&&(xs=ge,pc=$,$o=null);break;case"focusout":$o=pc=xs=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,kf(Z,a,J);break;case"selectionchange":if(Wv)break;case"keydown":case"keyup":kf(Z,a,J)}var ye;if(lt)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Cs?_f(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(ki&&a.locale!=="ko"&&(Cs||we!=="onCompositionStart"?we==="onCompositionEnd"&&Cs&&(ye=bo()):(nn=J,_s="value"in nn?nn.value:nn.textContent,Cs=!0)),ge=ml($,we),0<ge.length&&(we=new Uo(we,n,null,a,J),Z.push({event:we,listeners:ge}),ye?we.data=ye:(ye=vf(a),ye!==null&&(we.data=ye)))),(ye=rn?Ov(n,a):bv(n,a))&&($=ml($,"onBeforeInput"),0<$.length&&(J=new Uo("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:$}),J.data=ye))}Uf(Z,i)})}function Wo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function ml(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=st(n,a),m!=null&&c.unshift(Wo(n,m,d)),m=st(n,i),m!=null&&c.push(Wo(n,m,d))),n=n.return}return c}function ks(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function zf(n,i,a,c,d){for(var m=i._reactName,v=[];a!==null&&a!==c;){var R=a,P=R.alternate,$=R.stateNode;if(P!==null&&P===c)break;R.tag===5&&$!==null&&(R=$,d?(P=st(a,m),P!=null&&v.unshift(Wo(a,P,R))):d||(P=st(a,m),P!=null&&v.push(Wo(a,P,R)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var Xv=/\r\n?/g,Yv=/\u0000|\uFFFD/g;function Bf(n){return(typeof n=="string"?n:""+n).replace(Xv,`
`).replace(Yv,"")}function gl(n,i,a){if(i=Bf(i),Bf(n)!==i&&a)throw Error(t(425))}function yl(){}var Ec=null,Tc=null;function Ic(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,Jv=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,Zv=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(n){return $f.resolve(null).then(n).catch(ew)}:Sc;function ew(n){setTimeout(function(){throw n})}function Rc(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Pn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Pn(i)}function jr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Hf(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Ns,Ko="__reactProps$"+Ns,mr="__reactContainer$"+Ns,Ac="__reactEvents$"+Ns,tw="__reactListeners$"+Ns,nw="__reactHandles$"+Ns;function Ni(n){var i=n[Gn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[mr]||a[Gn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Hf(n);n!==null;){if(a=n[Gn])return a;n=Hf(n)}return i}n=a,a=n.parentNode}return null}function Qo(n){return n=n[Gn]||n[mr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ds(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function _l(n){return n[Ko]||null}var Cc=[],Vs=-1;function zr(n){return{current:n}}function Ke(n){0>Vs||(n.current=Cc[Vs],Cc[Vs]=null,Vs--)}function qe(n,i){Vs++,Cc[Vs]=n.current,n.current=i}var Br={},Vt=zr(Br),Kt=zr(!1),Di=Br;function Ls(n,i){var a=n.type.contextTypes;if(!a)return Br;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Qt(n){return n=n.childContextTypes,n!=null}function vl(){Ke(Kt),Ke(Vt)}function qf(n,i,a){if(Vt.current!==Br)throw Error(t(168));qe(Vt,i),qe(Kt,a)}function Wf(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Fe(n)||"Unknown",d));return oe({},a,c)}function wl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Br,Di=Vt.current,qe(Vt,n),qe(Kt,Kt.current),!0}function Kf(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Wf(n,i,Di),c.__reactInternalMemoizedMergedChildContext=n,Ke(Kt),Ke(Vt),qe(Vt,n)):Ke(Kt),qe(Kt,a)}var gr=null,El=!1,xc=!1;function Qf(n){gr===null?gr=[n]:gr.push(n)}function rw(n){El=!0,Qf(n)}function $r(){if(!xc&&gr!==null){xc=!0;var n=0,i=Ne;try{var a=gr;for(Ne=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}gr=null,El=!1}catch(d){throw gr!==null&&(gr=gr.slice(n+1)),fs(Ii,$r),d}finally{Ne=i,xc=!1}}return null}var Os=[],bs=0,Tl=null,Il=0,fn=[],pn=0,Vi=null,yr=1,_r="";function Li(n,i){Os[bs++]=Il,Os[bs++]=Tl,Tl=n,Il=i}function Gf(n,i,a){fn[pn++]=yr,fn[pn++]=_r,fn[pn++]=Vi,Vi=n;var c=yr;n=_r;var d=32-jt(c)-1;c&=~(1<<d),a+=1;var m=32-jt(i)+d;if(30<m){var v=d-d%5;m=(c&(1<<v)-1).toString(32),c>>=v,d-=v,yr=1<<32-jt(i)+d|a<<d|c,_r=m+n}else yr=1<<m|a<<d|c,_r=n}function Pc(n){n.return!==null&&(Li(n,1),Gf(n,1,0))}function kc(n){for(;n===Tl;)Tl=Os[--bs],Os[bs]=null,Il=Os[--bs],Os[bs]=null;for(;n===Vi;)Vi=fn[--pn],fn[pn]=null,_r=fn[--pn],fn[pn]=null,yr=fn[--pn],fn[pn]=null}var sn=null,on=null,Xe=!1,Dn=null;function Xf(n,i){var a=_n(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Yf(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,sn=n,on=jr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,sn=n,on=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Vi!==null?{id:yr,overflow:_r}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=_n(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,sn=n,on=null,!0):!1;default:return!1}}function Nc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Dc(n){if(Xe){var i=on;if(i){var a=i;if(!Yf(n,i)){if(Nc(n))throw Error(t(418));i=jr(a.nextSibling);var c=sn;i&&Yf(n,i)?Xf(c,a):(n.flags=n.flags&-4097|2,Xe=!1,sn=n)}}else{if(Nc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Xe=!1,sn=n}}}function Jf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sn=n}function Sl(n){if(n!==sn)return!1;if(!Xe)return Jf(n),Xe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Ic(n.type,n.memoizedProps)),i&&(i=on)){if(Nc(n))throw Zf(),Error(t(418));for(;i;)Xf(n,i),i=jr(i.nextSibling)}if(Jf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){on=jr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}on=null}}else on=sn?jr(n.stateNode.nextSibling):null;return!0}function Zf(){for(var n=on;n;)n=jr(n.nextSibling)}function Ms(){on=sn=null,Xe=!1}function Vc(n){Dn===null?Dn=[n]:Dn.push(n)}var iw=ie.ReactCurrentBatchConfig;function Go(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var R=d.refs;v===null?delete R[m]:R[m]=v},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Rl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function ep(n){var i=n._init;return i(n._payload)}function tp(n){function i(j,D){if(n){var B=j.deletions;B===null?(j.deletions=[D],j.flags|=16):B.push(D)}}function a(j,D){if(!n)return null;for(;D!==null;)i(j,D),D=D.sibling;return null}function c(j,D){for(j=new Map;D!==null;)D.key!==null?j.set(D.key,D):j.set(D.index,D),D=D.sibling;return j}function d(j,D){return j=Yr(j,D),j.index=0,j.sibling=null,j}function m(j,D,B){return j.index=B,n?(B=j.alternate,B!==null?(B=B.index,B<D?(j.flags|=2,D):B):(j.flags|=2,D)):(j.flags|=1048576,D)}function v(j){return n&&j.alternate===null&&(j.flags|=2),j}function R(j,D,B,te){return D===null||D.tag!==6?(D=Sh(B,j.mode,te),D.return=j,D):(D=d(D,B),D.return=j,D)}function P(j,D,B,te){var de=B.type;return de===N?J(j,D,B.props.children,te,B.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ee&&ep(de)===D.type)?(te=d(D,B.props),te.ref=Go(j,D,B),te.return=j,te):(te=Gl(B.type,B.key,B.props,null,j.mode,te),te.ref=Go(j,D,B),te.return=j,te)}function $(j,D,B,te){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Rh(B,j.mode,te),D.return=j,D):(D=d(D,B.children||[]),D.return=j,D)}function J(j,D,B,te,de){return D===null||D.tag!==7?(D=Bi(B,j.mode,te,de),D.return=j,D):(D=d(D,B),D.return=j,D)}function Z(j,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Sh(""+D,j.mode,B),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ie:return B=Gl(D.type,D.key,D.props,null,j.mode,B),B.ref=Go(j,null,D),B.return=j,B;case ve:return D=Rh(D,j.mode,B),D.return=j,D;case Ee:var te=D._init;return Z(j,te(D._payload),B)}if(or(D)||pe(D))return D=Bi(D,j.mode,B,null),D.return=j,D;Rl(j,D)}return null}function Y(j,D,B,te){var de=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return de!==null?null:R(j,D,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ie:return B.key===de?P(j,D,B,te):null;case ve:return B.key===de?$(j,D,B,te):null;case Ee:return de=B._init,Y(j,D,de(B._payload),te)}if(or(B)||pe(B))return de!==null?null:J(j,D,B,te,null);Rl(j,B)}return null}function se(j,D,B,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return j=j.get(B)||null,R(D,j,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Ie:return j=j.get(te.key===null?B:te.key)||null,P(D,j,te,de);case ve:return j=j.get(te.key===null?B:te.key)||null,$(D,j,te,de);case Ee:var ge=te._init;return se(j,D,B,ge(te._payload),de)}if(or(te)||pe(te))return j=j.get(B)||null,J(D,j,te,de,null);Rl(D,te)}return null}function ue(j,D,B,te){for(var de=null,ge=null,ye=D,we=D=0,St=null;ye!==null&&we<B.length;we++){ye.index>we?(St=ye,ye=null):St=ye.sibling;var Me=Y(j,ye,B[we],te);if(Me===null){ye===null&&(ye=St);break}n&&ye&&Me.alternate===null&&i(j,ye),D=m(Me,D,we),ge===null?de=Me:ge.sibling=Me,ge=Me,ye=St}if(we===B.length)return a(j,ye),Xe&&Li(j,we),de;if(ye===null){for(;we<B.length;we++)ye=Z(j,B[we],te),ye!==null&&(D=m(ye,D,we),ge===null?de=ye:ge.sibling=ye,ge=ye);return Xe&&Li(j,we),de}for(ye=c(j,ye);we<B.length;we++)St=se(ye,j,we,B[we],te),St!==null&&(n&&St.alternate!==null&&ye.delete(St.key===null?we:St.key),D=m(St,D,we),ge===null?de=St:ge.sibling=St,ge=St);return n&&ye.forEach(function(Jr){return i(j,Jr)}),Xe&&Li(j,we),de}function he(j,D,B,te){var de=pe(B);if(typeof de!="function")throw Error(t(150));if(B=de.call(B),B==null)throw Error(t(151));for(var ge=de=null,ye=D,we=D=0,St=null,Me=B.next();ye!==null&&!Me.done;we++,Me=B.next()){ye.index>we?(St=ye,ye=null):St=ye.sibling;var Jr=Y(j,ye,Me.value,te);if(Jr===null){ye===null&&(ye=St);break}n&&ye&&Jr.alternate===null&&i(j,ye),D=m(Jr,D,we),ge===null?de=Jr:ge.sibling=Jr,ge=Jr,ye=St}if(Me.done)return a(j,ye),Xe&&Li(j,we),de;if(ye===null){for(;!Me.done;we++,Me=B.next())Me=Z(j,Me.value,te),Me!==null&&(D=m(Me,D,we),ge===null?de=Me:ge.sibling=Me,ge=Me);return Xe&&Li(j,we),de}for(ye=c(j,ye);!Me.done;we++,Me=B.next())Me=se(ye,j,we,Me.value,te),Me!==null&&(n&&Me.alternate!==null&&ye.delete(Me.key===null?we:Me.key),D=m(Me,D,we),ge===null?de=Me:ge.sibling=Me,ge=Me);return n&&ye.forEach(function(Mw){return i(j,Mw)}),Xe&&Li(j,we),de}function ot(j,D,B,te){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Ie:e:{for(var de=B.key,ge=D;ge!==null;){if(ge.key===de){if(de=B.type,de===N){if(ge.tag===7){a(j,ge.sibling),D=d(ge,B.props.children),D.return=j,j=D;break e}}else if(ge.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ee&&ep(de)===ge.type){a(j,ge.sibling),D=d(ge,B.props),D.ref=Go(j,ge,B),D.return=j,j=D;break e}a(j,ge);break}else i(j,ge);ge=ge.sibling}B.type===N?(D=Bi(B.props.children,j.mode,te,B.key),D.return=j,j=D):(te=Gl(B.type,B.key,B.props,null,j.mode,te),te.ref=Go(j,D,B),te.return=j,j=te)}return v(j);case ve:e:{for(ge=B.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){a(j,D.sibling),D=d(D,B.children||[]),D.return=j,j=D;break e}else{a(j,D);break}else i(j,D);D=D.sibling}D=Rh(B,j.mode,te),D.return=j,j=D}return v(j);case Ee:return ge=B._init,ot(j,D,ge(B._payload),te)}if(or(B))return ue(j,D,B,te);if(pe(B))return he(j,D,B,te);Rl(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,D!==null&&D.tag===6?(a(j,D.sibling),D=d(D,B),D.return=j,j=D):(a(j,D),D=Sh(B,j.mode,te),D.return=j,j=D),v(j)):a(j,D)}return ot}var Fs=tp(!0),np=tp(!1),Al=zr(null),Cl=null,Us=null,Lc=null;function Oc(){Lc=Us=Cl=null}function bc(n){var i=Al.current;Ke(Al),n._currentValue=i}function Mc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function js(n,i){Cl=n,Lc=Us=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Gt=!0),n.firstContext=null)}function mn(n){var i=n._currentValue;if(Lc!==n)if(n={context:n,memoizedValue:i,next:null},Us===null){if(Cl===null)throw Error(t(308));Us=n,Cl.dependencies={lanes:0,firstContext:n}}else Us=Us.next=n;return i}var Oi=null;function Fc(n){Oi===null?Oi=[n]:Oi.push(n)}function rp(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,Fc(i)):(a.next=d.next,d.next=a),i.interleaved=a,vr(n,c)}function vr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Hr=!1;function Uc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ip(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function wr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function qr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(be&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,vr(n,a)}return d=c.interleaved,d===null?(i.next=i,Fc(c)):(i.next=d.next,d.next=i),c.interleaved=i,vr(n,a)}function xl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Lr(n,a)}}function sp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Pl(n,i,a,c){var d=n.updateQueue;Hr=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var P=R,$=P.next;P.next=null,v===null?m=$:v.next=$,v=P;var J=n.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==v&&(R===null?J.firstBaseUpdate=$:R.next=$,J.lastBaseUpdate=P))}if(m!==null){var Z=d.baseState;v=0,J=$=P=null,R=m;do{var Y=R.lane,se=R.eventTime;if((c&Y)===Y){J!==null&&(J=J.next={eventTime:se,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ue=n,he=R;switch(Y=i,se=a,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){Z=ue.call(se,Z,Y);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,Y=typeof ue=="function"?ue.call(se,Z,Y):ue,Y==null)break e;Z=oe({},Z,Y);break e;case 2:Hr=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,Y=d.effects,Y===null?d.effects=[R]:Y.push(R))}else se={eventTime:se,lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?($=J=se,P=Z):J=J.next=se,v|=Y;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;Y=R,R=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(J===null&&(P=Z),d.baseState=P,d.firstBaseUpdate=$,d.lastBaseUpdate=J,i=d.shared.interleaved,i!==null){d=i;do v|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);Fi|=v,n.lanes=v,n.memoizedState=Z}}function op(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Xo={},Xn=zr(Xo),Yo=zr(Xo),Jo=zr(Xo);function bi(n){if(n===Xo)throw Error(t(174));return n}function jc(n,i){switch(qe(Jo,i),qe(Yo,n),qe(Xn,Xo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ft(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ft(i,n)}Ke(Xn),qe(Xn,i)}function zs(){Ke(Xn),Ke(Yo),Ke(Jo)}function ap(n){bi(Jo.current);var i=bi(Xn.current),a=ft(i,n.type);i!==a&&(qe(Yo,n),qe(Xn,a))}function zc(n){Yo.current===n&&(Ke(Xn),Ke(Yo))}var Ze=zr(0);function kl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bc=[];function $c(){for(var n=0;n<Bc.length;n++)Bc[n]._workInProgressVersionPrimary=null;Bc.length=0}var Nl=ie.ReactCurrentDispatcher,Hc=ie.ReactCurrentBatchConfig,Mi=0,et=null,mt=null,Tt=null,Dl=!1,Zo=!1,ea=0,sw=0;function Lt(){throw Error(t(321))}function qc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Nn(n[a],i[a]))return!1;return!0}function Wc(n,i,a,c,d,m){if(Mi=m,et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Nl.current=n===null||n.memoizedState===null?uw:cw,n=a(c,d),Zo){m=0;do{if(Zo=!1,ea=0,25<=m)throw Error(t(301));m+=1,Tt=mt=null,i.updateQueue=null,Nl.current=hw,n=a(c,d)}while(Zo)}if(Nl.current=Ol,i=mt!==null&&mt.next!==null,Mi=0,Tt=mt=et=null,Dl=!1,i)throw Error(t(300));return n}function Kc(){var n=ea!==0;return ea=0,n}function Yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?et.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function gn(){if(mt===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var i=Tt===null?et.memoizedState:Tt.next;if(i!==null)Tt=i,mt=n;else{if(n===null)throw Error(t(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?et.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function ta(n,i){return typeof i=="function"?i(n):i}function Qc(n){var i=gn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=mt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var R=v=null,P=null,$=m;do{var J=$.lane;if((Mi&J)===J)P!==null&&(P=P.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:n(c,$.action);else{var Z={lane:J,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};P===null?(R=P=Z,v=c):P=P.next=Z,et.lanes|=J,Fi|=J}$=$.next}while($!==null&&$!==m);P===null?v=c:P.next=R,Nn(c,i.memoizedState)||(Gt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,et.lanes|=m,Fi|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Gc(n){var i=gn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do m=n(m,v.action),v=v.next;while(v!==d);Nn(m,i.memoizedState)||(Gt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function lp(){}function up(n,i){var a=et,c=gn(),d=i(),m=!Nn(c.memoizedState,d);if(m&&(c.memoizedState=d,Gt=!0),c=c.queue,Xc(dp.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,na(9,hp.bind(null,a,c,d,i),void 0,null),It===null)throw Error(t(349));(Mi&30)!==0||cp(a,i,d)}return d}function cp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=et.updateQueue,i===null?(i={lastEffect:null,stores:null},et.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function hp(n,i,a,c){i.value=a,i.getSnapshot=c,fp(i)&&pp(n)}function dp(n,i,a){return a(function(){fp(i)&&pp(n)})}function fp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Nn(n,a)}catch{return!0}}function pp(n){var i=vr(n,1);i!==null&&bn(i,n,1,-1)}function mp(n){var i=Yn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:n},i.queue=n,n=n.dispatch=lw.bind(null,et,n),[i.memoizedState,n]}function na(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=et.updateQueue,i===null?(i={lastEffect:null,stores:null},et.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function gp(){return gn().memoizedState}function Vl(n,i,a,c){var d=Yn();et.flags|=n,d.memoizedState=na(1|i,a,void 0,c===void 0?null:c)}function Ll(n,i,a,c){var d=gn();c=c===void 0?null:c;var m=void 0;if(mt!==null){var v=mt.memoizedState;if(m=v.destroy,c!==null&&qc(c,v.deps)){d.memoizedState=na(i,a,m,c);return}}et.flags|=n,d.memoizedState=na(1|i,a,m,c)}function yp(n,i){return Vl(8390656,8,n,i)}function Xc(n,i){return Ll(2048,8,n,i)}function _p(n,i){return Ll(4,2,n,i)}function vp(n,i){return Ll(4,4,n,i)}function wp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Ep(n,i,a){return a=a!=null?a.concat([n]):null,Ll(4,4,wp.bind(null,i,n),a)}function Yc(){}function Tp(n,i){var a=gn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&qc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Ip(n,i){var a=gn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&qc(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Sp(n,i,a){return(Mi&21)===0?(n.baseState&&(n.baseState=!1,Gt=!0),n.memoizedState=a):(Nn(a,i)||(a=Ai(),et.lanes|=a,Fi|=a,n.baseState=!0),i)}function ow(n,i){var a=Ne;Ne=a!==0&&4>a?a:4,n(!0);var c=Hc.transition;Hc.transition={};try{n(!1),i()}finally{Ne=a,Hc.transition=c}}function Rp(){return gn().memoizedState}function aw(n,i,a){var c=Gr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Ap(n))Cp(i,a);else if(a=rp(n,i,a,c),a!==null){var d=$t();bn(a,n,c,d),xp(a,i,c)}}function lw(n,i,a){var c=Gr(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ap(n))Cp(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,R=m(v,a);if(d.hasEagerState=!0,d.eagerState=R,Nn(R,v)){var P=i.interleaved;P===null?(d.next=d,Fc(i)):(d.next=P.next,P.next=d),i.interleaved=d;return}}catch{}finally{}a=rp(n,i,d,c),a!==null&&(d=$t(),bn(a,n,c,d),xp(a,i,c))}}function Ap(n){var i=n.alternate;return n===et||i!==null&&i===et}function Cp(n,i){Zo=Dl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function xp(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Lr(n,a)}}var Ol={readContext:mn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},uw={readContext:mn,useCallback:function(n,i){return Yn().memoizedState=[n,i===void 0?null:i],n},useContext:mn,useEffect:yp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Vl(4194308,4,wp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Vl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Vl(4,2,n,i)},useMemo:function(n,i){var a=Yn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Yn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=aw.bind(null,et,n),[c.memoizedState,n]},useRef:function(n){var i=Yn();return n={current:n},i.memoizedState=n},useState:mp,useDebugValue:Yc,useDeferredValue:function(n){return Yn().memoizedState=n},useTransition:function(){var n=mp(!1),i=n[0];return n=ow.bind(null,n[1]),Yn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=et,d=Yn();if(Xe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),It===null)throw Error(t(349));(Mi&30)!==0||cp(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,yp(dp.bind(null,c,m,n),[n]),c.flags|=2048,na(9,hp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Yn(),i=It.identifierPrefix;if(Xe){var a=_r,c=yr;a=(c&~(1<<32-jt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ea++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=sw++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},cw={readContext:mn,useCallback:Tp,useContext:mn,useEffect:Xc,useImperativeHandle:Ep,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Ip,useReducer:Qc,useRef:gp,useState:function(){return Qc(ta)},useDebugValue:Yc,useDeferredValue:function(n){var i=gn();return Sp(i,mt.memoizedState,n)},useTransition:function(){var n=Qc(ta)[0],i=gn().memoizedState;return[n,i]},useMutableSource:lp,useSyncExternalStore:up,useId:Rp,unstable_isNewReconciler:!1},hw={readContext:mn,useCallback:Tp,useContext:mn,useEffect:Xc,useImperativeHandle:Ep,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Ip,useReducer:Gc,useRef:gp,useState:function(){return Gc(ta)},useDebugValue:Yc,useDeferredValue:function(n){var i=gn();return mt===null?i.memoizedState=n:Sp(i,mt.memoizedState,n)},useTransition:function(){var n=Gc(ta)[0],i=gn().memoizedState;return[n,i]},useMutableSource:lp,useSyncExternalStore:up,useId:Rp,unstable_isNewReconciler:!1};function Vn(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Jc(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:oe({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var bl={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=$t(),d=Gr(n),m=wr(c,d);m.payload=i,a!=null&&(m.callback=a),i=qr(n,m,d),i!==null&&(bn(i,n,d,c),xl(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=$t(),d=Gr(n),m=wr(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=qr(n,m,d),i!==null&&(bn(i,n,d,c),xl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=$t(),c=Gr(n),d=wr(a,c);d.tag=2,i!=null&&(d.callback=i),i=qr(n,d,c),i!==null&&(bn(i,n,c,a),xl(i,n,c))}};function Pp(n,i,a,c,d,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!Bo(a,c)||!Bo(d,m):!0}function kp(n,i,a){var c=!1,d=Br,m=i.contextType;return typeof m=="object"&&m!==null?m=mn(m):(d=Qt(i)?Di:Vt.current,c=i.contextTypes,m=(c=c!=null)?Ls(n,d):Br),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=bl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function Np(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&bl.enqueueReplaceState(i,i.state,null)}function Zc(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Uc(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=mn(m):(m=Qt(i)?Di:Vt.current,d.context=Ls(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Jc(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&bl.enqueueReplaceState(d,d.state,null),Pl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Bs(n,i){try{var a="",c=i;do a+=xe(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function eh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function th(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var dw=typeof WeakMap=="function"?WeakMap:Map;function Dp(n,i,a){a=wr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){$l||($l=!0,gh=c),th(n,i)},a}function Vp(n,i,a){a=wr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){th(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){th(n,i),typeof c!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function Lp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new dw;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=Aw.bind(null,n,i,a),i.then(n,n))}function Op(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function bp(n,i,a,c,d){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=wr(-1,1),i.tag=2,qr(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var fw=ie.ReactCurrentOwner,Gt=!1;function Bt(n,i,a,c){i.child=n===null?np(i,null,a,c):Fs(i,n.child,a,c)}function Mp(n,i,a,c,d){a=a.render;var m=i.ref;return js(i,d),c=Wc(n,i,a,c,m,d),a=Kc(),n!==null&&!Gt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Er(n,i,d)):(Xe&&a&&Pc(i),i.flags|=1,Bt(n,i,c,d),i.child)}function Fp(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!Ih(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Up(n,i,m,c,d)):(n=Gl(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&d)===0){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(v,c)&&n.ref===i.ref)return Er(n,i,d)}return i.flags|=1,n=Yr(m,c),n.ref=i.ref,n.return=i,i.child=n}function Up(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(Bo(m,c)&&n.ref===i.ref)if(Gt=!1,i.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Gt=!0);else return i.lanes=n.lanes,Er(n,i,d)}return nh(n,i,a,c,d)}function jp(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Hs,an),an|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,qe(Hs,an),an|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,qe(Hs,an),an|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,qe(Hs,an),an|=c;return Bt(n,i,d,a),i.child}function zp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function nh(n,i,a,c,d){var m=Qt(a)?Di:Vt.current;return m=Ls(i,m),js(i,d),a=Wc(n,i,a,c,m,d),c=Kc(),n!==null&&!Gt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Er(n,i,d)):(Xe&&c&&Pc(i),i.flags|=1,Bt(n,i,a,d),i.child)}function Bp(n,i,a,c,d){if(Qt(a)){var m=!0;wl(i)}else m=!1;if(js(i,d),i.stateNode===null)Fl(n,i),kp(i,a,c),Zc(i,a,c,d),c=!0;else if(n===null){var v=i.stateNode,R=i.memoizedProps;v.props=R;var P=v.context,$=a.contextType;typeof $=="object"&&$!==null?$=mn($):($=Qt(a)?Di:Vt.current,$=Ls(i,$));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function";Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==c||P!==$)&&Np(i,v,c,$),Hr=!1;var Y=i.memoizedState;v.state=Y,Pl(i,c,v,d),P=i.memoizedState,R!==c||Y!==P||Kt.current||Hr?(typeof J=="function"&&(Jc(i,a,J,c),P=i.memoizedState),(R=Hr||Pp(i,a,R,c,Y,P,$))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),v.props=c,v.state=P,v.context=$,c=R):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,ip(n,i),R=i.memoizedProps,$=i.type===i.elementType?R:Vn(i.type,R),v.props=$,Z=i.pendingProps,Y=v.context,P=a.contextType,typeof P=="object"&&P!==null?P=mn(P):(P=Qt(a)?Di:Vt.current,P=Ls(i,P));var se=a.getDerivedStateFromProps;(J=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==Z||Y!==P)&&Np(i,v,c,P),Hr=!1,Y=i.memoizedState,v.state=Y,Pl(i,c,v,d);var ue=i.memoizedState;R!==Z||Y!==ue||Kt.current||Hr?(typeof se=="function"&&(Jc(i,a,se,c),ue=i.memoizedState),($=Hr||Pp(i,a,$,c,Y,ue,P)||!1)?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ue,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ue,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),v.props=c,v.state=ue,v.context=P,c=$):(typeof v.componentDidUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),c=!1)}return rh(n,i,a,c,m,d)}function rh(n,i,a,c,d,m){zp(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return d&&Kf(i,a,!1),Er(n,i,m);c=i.stateNode,fw.current=i;var R=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=Fs(i,n.child,null,m),i.child=Fs(i,null,R,m)):Bt(n,i,R,m),i.memoizedState=c.state,d&&Kf(i,a,!0),i.child}function $p(n){var i=n.stateNode;i.pendingContext?qf(n,i.pendingContext,i.pendingContext!==i.context):i.context&&qf(n,i.context,!1),jc(n,i.containerInfo)}function Hp(n,i,a,c,d){return Ms(),Vc(d),i.flags|=256,Bt(n,i,a,c),i.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function sh(n){return{baseLanes:n,cachePool:null,transitions:null}}function qp(n,i,a){var c=i.pendingProps,d=Ze.current,m=!1,v=(i.flags&128)!==0,R;if((R=v)||(R=n!==null&&n.memoizedState===null?!1:(d&2)!==0),R?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),qe(Ze,d&1),n===null)return Dc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=c.children,n=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=Xl(v,c,0,null),n=Bi(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=sh(a),i.memoizedState=ih,n):oh(i,v));if(d=n.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return pw(n,i,v,c,R,d,a);if(m){m=c.fallback,v=i.mode,d=n.child,R=d.sibling;var P={mode:"hidden",children:c.children};return(v&1)===0&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=Yr(d,P),c.subtreeFlags=d.subtreeFlags&14680064),R!==null?m=Yr(R,m):(m=Bi(m,v,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=n.child.memoizedState,v=v===null?sh(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=n.childLanes&~a,i.memoizedState=ih,c}return m=n.child,n=m.sibling,c=Yr(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function oh(n,i){return i=Xl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Ml(n,i,a,c){return c!==null&&Vc(c),Fs(i,n.child,null,a),n=oh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function pw(n,i,a,c,d,m,v){if(a)return i.flags&256?(i.flags&=-257,c=eh(Error(t(422))),Ml(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=Xl({mode:"visible",children:c.children},d,0,null),m=Bi(m,d,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&Fs(i,n.child,null,v),i.child.memoizedState=sh(v),i.memoizedState=ih,m);if((i.mode&1)===0)return Ml(n,i,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var R=c.dgst;return c=R,m=Error(t(419)),c=eh(m,c,void 0),Ml(n,i,v,c)}if(R=(v&n.childLanes)!==0,Gt||R){if(c=It,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,vr(n,d),bn(c,n,d,-1))}return Th(),c=eh(Error(t(421))),Ml(n,i,v,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=Cw.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,on=jr(d.nextSibling),sn=i,Xe=!0,Dn=null,n!==null&&(fn[pn++]=yr,fn[pn++]=_r,fn[pn++]=Vi,yr=n.id,_r=n.overflow,Vi=i),i=oh(i,c.children),i.flags|=4096,i)}function Wp(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Mc(n.return,i,a)}function ah(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Kp(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(Bt(n,i,c.children,a),c=Ze.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wp(n,a,i);else if(n.tag===19)Wp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Ze,c),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&kl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),ah(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&kl(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}ah(i,!0,a,null,m);break;case"together":ah(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Er(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Fi|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Yr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Yr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function mw(n,i,a){switch(i.tag){case 3:$p(i),Ms();break;case 5:ap(i);break;case 1:Qt(i.type)&&wl(i);break;case 4:jc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;qe(Al,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(qe(Ze,Ze.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?qp(n,i,a):(qe(Ze,Ze.current&1),n=Er(n,i,a),n!==null?n.sibling:null);qe(Ze,Ze.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Kp(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Ze,Ze.current),c)break;return null;case 22:case 23:return i.lanes=0,jp(n,i,a)}return Er(n,i,a)}var Qp,lh,Gp,Xp;Qp=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},lh=function(){},Gp=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,bi(Xn.current);var m=null;switch(a){case"input":d=mi(n,d),c=mi(n,c),m=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),m=[];break;case"textarea":d=yo(n,d),c=yo(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=yl)}Io(a,c);var v;a=null;for($ in d)if(!c.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var R=d[$];for(v in R)R.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?m||(m=[]):(m=m||[]).push($,null));for($ in c){var P=c[$];if(R=d!=null?d[$]:void 0,c.hasOwnProperty($)&&P!==R&&(P!=null||R!=null))if($==="style")if(R){for(v in R)!R.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in P)P.hasOwnProperty(v)&&R[v]!==P[v]&&(a||(a={}),a[v]=P[v])}else a||(m||(m=[]),m.push($,a)),a=P;else $==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,R=R?R.__html:void 0,P!=null&&R!==P&&(m=m||[]).push($,P)):$==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push($,""+P):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(P!=null&&$==="onScroll"&&We("scroll",n),m||R===P||(m=[])):(m=m||[]).push($,P))}a&&(m=m||[]).push("style",a);var $=m;(i.updateQueue=$)&&(i.flags|=4)}},Xp=function(n,i,a,c){a!==c&&(i.flags|=4)};function ra(n,i){if(!Xe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function gw(n,i,a){var c=i.pendingProps;switch(kc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Qt(i.type)&&vl(),Ot(i),null;case 3:return c=i.stateNode,zs(),Ke(Kt),Ke(Vt),$c(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Sl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dn!==null&&(vh(Dn),Dn=null))),lh(n,i),Ot(i),null;case 5:zc(i);var d=bi(Jo.current);if(a=i.type,n!==null&&i.stateNode!=null)Gp(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Ot(i),null}if(n=bi(Xn.current),Sl(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Gn]=i,c[Ko]=m,n=(i.mode&1)!==0,a){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(d=0;d<Ho.length;d++)We(Ho[d],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":ns(c,m),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},We("invalid",c);break;case"textarea":is(c,m),We("invalid",c)}Io(a,m),d=null;for(var v in m)if(m.hasOwnProperty(v)){var R=m[v];v==="children"?typeof R=="string"?c.textContent!==R&&(m.suppressHydrationWarning!==!0&&gl(c.textContent,R,n),d=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(m.suppressHydrationWarning!==!0&&gl(c.textContent,R,n),d=["children",""+R]):o.hasOwnProperty(v)&&R!=null&&v==="onScroll"&&We("scroll",c)}switch(a){case"input":sr(c),Ba(c,m,!0);break;case"textarea":sr(c),_o(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=yl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=dt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[Gn]=i,n[Ko]=c,Qp(n,i,!1,!1),i.stateNode=n;e:{switch(v=So(a,c),a){case"dialog":We("cancel",n),We("close",n),d=c;break;case"iframe":case"object":case"embed":We("load",n),d=c;break;case"video":case"audio":for(d=0;d<Ho.length;d++)We(Ho[d],n);d=c;break;case"source":We("error",n),d=c;break;case"img":case"image":case"link":We("error",n),We("load",n),d=c;break;case"details":We("toggle",n),d=c;break;case"input":ns(n,c),d=mi(n,c),We("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),We("invalid",n);break;case"textarea":is(n,c),d=yo(n,c),We("invalid",n);break;default:d=c}Io(a,d),R=d;for(m in R)if(R.hasOwnProperty(m)){var P=R[m];m==="style"?Eo(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&vo(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Pr(n,P):typeof P=="number"&&Pr(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&We("scroll",n):P!=null&&ee(n,m,P,v))}switch(a){case"input":sr(n),Ba(n,c,!1);break;case"textarea":sr(n),_o(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ue(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?ar(n,!!c.multiple,m,!1):c.defaultValue!=null&&ar(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=yl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ot(i),null;case 6:if(n&&i.stateNode!=null)Xp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=bi(Jo.current),bi(Xn.current),Sl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Gn]=i,(m=c.nodeValue!==a)&&(n=sn,n!==null))switch(n.tag){case 3:gl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&gl(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Gn]=i,i.stateNode=c}return Ot(i),null;case 13:if(Ke(Ze),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xe&&on!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Zf(),Ms(),i.flags|=98560,m=!1;else if(m=Sl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Gn]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),m=!1}else Dn!==null&&(vh(Dn),Dn=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Ze.current&1)!==0?gt===0&&(gt=3):Th())),i.updateQueue!==null&&(i.flags|=4),Ot(i),null);case 4:return zs(),lh(n,i),n===null&&qo(i.stateNode.containerInfo),Ot(i),null;case 10:return bc(i.type._context),Ot(i),null;case 17:return Qt(i.type)&&vl(),Ot(i),null;case 19:if(Ke(Ze),m=i.memoizedState,m===null)return Ot(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)ra(m,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=kl(n),v!==null){for(i.flags|=128,ra(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,n=v.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return qe(Ze,Ze.current&1|2),i.child}n=n.sibling}m.tail!==null&&He()>qs&&(i.flags|=128,c=!0,ra(m,!1),i.lanes=4194304)}else{if(!c)if(n=kl(v),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ra(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Xe)return Ot(i),null}else 2*He()-m.renderingStartTime>qs&&a!==1073741824&&(i.flags|=128,c=!0,ra(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(a=m.last,a!==null?a.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=He(),i.sibling=null,a=Ze.current,qe(Ze,c?a&1|2:a&1),i):(Ot(i),null);case 22:case 23:return Eh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(an&1073741824)!==0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function yw(n,i){switch(kc(i),i.tag){case 1:return Qt(i.type)&&vl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return zs(),Ke(Kt),Ke(Vt),$c(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return zc(i),null;case 13:if(Ke(Ze),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ms()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ke(Ze),null;case 4:return zs(),null;case 10:return bc(i.type._context),null;case 22:case 23:return Eh(),null;case 24:return null;default:return null}}var Ul=!1,bt=!1,_w=typeof WeakSet=="function"?WeakSet:Set,le=null;function $s(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){nt(n,i,c)}else a.current=null}function uh(n,i,a){try{a()}catch(c){nt(n,i,c)}}var Yp=!1;function vw(n,i){if(Ec=Mr,n=Pf(),fc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,R=-1,P=-1,$=0,J=0,Z=n,Y=null;t:for(;;){for(var se;Z!==a||d!==0&&Z.nodeType!==3||(R=v+d),Z!==m||c!==0&&Z.nodeType!==3||(P=v+c),Z.nodeType===3&&(v+=Z.nodeValue.length),(se=Z.firstChild)!==null;)Y=Z,Z=se;for(;;){if(Z===n)break t;if(Y===a&&++$===d&&(R=v),Y===m&&++J===c&&(P=v),(se=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=se}a=R===-1||P===-1?null:{start:R,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tc={focusedElem:n,selectionRange:a},Mr=!1,le=i;le!==null;)if(i=le,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,le=n;else for(;le!==null;){i=le;try{var ue=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,ot=ue.memoizedState,j=i.stateNode,D=j.getSnapshotBeforeUpdate(i.elementType===i.type?he:Vn(i.type,he),ot);j.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){nt(i,i.return,te)}if(n=i.sibling,n!==null){n.return=i.return,le=n;break}le=i.return}return ue=Yp,Yp=!1,ue}function ia(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&uh(i,a,m)}d=d.next}while(d!==c)}}function jl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function ch(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Jp(n){var i=n.alternate;i!==null&&(n.alternate=null,Jp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Gn],delete i[Ko],delete i[Ac],delete i[tw],delete i[nw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Zp(n){return n.tag===5||n.tag===3||n.tag===4}function em(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=yl));else if(c!==4&&(n=n.child,n!==null))for(hh(n,i,a),n=n.sibling;n!==null;)hh(n,i,a),n=n.sibling}function dh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(dh(n,i,a),n=n.sibling;n!==null;)dh(n,i,a),n=n.sibling}var xt=null,Ln=!1;function Wr(n,i,a){for(a=a.child;a!==null;)tm(n,i,a),a=a.sibling}function tm(n,i,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Si,a)}catch{}switch(a.tag){case 5:bt||$s(a,i);case 6:var c=xt,d=Ln;xt=null,Wr(n,i,a),xt=c,Ln=d,xt!==null&&(Ln?(n=xt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):xt.removeChild(a.stateNode));break;case 18:xt!==null&&(Ln?(n=xt,a=a.stateNode,n.nodeType===8?Rc(n.parentNode,a):n.nodeType===1&&Rc(n,a),Pn(n)):Rc(xt,a.stateNode));break;case 4:c=xt,d=Ln,xt=a.stateNode.containerInfo,Ln=!0,Wr(n,i,a),xt=c,Ln=d;break;case 0:case 11:case 14:case 15:if(!bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&uh(a,i,v),d=d.next}while(d!==c)}Wr(n,i,a);break;case 1:if(!bt&&($s(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){nt(a,i,R)}Wr(n,i,a);break;case 21:Wr(n,i,a);break;case 22:a.mode&1?(bt=(c=bt)||a.memoizedState!==null,Wr(n,i,a),bt=c):Wr(n,i,a);break;default:Wr(n,i,a)}}function nm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new _w),i.forEach(function(c){var d=xw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function On(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,v=i,R=v;e:for(;R!==null;){switch(R.tag){case 5:xt=R.stateNode,Ln=!1;break e;case 3:xt=R.stateNode.containerInfo,Ln=!0;break e;case 4:xt=R.stateNode.containerInfo,Ln=!0;break e}R=R.return}if(xt===null)throw Error(t(160));tm(m,v,d),xt=null,Ln=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch($){nt(d,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)rm(i,n),i=i.sibling}function rm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(On(i,n),Jn(n),c&4){try{ia(3,n,n.return),jl(3,n)}catch(he){nt(n,n.return,he)}try{ia(5,n,n.return)}catch(he){nt(n,n.return,he)}}break;case 1:On(i,n),Jn(n),c&512&&a!==null&&$s(a,a.return);break;case 5:if(On(i,n),Jn(n),c&512&&a!==null&&$s(a,a.return),n.flags&32){var d=n.stateNode;try{Pr(d,"")}catch(he){nt(n,n.return,he)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,v=a!==null?a.memoizedProps:m,R=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{R==="input"&&m.type==="radio"&&m.name!=null&&mo(d,m),So(R,v);var $=So(R,m);for(v=0;v<P.length;v+=2){var J=P[v],Z=P[v+1];J==="style"?Eo(d,Z):J==="dangerouslySetInnerHTML"?vo(d,Z):J==="children"?Pr(d,Z):ee(d,J,Z,$)}switch(R){case"input":go(d,m);break;case"textarea":ss(d,m);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?ar(d,!!m.multiple,se,!1):Y!==!!m.multiple&&(m.defaultValue!=null?ar(d,!!m.multiple,m.defaultValue,!0):ar(d,!!m.multiple,m.multiple?[]:"",!1))}d[Ko]=m}catch(he){nt(n,n.return,he)}}break;case 6:if(On(i,n),Jn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(he){nt(n,n.return,he)}}break;case 3:if(On(i,n),Jn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Pn(i.containerInfo)}catch(he){nt(n,n.return,he)}break;case 4:On(i,n),Jn(n);break;case 13:On(i,n),Jn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(mh=He())),c&4&&nm(n);break;case 22:if(J=a!==null&&a.memoizedState!==null,n.mode&1?(bt=($=bt)||J,On(i,n),bt=$):On(i,n),Jn(n),c&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!J&&(n.mode&1)!==0)for(le=n,J=n.child;J!==null;){for(Z=le=J;le!==null;){switch(Y=le,se=Y.child,Y.tag){case 0:case 11:case 14:case 15:ia(4,Y,Y.return);break;case 1:$s(Y,Y.return);var ue=Y.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Y,a=Y.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(he){nt(c,a,he)}}break;case 5:$s(Y,Y.return);break;case 22:if(Y.memoizedState!==null){om(Z);continue}}se!==null?(se.return=Y,le=se):om(Z)}J=J.sibling}e:for(J=null,Z=n;;){if(Z.tag===5){if(J===null){J=Z;try{d=Z.stateNode,$?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(R=Z.stateNode,P=Z.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,R.style.display=wo("display",v))}catch(he){nt(n,n.return,he)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(he){nt(n,n.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:On(i,n),Jn(n),c&4&&nm(n);break;case 21:break;default:On(i,n),Jn(n)}}function Jn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Zp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Pr(d,""),c.flags&=-33);var m=em(n);dh(n,m,d);break;case 3:case 4:var v=c.stateNode.containerInfo,R=em(n);hh(n,R,v);break;default:throw Error(t(161))}}catch(P){nt(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function ww(n,i,a){le=n,im(n)}function im(n,i,a){for(var c=(n.mode&1)!==0;le!==null;){var d=le,m=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||Ul;if(!v){var R=d.alternate,P=R!==null&&R.memoizedState!==null||bt;R=Ul;var $=bt;if(Ul=v,(bt=P)&&!$)for(le=d;le!==null;)v=le,P=v.child,v.tag===22&&v.memoizedState!==null?am(d):P!==null?(P.return=v,le=P):am(d);for(;m!==null;)le=m,im(m),m=m.sibling;le=d,Ul=R,bt=$}sm(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,le=m):sm(n)}}function sm(n){for(;le!==null;){var i=le;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:bt||jl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!bt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Vn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&op(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}op(i,v,a)}break;case 5:var R=i.stateNode;if(a===null&&i.flags&4){a=R;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var J=$.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Pn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bt||i.flags&512&&ch(i)}catch(Y){nt(i,i.return,Y)}}if(i===n){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function om(n){for(;le!==null;){var i=le;if(i===n){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function am(n){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{jl(4,i)}catch(P){nt(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(P){nt(i,d,P)}}var m=i.return;try{ch(i)}catch(P){nt(i,m,P)}break;case 5:var v=i.return;try{ch(i)}catch(P){nt(i,v,P)}}}catch(P){nt(i,i.return,P)}if(i===n){le=null;break}var R=i.sibling;if(R!==null){R.return=i.return,le=R;break}le=i.return}}var Ew=Math.ceil,zl=ie.ReactCurrentDispatcher,fh=ie.ReactCurrentOwner,yn=ie.ReactCurrentBatchConfig,be=0,It=null,ut=null,Pt=0,an=0,Hs=zr(0),gt=0,sa=null,Fi=0,Bl=0,ph=0,oa=null,Xt=null,mh=0,qs=1/0,Tr=null,$l=!1,gh=null,Kr=null,Hl=!1,Qr=null,ql=0,aa=0,yh=null,Wl=-1,Kl=0;function $t(){return(be&6)!==0?He():Wl!==-1?Wl:Wl=He()}function Gr(n){return(n.mode&1)===0?1:(be&2)!==0&&Pt!==0?Pt&-Pt:iw.transition!==null?(Kl===0&&(Kl=Ai()),Kl):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:Oo(n.type)),n)}function bn(n,i,a,c){if(50<aa)throw aa=0,yh=null,Error(t(185));Vr(n,a,c),((be&2)===0||n!==It)&&(n===It&&((be&2)===0&&(Bl|=a),gt===4&&Xr(n,Pt)),Yt(n,c),a===1&&be===0&&(i.mode&1)===0&&(qs=He()+500,El&&$r()))}function Yt(n,i){var a=n.callbackNode;cr(n,i);var c=Ri(n,n===It?Pt:0);if(c===0)a!==null&&ko(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&ko(a),i===1)n.tag===0?rw(um.bind(null,n)):Qf(um.bind(null,n)),Zv(function(){(be&6)===0&&$r()}),a=null;else{switch(Or(c)){case 1:a=Ii;break;case 4:a=kr;break;case 16:a=cn;break;case 536870912:a=Ka;break;default:a=cn}a=ym(a,lm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function lm(n,i){if(Wl=-1,Kl=0,(be&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Ws()&&n.callbackNode!==a)return null;var c=Ri(n,n===It?Pt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=Ql(n,c);else{i=c;var d=be;be|=2;var m=hm();(It!==n||Pt!==i)&&(Tr=null,qs=He()+500,ji(n,i));do try{Sw();break}catch(R){cm(n,R)}while(!0);Oc(),zl.current=m,be=d,ut!==null?i=0:(It=null,Pt=0,i=gt)}if(i!==0){if(i===2&&(d=tn(n),d!==0&&(c=d,i=_h(n,d))),i===1)throw a=sa,ji(n,0),Xr(n,c),Yt(n,He()),a;if(i===6)Xr(n,c);else{if(d=n.current.alternate,(c&30)===0&&!Tw(d)&&(i=Ql(n,c),i===2&&(m=tn(n),m!==0&&(c=m,i=_h(n,m))),i===1))throw a=sa,ji(n,0),Xr(n,c),Yt(n,He()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:zi(n,Xt,Tr);break;case 3:if(Xr(n,c),(c&130023424)===c&&(i=mh+500-He(),10<i)){if(Ri(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){$t(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Sc(zi.bind(null,n,Xt,Tr),i);break}zi(n,Xt,Tr);break;case 4:if(Xr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var v=31-jt(c);m=1<<v,v=i[v],v>d&&(d=v),c&=~m}if(c=d,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Ew(c/1960))-c,10<c){n.timeoutHandle=Sc(zi.bind(null,n,Xt,Tr),c);break}zi(n,Xt,Tr);break;case 5:zi(n,Xt,Tr);break;default:throw Error(t(329))}}}return Yt(n,He()),n.callbackNode===a?lm.bind(null,n):null}function _h(n,i){var a=oa;return n.current.memoizedState.isDehydrated&&(ji(n,i).flags|=256),n=Ql(n,i),n!==2&&(i=Xt,Xt=a,i!==null&&vh(i)),n}function vh(n){Xt===null?Xt=n:Xt.push.apply(Xt,n)}function Tw(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Nn(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xr(n,i){for(i&=~ph,i&=~Bl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-jt(i),c=1<<a;n[a]=-1,i&=~c}}function um(n){if((be&6)!==0)throw Error(t(327));Ws();var i=Ri(n,0);if((i&1)===0)return Yt(n,He()),null;var a=Ql(n,i);if(n.tag!==0&&a===2){var c=tn(n);c!==0&&(i=c,a=_h(n,c))}if(a===1)throw a=sa,ji(n,0),Xr(n,i),Yt(n,He()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,zi(n,Xt,Tr),Yt(n,He()),null}function wh(n,i){var a=be;be|=1;try{return n(i)}finally{be=a,be===0&&(qs=He()+500,El&&$r())}}function Ui(n){Qr!==null&&Qr.tag===0&&(be&6)===0&&Ws();var i=be;be|=1;var a=yn.transition,c=Ne;try{if(yn.transition=null,Ne=1,n)return n()}finally{Ne=c,yn.transition=a,be=i,(be&6)===0&&$r()}}function Eh(){an=Hs.current,Ke(Hs)}function ji(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Jv(a)),ut!==null)for(a=ut.return;a!==null;){var c=a;switch(kc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&vl();break;case 3:zs(),Ke(Kt),Ke(Vt),$c();break;case 5:zc(c);break;case 4:zs();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:bc(c.type._context);break;case 22:case 23:Eh()}a=a.return}if(It=n,ut=n=Yr(n.current,null),Pt=an=i,gt=0,sa=null,ph=Bl=Fi=0,Xt=oa=null,Oi!==null){for(i=0;i<Oi.length;i++)if(a=Oi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=d,c.next=v}a.pending=c}Oi=null}return n}function cm(n,i){do{var a=ut;try{if(Oc(),Nl.current=Ol,Dl){for(var c=et.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Dl=!1}if(Mi=0,Tt=mt=et=null,Zo=!1,ea=0,fh.current=null,a===null||a.return===null){gt=1,sa=i,ut=null;break}e:{var m=n,v=a.return,R=a,P=i;if(i=Pt,R.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var $=P,J=R,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Op(v);if(se!==null){se.flags&=-257,bp(se,v,R,m,i),se.mode&1&&Lp(m,$,i),i=se,P=$;var ue=i.updateQueue;if(ue===null){var he=new Set;he.add(P),i.updateQueue=he}else ue.add(P);break e}else{if((i&1)===0){Lp(m,$,i),Th();break e}P=Error(t(426))}}else if(Xe&&R.mode&1){var ot=Op(v);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),bp(ot,v,R,m,i),Vc(Bs(P,R));break e}}m=P=Bs(P,R),gt!==4&&(gt=2),oa===null?oa=[m]:oa.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var j=Dp(m,P,i);sp(m,j);break e;case 1:R=P;var D=m.type,B=m.stateNode;if((m.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Kr===null||!Kr.has(B)))){m.flags|=65536,i&=-i,m.lanes|=i;var te=Vp(m,R,i);sp(m,te);break e}}m=m.return}while(m!==null)}fm(a)}catch(de){i=de,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function hm(){var n=zl.current;return zl.current=Ol,n===null?Ol:n}function Th(){(gt===0||gt===3||gt===2)&&(gt=4),It===null||(Fi&268435455)===0&&(Bl&268435455)===0||Xr(It,Pt)}function Ql(n,i){var a=be;be|=2;var c=hm();(It!==n||Pt!==i)&&(Tr=null,ji(n,i));do try{Iw();break}catch(d){cm(n,d)}while(!0);if(Oc(),be=a,zl.current=c,ut!==null)throw Error(t(261));return It=null,Pt=0,gt}function Iw(){for(;ut!==null;)dm(ut)}function Sw(){for(;ut!==null&&!qa();)dm(ut)}function dm(n){var i=gm(n.alternate,n,an);n.memoizedProps=n.pendingProps,i===null?fm(n):ut=i,fh.current=null}function fm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=gw(a,i,an),a!==null){ut=a;return}}else{if(a=yw(a,i),a!==null){a.flags&=32767,ut=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gt=6,ut=null;return}}if(i=i.sibling,i!==null){ut=i;return}ut=i=n}while(i!==null);gt===0&&(gt=5)}function zi(n,i,a){var c=Ne,d=yn.transition;try{yn.transition=null,Ne=1,Rw(n,i,a,c)}finally{yn.transition=d,Ne=c}return null}function Rw(n,i,a,c){do Ws();while(Qr!==null);if((be&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Be(n,m),n===It&&(ut=It=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Hl||(Hl=!0,ym(cn,function(){return Ws(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=yn.transition,yn.transition=null;var v=Ne;Ne=1;var R=be;be|=4,fh.current=null,vw(n,a),rm(a,n),qv(Tc),Mr=!!Ec,Tc=Ec=null,n.current=a,ww(a),sc(),be=R,Ne=v,yn.transition=m}else n.current=a;if(Hl&&(Hl=!1,Qr=n,ql=d),m=n.pendingLanes,m===0&&(Kr=null),Qa(a.stateNode),Yt(n,He()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if($l)throw $l=!1,n=gh,gh=null,n;return(ql&1)!==0&&n.tag!==0&&Ws(),m=n.pendingLanes,(m&1)!==0?n===yh?aa++:(aa=0,yh=n):aa=0,$r(),null}function Ws(){if(Qr!==null){var n=Or(ql),i=yn.transition,a=Ne;try{if(yn.transition=null,Ne=16>n?16:n,Qr===null)var c=!1;else{if(n=Qr,Qr=null,ql=0,(be&6)!==0)throw Error(t(331));var d=be;for(be|=4,le=n.current;le!==null;){var m=le,v=m.child;if((le.flags&16)!==0){var R=m.deletions;if(R!==null){for(var P=0;P<R.length;P++){var $=R[P];for(le=$;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:ia(8,J,m)}var Z=J.child;if(Z!==null)Z.return=J,le=Z;else for(;le!==null;){J=le;var Y=J.sibling,se=J.return;if(Jp(J),J===$){le=null;break}if(Y!==null){Y.return=se,le=Y;break}le=se}}}var ue=m.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var ot=he.sibling;he.sibling=null,he=ot}while(he!==null)}}le=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,le=v;else e:for(;le!==null;){if(m=le,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:ia(9,m,m.return)}var j=m.sibling;if(j!==null){j.return=m.return,le=j;break e}le=m.return}}var D=n.current;for(le=D;le!==null;){v=le;var B=v.child;if((v.subtreeFlags&2064)!==0&&B!==null)B.return=v,le=B;else e:for(v=D;le!==null;){if(R=le,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:jl(9,R)}}catch(de){nt(R,R.return,de)}if(R===v){le=null;break e}var te=R.sibling;if(te!==null){te.return=R.return,le=te;break e}le=R.return}}if(be=d,$r(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Si,n)}catch{}c=!0}return c}finally{Ne=a,yn.transition=i}}return!1}function pm(n,i,a){i=Bs(a,i),i=Dp(n,i,1),n=qr(n,i,1),i=$t(),n!==null&&(Vr(n,1,i),Yt(n,i))}function nt(n,i,a){if(n.tag===3)pm(n,n,a);else for(;i!==null;){if(i.tag===3){pm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Kr===null||!Kr.has(c))){n=Bs(a,n),n=Vp(i,n,1),i=qr(i,n,1),n=$t(),i!==null&&(Vr(i,1,n),Yt(i,n));break}}i=i.return}}function Aw(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=$t(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Pt&a)===a&&(gt===4||gt===3&&(Pt&130023424)===Pt&&500>He()-mh?ji(n,0):ph|=a),Yt(n,i)}function mm(n,i){i===0&&((n.mode&1)===0?i=1:(i=ms,ms<<=1,(ms&130023424)===0&&(ms=4194304)));var a=$t();n=vr(n,i),n!==null&&(Vr(n,i,a),Yt(n,a))}function Cw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),mm(n,a)}function xw(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),mm(n,a)}var gm;gm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Kt.current)Gt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Gt=!1,mw(n,i,a);Gt=(n.flags&131072)!==0}else Gt=!1,Xe&&(i.flags&1048576)!==0&&Gf(i,Il,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Fl(n,i),n=i.pendingProps;var d=Ls(i,Vt.current);js(i,a),d=Wc(null,i,c,n,d,a);var m=Kc();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Qt(c)?(m=!0,wl(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Uc(i),d.updater=bl,i.stateNode=d,d._reactInternals=i,Zc(i,c,n,a),i=rh(null,i,c,!0,m,a)):(i.tag=0,Xe&&m&&Pc(i),Bt(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Fl(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=kw(c),n=Vn(c,n),d){case 0:i=nh(null,i,c,n,a);break e;case 1:i=Bp(null,i,c,n,a);break e;case 11:i=Mp(null,i,c,n,a);break e;case 14:i=Fp(null,i,c,Vn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),nh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),Bp(n,i,c,d,a);case 3:e:{if($p(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,ip(n,i),Pl(i,c,null,a);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=Bs(Error(t(423)),i),i=Hp(n,i,c,a,d);break e}else if(c!==d){d=Bs(Error(t(424)),i),i=Hp(n,i,c,a,d);break e}else for(on=jr(i.stateNode.containerInfo.firstChild),sn=i,Xe=!0,Dn=null,a=np(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ms(),c===d){i=Er(n,i,a);break e}Bt(n,i,c,a)}i=i.child}return i;case 5:return ap(i),n===null&&Dc(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,v=d.children,Ic(c,d)?v=null:m!==null&&Ic(c,m)&&(i.flags|=32),zp(n,i),Bt(n,i,v,a),i.child;case 6:return n===null&&Dc(i),null;case 13:return qp(n,i,a);case 4:return jc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Fs(i,null,c,a):Bt(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),Mp(n,i,c,d,a);case 7:return Bt(n,i,i.pendingProps,a),i.child;case 8:return Bt(n,i,i.pendingProps.children,a),i.child;case 12:return Bt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,v=d.value,qe(Al,c._currentValue),c._currentValue=v,m!==null)if(Nn(m.value,v)){if(m.children===d.children&&!Kt.current){i=Er(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var R=m.dependencies;if(R!==null){v=m.child;for(var P=R.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=wr(-1,a&-a),P.tag=2;var $=m.updateQueue;if($!==null){$=$.shared;var J=$.pending;J===null?P.next=P:(P.next=J.next,J.next=P),$.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Mc(m.return,a,i),R.lanes|=a;break}P=P.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(t(341));v.lanes|=a,R=v.alternate,R!==null&&(R.lanes|=a),Mc(v,a,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}Bt(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,js(i,a),d=mn(d),c=c(d),i.flags|=1,Bt(n,i,c,a),i.child;case 14:return c=i.type,d=Vn(c,i.pendingProps),d=Vn(c.type,d),Fp(n,i,c,d,a);case 15:return Up(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),Fl(n,i),i.tag=1,Qt(c)?(n=!0,wl(i)):n=!1,js(i,a),kp(i,c,d),Zc(i,c,d,a),rh(null,i,c,!0,n,a);case 19:return Kp(n,i,a);case 22:return jp(n,i,a)}throw Error(t(156,i.tag))};function ym(n,i){return fs(n,i)}function Pw(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,i,a,c){return new Pw(n,i,a,c)}function Ih(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kw(n){if(typeof n=="function")return Ih(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===vt)return 14}return 2}function Yr(n,i){var a=n.alternate;return a===null?(a=_n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Gl(n,i,a,c,d,m){var v=2;if(c=n,typeof n=="function")Ih(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case N:return Bi(a.children,d,m,i);case S:v=8,d|=8;break;case A:return n=_n(12,a,i,d|2),n.elementType=A,n.lanes=m,n;case C:return n=_n(13,a,i,d),n.elementType=C,n.lanes=m,n;case Je:return n=_n(19,a,i,d),n.elementType=Je,n.lanes=m,n;case Ce:return Xl(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:v=10;break e;case L:v=9;break e;case M:v=11;break e;case vt:v=14;break e;case Ee:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=_n(v,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function Bi(n,i,a,c){return n=_n(7,n,c,i),n.lanes=a,n}function Xl(n,i,a,c){return n=_n(22,n,c,i),n.elementType=Ce,n.lanes=a,n.stateNode={isHidden:!1},n}function Sh(n,i,a){return n=_n(6,n,null,i),n.lanes=a,n}function Rh(n,i,a){return i=_n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Nw(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dr(0),this.expirationTimes=Dr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Ah(n,i,a,c,d,m,v,R,P){return n=new Nw(n,i,a,R,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=_n(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(m),n}function Dw(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ve,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function _m(n){if(!n)return Br;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Qt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Qt(a))return Wf(n,a,i)}return i}function vm(n,i,a,c,d,m,v,R,P){return n=Ah(a,c,!0,n,d,m,v,R,P),n.context=_m(null),a=n.current,c=$t(),d=Gr(a),m=wr(c,d),m.callback=i??null,qr(a,m,d),n.current.lanes=d,Vr(n,d,c),Yt(n,c),n}function Yl(n,i,a,c){var d=i.current,m=$t(),v=Gr(d);return a=_m(a),i.context===null?i.context=a:i.pendingContext=a,i=wr(m,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=qr(d,i,v),n!==null&&(bn(n,d,v,m),xl(n,d,v)),v}function Jl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function wm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Ch(n,i){wm(n,i),(n=n.alternate)&&wm(n,i)}function Vw(){return null}var Em=typeof reportError=="function"?reportError:function(n){console.error(n)};function xh(n){this._internalRoot=n}Zl.prototype.render=xh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Yl(n,i,null,null)},Zl.prototype.unmount=xh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Ui(function(){Yl(null,n,null,null)}),i[mr]=null}};function Zl(n){this._internalRoot=n}Zl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Za();n={blockedOn:null,target:n,priority:i};for(var a=0;a<qn.length&&i!==0&&i<qn[a].priority;a++);qn.splice(a,0,n),a===0&&nl(n)}};function Ph(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function eu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Tm(){}function Lw(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var $=Jl(v);m.call($)}}var v=vm(i,c,n,0,null,!1,!1,"",Tm);return n._reactRootContainer=v,n[mr]=v.current,qo(n.nodeType===8?n.parentNode:n),Ui(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var R=c;c=function(){var $=Jl(P);R.call($)}}var P=Ah(n,0,!1,null,null,!1,!1,"",Tm);return n._reactRootContainer=P,n[mr]=P.current,qo(n.nodeType===8?n.parentNode:n),Ui(function(){Yl(i,P,a,c)}),P}function tu(n,i,a,c,d){var m=a._reactRootContainer;if(m){var v=m;if(typeof d=="function"){var R=d;d=function(){var P=Jl(v);R.call(P)}}Yl(i,v,n,d)}else v=Lw(a,i,n,d,c);return Jl(v)}Ya=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Nr(i.pendingLanes);a!==0&&(Lr(i,a|1),Yt(i,He()),(be&6)===0&&(qs=He()+500,$r()))}break;case 13:Ui(function(){var c=vr(n,1);if(c!==null){var d=$t();bn(c,n,1,d)}}),Ch(n,1)}},gs=function(n){if(n.tag===13){var i=vr(n,134217728);if(i!==null){var a=$t();bn(i,n,134217728,a)}Ch(n,134217728)}},Ja=function(n){if(n.tag===13){var i=Gr(n),a=vr(n,i);if(a!==null){var c=$t();bn(a,n,i,c)}Ch(n,i)}},Za=function(){return Ne},el=function(n,i){var a=Ne;try{return Ne=n,i()}finally{Ne=a}},as=function(n,i,a){switch(i){case"input":if(go(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=_l(c);if(!d)throw Error(t(90));ts(c),go(c,d)}}}break;case"textarea":ss(n,a);break;case"select":i=a.value,i!=null&&ar(n,!!a.multiple,i,!1)}},vi=wh,Ao=Ui;var Ow={usingClientEntryPoint:!1,Events:[Qo,Ds,_l,$n,Ro,wh]},la={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bw={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Po(n),n===null?null:n.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||Vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Si=nu.inject(bw),en=nu}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ow,Jt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ph(i))throw Error(t(200));return Dw(n,i,null,a)},Jt.createRoot=function(n,i){if(!Ph(n))throw Error(t(299));var a=!1,c="",d=Em;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Ah(n,1,!1,null,null,a,!1,c,d),n[mr]=i.current,qo(n.nodeType===8?n.parentNode:n),new xh(i)},Jt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Po(i),n=n===null?null:n.stateNode,n},Jt.flushSync=function(n){return Ui(n)},Jt.hydrate=function(n,i,a){if(!eu(i))throw Error(t(200));return tu(null,n,i,!0,a)},Jt.hydrateRoot=function(n,i,a){if(!Ph(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",v=Em;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=vm(i,null,n,1,a??null,d,!1,m,v),n[mr]=i.current,qo(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Zl(i)},Jt.render=function(n,i,a){if(!eu(i))throw Error(t(200));return tu(null,n,i,!1,a)},Jt.unmountComponentAtNode=function(n){if(!eu(n))throw Error(t(40));return n._reactRootContainer?(Ui(function(){tu(null,null,n,!1,function(){n._reactRootContainer=null,n[mr]=null})}),!0):!1},Jt.unstable_batchedUpdates=wh,Jt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!eu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return tu(n,i,a,!1,c)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var km;function Hw(){if(km)return Dh.exports;km=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dh.exports=$w(),Dh.exports}var Nm;function qw(){if(Nm)return ru;Nm=1;var r=Hw();return ru.createRoot=r.createRoot,ru.hydrateRoot=r.hydrateRoot,ru}var Ww=qw(),ca={},Dm;function Kw(){if(Dm)return ca;Dm=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.parse=h,ca.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,V){const x=new u,z=T.length;if(z<2)return x;const O=(V==null?void 0:V.decode)||w;let W=0;do{const K=T.indexOf("=",W);if(K===-1)break;const ee=T.indexOf(";",W),ie=ee===-1?z:ee;if(K>ie){W=T.lastIndexOf(";",K-1)+1;continue}const Ie=f(T,W,K),ve=g(T,K,Ie),N=T.slice(Ie,ve);if(x[N]===void 0){let S=f(T,K+1,ie),A=g(T,ie,S);const k=O(T.slice(S,A));x[N]=k}W=ie+1}while(W<z);return x}function f(T,V,x){do{const z=T.charCodeAt(V);if(z!==32&&z!==9)return V}while(++V<x);return x}function g(T,V,x){for(;V>x;){const z=T.charCodeAt(--V);if(z!==32&&z!==9)return V+1}return x}function y(T,V,x){const z=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const O=z(V);if(!e.test(O))throw new TypeError(`argument val is invalid: ${V}`);let W=T+"="+O;if(!x)return W;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);W+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);W+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);W+="; Path="+x.path}if(x.expires){if(!I(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);W+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(W+="; HttpOnly"),x.secure&&(W+="; Secure"),x.partitioned&&(W+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return W}function w(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function I(T){return o.call(T)==="[object Date]"}return ca}Kw();var Vm="popstate";function Qw(r={}){function e(o,u){let{pathname:h="/",search:f="",hash:g=""}=Gi(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Kh("",{pathname:h,search:f,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");f=y===-1?g:g.slice(0,y)}return f+"#"+(typeof u=="string"?u:Ta(u))}function s(o,u){En(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Xw(e,t,s,r)}function Ye(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function En(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gw(){return Math.random().toString(36).substring(2,10)}function Lm(r,e){return{usr:r.state,key:r.key,idx:e}}function Kh(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Gi(e):e,state:t,key:e&&e.key||s||Gw()}}function Ta({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Gi(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Xw(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,f="POP",g=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function I(){f="POP";let O=w(),W=O==null?null:O-y;y=O,g&&g({action:f,location:z.location,delta:W})}function T(O,W){f="PUSH";let K=Kh(z.location,O,W);t&&t(K,O),y=w()+1;let ee=Lm(K,y),ie=z.createHref(K);try{h.pushState(ee,"",ie)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(ie)}u&&g&&g({action:f,location:z.location,delta:1})}function V(O,W){f="REPLACE";let K=Kh(z.location,O,W);t&&t(K,O),y=w();let ee=Lm(K,y),ie=z.createHref(K);h.replaceState(ee,"",ie),u&&g&&g({action:f,location:z.location,delta:0})}function x(O){return Yw(O)}let z={get action(){return f},get location(){return r(o,h)},listen(O){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Vm,I),g=O,()=>{o.removeEventListener(Vm,I),g=null}},createHref(O){return e(o,O)},createURL:x,encodeLocation(O){let W=x(O);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:V,go(O){return h.go(O)}};return z}function Yw(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ta(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function ty(r,e,t="/"){return Jw(r,e,t,!1)}function Jw(r,e,t,s){let o=typeof e=="string"?Gi(e):e,u=Sr(o.pathname||"/",t);if(u==null)return null;let h=ny(r);Zw(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let y=c0(u);f=l0(h[g],y,s)}return f}function ny(r,e=[],t=[],s=""){let o=(u,h,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Ye(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Ir([s,g.relativePath]),w=t.concat(g);u.children&&u.children.length>0&&(Ye(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ny(u.children,e,w,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:o0(y,u.index),routesMeta:w})};return r.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let g of ry(u.path))o(u,h,g)}),e}function ry(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=ry(s.join("/")),f=[];return f.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&f.push(...h),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function Zw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:a0(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var e0=/^:[\w-]+$/,t0=3,n0=2,r0=1,i0=10,s0=-2,Om=r=>r==="*";function o0(r,e){let t=r.split("/"),s=t.length;return t.some(Om)&&(s+=s0),e&&(s+=n0),t.filter(o=>!Om(o)).reduce((o,u)=>o+(e0.test(u)?t0:u===""?r0:i0),s)}function a0(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function l0(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let f=0;f<s.length;++f){let g=s[f],y=f===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",I=Eu({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),T=g.route;if(!I&&y&&t&&!s[s.length-1].route.index&&(I=Eu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!I)return null;Object.assign(o,I.params),h.push({params:o,pathname:Ir([u,I.pathname]),pathnameBase:p0(Ir([u,I.pathnameBase])),route:T}),I.pathnameBase!=="/"&&(u=Ir([u,I.pathnameBase]))}return h}function Eu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=u0(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((y,{paramName:w,isOptional:I},T)=>{if(w==="*"){let x=f[T]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const V=f[T];return I&&!V?y[w]=void 0:y[w]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function u0(r,e=!1,t=!0){En(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(s.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function c0(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return En(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Sr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function h0(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Gi(r):r;return{pathname:t?t.startsWith("/")?t:d0(t,e):e,search:m0(s),hash:g0(o)}}function d0(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Oh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f0(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wd(r){let e=f0(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Ed(r,e,t,s=!1){let o;typeof r=="string"?o=Gi(r):(o={...r},Ye(!o.pathname||!o.pathname.includes("?"),Oh("?","pathname","search",o)),Ye(!o.pathname||!o.pathname.includes("#"),Oh("#","pathname","hash",o)),Ye(!o.search||!o.search.includes("#"),Oh("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,f;if(h==null)f=t;else{let I=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),I-=1;o.pathname=T.join("/")}f=I>=0?e[I]:"/"}let g=h0(o,f),y=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var Ir=r=>r.join("/").replace(/\/\/+/g,"/"),p0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),m0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,g0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function y0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var iy=["POST","PUT","PATCH","DELETE"];new Set(iy);var _0=["GET",...iy];new Set(_0);var ao=H.createContext(null);ao.displayName="DataRouter";var Fu=H.createContext(null);Fu.displayName="DataRouterState";var sy=H.createContext({isTransitioning:!1});sy.displayName="ViewTransition";var v0=H.createContext(new Map);v0.displayName="Fetchers";var w0=H.createContext(null);w0.displayName="Await";var jn=H.createContext(null);jn.displayName="Navigation";var Da=H.createContext(null);Da.displayName="Location";var zn=H.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var Td=H.createContext(null);Td.displayName="RouteError";function E0(r,{relative:e}={}){Ye(lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(jn),{hash:o,pathname:u,search:h}=La(r,{relative:e}),f=u;return t!=="/"&&(f=u==="/"?t:Ir([t,u])),s.createHref({pathname:f,search:h,hash:o})}function lo(){return H.useContext(Da)!=null}function pi(){return Ye(lo(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Da).location}var oy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ay(r){H.useContext(jn).static||H.useLayoutEffect(r)}function Va(){let{isDataRoute:r}=H.useContext(zn);return r?L0():T0()}function T0(){Ye(lo(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(ao),{basename:e,navigator:t}=H.useContext(jn),{matches:s}=H.useContext(zn),{pathname:o}=pi(),u=JSON.stringify(wd(s)),h=H.useRef(!1);return ay(()=>{h.current=!0}),H.useCallback((g,y={})=>{if(En(h.current,oy),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=Ed(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ir([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,u,o,r])}H.createContext(null);function ly(){let{matches:r}=H.useContext(zn),e=r[r.length-1];return e?e.params:{}}function La(r,{relative:e}={}){let{matches:t}=H.useContext(zn),{pathname:s}=pi(),o=JSON.stringify(wd(t));return H.useMemo(()=>Ed(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function I0(r,e){return uy(r,e)}function uy(r,e,t,s){var W;Ye(lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(jn),{matches:u}=H.useContext(zn),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let K=w&&w.path||"";cy(g,!w||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let I=pi(),T;if(e){let K=typeof e=="string"?Gi(e):e;Ye(y==="/"||((W=K.pathname)==null?void 0:W.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),T=K}else T=I;let V=T.pathname||"/",x=V;if(y!=="/"){let K=y.replace(/^\//,"").split("/");x="/"+V.replace(/^\//,"").split("/").slice(K.length).join("/")}let z=ty(r,{pathname:x});En(w||z!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),En(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=x0(z&&z.map(K=>Object.assign({},K,{params:Object.assign({},f,K.params),pathname:Ir([y,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:Ir([y,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,t,s);return e&&O?H.createElement(Da.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function S0(){let r=V0(),e=y0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,h)}var R0=H.createElement(S0,null),A0=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(zn.Provider,{value:this.props.routeContext},H.createElement(Td.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function C0({routeContext:r,match:e,children:t}){let s=H.useContext(ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(zn.Provider,{value:r},t)}function x0(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Ye(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:w,errors:I}=t,T=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||T){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,y,w)=>{let I,T=!1,V=null,x=null;t&&(I=u&&y.route.id?u[y.route.id]:void 0,V=y.route.errorElement||R0,h&&(f<0&&w===0?(cy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,x=null):f===w&&(T=!0,x=y.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,w+1)),O=()=>{let W;return I?W=V:T?W=x:y.route.Component?W=H.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=g,H.createElement(C0,{match:y,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:W})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?H.createElement(A0,{location:t.location,revalidation:t.revalidation,component:V,error:I,children:O(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):O()},null)}function Id(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P0(r){let e=H.useContext(ao);return Ye(e,Id(r)),e}function k0(r){let e=H.useContext(Fu);return Ye(e,Id(r)),e}function N0(r){let e=H.useContext(zn);return Ye(e,Id(r)),e}function Sd(r){let e=N0(r),t=e.matches[e.matches.length-1];return Ye(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function D0(){return Sd("useRouteId")}function V0(){var s;let r=H.useContext(Td),e=k0("useRouteError"),t=Sd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function L0(){let{router:r}=P0("useNavigate"),e=Sd("useNavigate"),t=H.useRef(!1);return ay(()=>{t.current=!0}),H.useCallback(async(o,u={})=>{En(t.current,oy),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var bm={};function cy(r,e,t){!e&&!bm[r]&&(bm[r]=!0,En(!1,t))}H.memo(O0);function O0({routes:r,future:e,state:t}){return uy(r,void 0,t,e)}function b0({to:r,replace:e,state:t,relative:s}){Ye(lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(jn);En(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(zn),{pathname:h}=pi(),f=Va(),g=Ed(r,wd(u),h,s==="path"),y=JSON.stringify(g);return H.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:s})},[f,y,s,e,t]),null}function Ks(r){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M0({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){Ye(!lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Gi(t));let{pathname:g="/",search:y="",hash:w="",state:I=null,key:T="default"}=t,V=H.useMemo(()=>{let x=Sr(g,h);return x==null?null:{location:{pathname:x,search:y,hash:w,state:I,key:T},navigationType:s}},[h,g,y,w,I,T,s]);return En(V!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:H.createElement(jn.Provider,{value:f},H.createElement(Da.Provider,{children:e,value:V}))}function F0({children:r,location:e}){return I0(Qh(r),e)}function Qh(r,e=[]){let t=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Qh(s.props.children,u));return}Ye(s.type===Ks,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Qh(s.props.children,u)),t.push(h)}),t}var fu="get",pu="application/x-www-form-urlencoded";function Uu(r){return r!=null&&typeof r.tagName=="string"}function U0(r){return Uu(r)&&r.tagName.toLowerCase()==="button"}function j0(r){return Uu(r)&&r.tagName.toLowerCase()==="form"}function z0(r){return Uu(r)&&r.tagName.toLowerCase()==="input"}function B0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $0(r,e){return r.button===0&&(!e||e==="_self")&&!B0(r)}var iu=null;function H0(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var q0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bh(r){return r!=null&&!q0.has(r)?(En(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pu}"`),null):r}function W0(r,e){let t,s,o,u,h;if(j0(r)){let f=r.getAttribute("action");s=f?Sr(f,e):null,t=r.getAttribute("method")||fu,o=bh(r.getAttribute("enctype"))||pu,u=new FormData(r)}else if(U0(r)||z0(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||f.getAttribute("action");if(s=g?Sr(g,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||fu,o=bh(r.getAttribute("formenctype"))||bh(f.getAttribute("enctype"))||pu,u=new FormData(f,r),!H0()){let{name:y,type:w,value:I}=r;if(w==="image"){let T=y?`${y}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else y&&u.append(y,I)}}else{if(Uu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fu,s=null,o=pu,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Rd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function K0(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q0(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function G0(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await K0(u,t);return h.links?h.links():[]}return[]}));return Z0(s.flat(1).filter(Q0).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mm(r,e,t,s,o,u){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,f=(g,y)=>{var w;return t[y].pathname!==g.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||f(g,y)):u==="data"?e.filter((g,y)=>{var I;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,y)||f(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function X0(r,e,{includeHydrateFallback:t}={}){return Y0(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Y0(r){return[...new Set(r)]}function J0(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function Z0(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(J0(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eE=new Set([100,101,204,205]);function tE(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Sr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function hy(){let r=H.useContext(ao);return Rd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function nE(){let r=H.useContext(Fu);return Rd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ad=H.createContext(void 0);Ad.displayName="FrameworkContext";function dy(){let r=H.useContext(Ad);return Rd(r,"You must render this element inside a <HydratedRouter> element"),r}function rE(r,e){let t=H.useContext(Ad),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:I}=e,T=H.useRef(null);H.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let z=W=>{W.forEach(K=>{h(K.isIntersecting)})},O=new IntersectionObserver(z,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[r]),H.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let V=()=>{o(!0)},x=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,T,{}]:[u,T,{onFocus:ha(f,V),onBlur:ha(g,x),onMouseEnter:ha(y,V),onMouseLeave:ha(w,x),onTouchStart:ha(I,V)}]:[!1,T,{}]}function ha(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function iE({page:r,...e}){let{router:t}=hy(),s=H.useMemo(()=>ty(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?H.createElement(oE,{page:r,matches:s,...e}):null}function sE(r){let{manifest:e,routeModules:t}=dy(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return G0(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function oE({page:r,matches:e,...t}){let s=pi(),{manifest:o,routeModules:u}=dy(),{basename:h}=hy(),{loaderData:f,matches:g}=nE(),y=H.useMemo(()=>Mm(r,e,g,o,s,"data"),[r,e,g,o,s]),w=H.useMemo(()=>Mm(r,e,g,o,s,"assets"),[r,e,g,o,s]),I=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,z=!1;if(e.forEach(W=>{var ee;let K=o.routes[W.route.id];!K||!K.hasLoader||(!y.some(ie=>ie.route.id===W.route.id)&&W.route.id in f&&((ee=u[W.route.id])!=null&&ee.shouldRevalidate)||K.hasClientLoader?z=!0:x.add(W.route.id))}),x.size===0)return[];let O=tE(r,h);return z&&x.size>0&&O.searchParams.set("_routes",e.filter(W=>x.has(W.route.id)).map(W=>W.route.id).join(",")),[O.pathname+O.search]},[h,f,s,o,y,e,r,u]),T=H.useMemo(()=>X0(w,o),[w,o]),V=sE(w);return H.createElement(H.Fragment,null,I.map(x=>H.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),T.map(x=>H.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),V.map(({key:x,link:z})=>H.createElement("link",{key:x,...z})))}function aE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fy&&(window.__reactRouterVersion="7.6.1")}catch{}function lE({basename:r,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=Qw({window:t,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),f=H.useCallback(g=>{H.startTransition(()=>h(g))},[h]);return H.useLayoutEffect(()=>o.listen(f),[o,f]),H.createElement(M0,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,my=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:f,target:g,to:y,preventScrollReset:w,viewTransition:I,...T},V){let{basename:x}=H.useContext(jn),z=typeof y=="string"&&py.test(y),O,W=!1;if(typeof y=="string"&&z&&(O=y,fy))try{let A=new URL(window.location.href),k=y.startsWith("//")?new URL(A.protocol+y):new URL(y),L=Sr(k.pathname,x);k.origin===A.origin&&L!=null?y=L+k.search+k.hash:W=!0}catch{En(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=E0(y,{relative:o}),[ee,ie,Ie]=rE(s,T),ve=dE(y,{replace:h,state:f,target:g,preventScrollReset:w,relative:o,viewTransition:I});function N(A){e&&e(A),A.defaultPrevented||ve(A)}let S=H.createElement("a",{...T,...Ie,href:O||K,onClick:W||u?e:N,ref:aE(V,ie),target:g,"data-discover":!z&&t==="render"?"true":void 0});return ee&&!z?H.createElement(H.Fragment,null,S,H.createElement(iE,{page:K})):S});my.displayName="Link";var uE=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:f,children:g,...y},w){let I=La(h,{relative:y.relative}),T=pi(),V=H.useContext(Fu),{navigator:x,basename:z}=H.useContext(jn),O=V!=null&&yE(I)&&f===!0,W=x.encodeLocation?x.encodeLocation(I).pathname:I.pathname,K=T.pathname,ee=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(K=K.toLowerCase(),ee=ee?ee.toLowerCase():null,W=W.toLowerCase()),ee&&z&&(ee=Sr(ee,z)||ee);const ie=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Ie=K===W||!o&&K.startsWith(W)&&K.charAt(ie)==="/",ve=ee!=null&&(ee===W||!o&&ee.startsWith(W)&&ee.charAt(W.length)==="/"),N={isActive:Ie,isPending:ve,isTransitioning:O},S=Ie?e:void 0,A;typeof s=="function"?A=s(N):A=[s,Ie?"active":null,ve?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(N):u;return H.createElement(my,{...y,"aria-current":S,className:A,ref:w,style:k,to:h,viewTransition:f},typeof g=="function"?g(N):g)});uE.displayName="NavLink";var cE=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=fu,action:f,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:I,...T},V)=>{let x=mE(),z=gE(f,{relative:y}),O=h.toLowerCase()==="get"?"get":"post",W=typeof f=="string"&&py.test(f),K=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let ie=ee.nativeEvent.submitter,Ie=(ie==null?void 0:ie.getAttribute("formmethod"))||h;x(ie||ee.currentTarget,{fetcherKey:e,method:Ie,navigate:t,replace:o,state:u,relative:y,preventScrollReset:w,viewTransition:I})};return H.createElement("form",{ref:V,method:O,action:z,onSubmit:s?g:K,...T,"data-discover":!W&&r==="render"?"true":void 0})});cE.displayName="Form";function hE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gy(r){let e=H.useContext(ao);return Ye(e,hE(r)),e}function dE(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let f=Va(),g=pi(),y=La(r,{relative:u});return H.useCallback(w=>{if($0(w,e)){w.preventDefault();let I=t!==void 0?t:Ta(g)===Ta(y);f(r,{replace:I,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,f,y,t,s,e,r,o,u,h])}var fE=0,pE=()=>`__${String(++fE)}__`;function mE(){let{router:r}=gy("useSubmit"),{basename:e}=H.useContext(jn),t=D0();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:f,formData:g,body:y}=W0(s,e);if(o.navigate===!1){let w=o.fetcherKey||pE();await r.fetch(w,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function gE(r,{relative:e}={}){let{basename:t}=H.useContext(jn),s=H.useContext(zn);Ye(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...La(r||".",{relative:e})},h=pi();if(r==null){u.search=h.search;let f=new URLSearchParams(u.search),g=f.getAll("index");if(g.some(w=>w==="")){f.delete("index"),g.filter(I=>I).forEach(I=>f.append("index",I));let w=f.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ir([t,u.pathname])),Ta(u)}function yE(r,e={}){let t=H.useContext(sy);Ye(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gy("useViewTransitionState"),o=La(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Sr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Sr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Eu(o.pathname,h)!=null||Eu(o.pathname,u)!=null}[...eE];const yy=H.createContext(void 0),_E="admin",vE="disinfo2025",wE=({children:r})=>{const[e,t]=H.useState(()=>{const u=localStorage.getItem("user");return u?JSON.parse(u):null}),s=(u,h)=>{if(u===_E&&h===vE){const f={username:u,isAdmin:!0};return t(f),localStorage.setItem("user",JSON.stringify(f)),!0}return!1},o=()=>{t(null),localStorage.removeItem("user")};return b.jsx(yy.Provider,{value:{user:e,login:s,logout:o,isAuthenticated:!!e},children:r})},ju=()=>{const r=H.useContext(yy);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},EE=()=>{};var Fm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},TE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},vy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,w=u>>2,I=(u&3)<<4|f>>4;let T=(f&15)<<2|y>>6,V=y&63;g||(V=64,h||(T=64)),s.push(t[w],t[I],t[T],t[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_y(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):TE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const I=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||f==null||y==null||I==null)throw new IE;const T=u<<2|f>>4;if(s.push(T),y!==64){const V=f<<4&240|y>>2;if(s.push(V),I!==64){const x=y<<6&192|I;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SE=function(r){const e=_y(r);return vy.encodeByteArray(e,!0)},Tu=function(r){return SE(r).replace(/\./g,"")},RE=function(r){try{return vy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=()=>AE().__FIREBASE_DEFAULTS__,xE=()=>{if(typeof process>"u"||typeof Fm>"u")return;const r=Fm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},PE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&RE(r[1]);return e&&JSON.parse(e)},Cd=()=>{try{return EE()||CE()||xE()||PE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kE=r=>{var e,t;return(t=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},wy=r=>{const e=kE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Ey=()=>{var r;return(r=Cd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(r){return r.endsWith(".cloudworkstations.dev")}async function Ty(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Tu(JSON.stringify(t)),Tu(JSON.stringify(h)),""].join(".")}const ga={};function DE(){const r={prod:[],emulator:[]};for(const e of Object.keys(ga))ga[e]?r.emulator.push(e):r.prod.push(e);return r}function VE(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Um=!1;function Sy(r,e){if(typeof window>"u"||typeof document>"u"||!Oa(window.location.host)||ga[r]===e||ga[r]||Um)return;ga[r]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=DE().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,V){T.setAttribute("width","24"),T.setAttribute("id",V),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Um=!0,h()},T}function w(T,V){T.setAttribute("id",V),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function I(){const T=VE(s),V=t("text"),x=document.getElementById(V)||document.createElement("span"),z=t("learnmore"),O=document.getElementById(z)||document.createElement("a"),W=t("preprendIcon"),K=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ee=T.element;f(ee),w(O,z);const ie=y();g(K,W),ee.append(K,x,O,ie),document.body.appendChild(ee)}u?(x.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OE(){var r;const e=(r=Cd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bE(){return!OE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ME(){try{return typeof indexedDB=="object"}catch{return!1}}function FE(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="FirebaseError";class Xi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=UE,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ry.prototype.create)}}class Ry{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?jE(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Xi(o,f,s)}}function jE(r,e){return r.replace(zE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zE=/\{\$([^}]+)}/g;function Iu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(jm(u)&&jm(h)){if(!Iu(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function jm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(r){return r&&r._delegate?r._delegate:r}class Zs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new NE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HE(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$E(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $E(r){return r===$i?void 0:r}function HE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const WE={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},KE=Oe.INFO,QE={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},GE=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=QE[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ay{constructor(e){this.name=e,this._logLevel=KE,this._logHandler=GE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const XE=(r,e)=>e.some(t=>r instanceof t);let zm,Bm;function YE(){return zm||(zm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JE(){return Bm||(Bm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cy=new WeakMap,Gh=new WeakMap,xy=new WeakMap,Mh=new WeakMap,xd=new WeakMap;function ZE(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ti(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Cy.set(t,r)}).catch(()=>{}),xd.set(e,r),e}function eT(r){if(Gh.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Gh.set(r,e)}let Xh={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Gh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||xy.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ti(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tT(r){Xh=r(Xh)}function nT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Fh(this),e,...t);return xy.set(s,e.sort?e.sort():[e]),ti(s)}:JE().includes(r)?function(...e){return r.apply(Fh(this),e),ti(Cy.get(this))}:function(...e){return ti(r.apply(Fh(this),e))}}function rT(r){return typeof r=="function"?nT(r):(r instanceof IDBTransaction&&eT(r),XE(r,YE())?new Proxy(r,Xh):r)}function ti(r){if(r instanceof IDBRequest)return ZE(r);if(Mh.has(r))return Mh.get(r);const e=rT(r);return e!==r&&(Mh.set(r,e),xd.set(e,r)),e}const Fh=r=>xd.get(r);function iT(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),f=ti(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ti(h.result),g.oldVersion,g.newVersion,ti(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const sT=["get","getKey","getAll","getAllKeys","count"],oT=["put","add","delete","clear"],Uh=new Map;function $m(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Uh.get(e))return Uh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=oT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sT.includes(t)))return;const u=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&g.done]))[0]};return Uh.set(e,u),u}tT(r=>({...r,get:(e,t,s)=>$m(e,t)||r.get(e,t,s),has:(e,t)=>!!$m(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lT(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function lT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yh="@firebase/app",Hm="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Ay("@firebase/app"),uT="@firebase/app-compat",cT="@firebase/analytics-compat",hT="@firebase/analytics",dT="@firebase/app-check-compat",fT="@firebase/app-check",pT="@firebase/auth",mT="@firebase/auth-compat",gT="@firebase/database",yT="@firebase/data-connect",_T="@firebase/database-compat",vT="@firebase/functions",wT="@firebase/functions-compat",ET="@firebase/installations",TT="@firebase/installations-compat",IT="@firebase/messaging",ST="@firebase/messaging-compat",RT="@firebase/performance",AT="@firebase/performance-compat",CT="@firebase/remote-config",xT="@firebase/remote-config-compat",PT="@firebase/storage",kT="@firebase/storage-compat",NT="@firebase/firestore",DT="@firebase/ai",VT="@firebase/firestore-compat",LT="firebase",OT="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="[DEFAULT]",bT={[Yh]:"fire-core",[uT]:"fire-core-compat",[hT]:"fire-analytics",[cT]:"fire-analytics-compat",[fT]:"fire-app-check",[dT]:"fire-app-check-compat",[pT]:"fire-auth",[mT]:"fire-auth-compat",[gT]:"fire-rtdb",[yT]:"fire-data-connect",[_T]:"fire-rtdb-compat",[vT]:"fire-fn",[wT]:"fire-fn-compat",[ET]:"fire-iid",[TT]:"fire-iid-compat",[IT]:"fire-fcm",[ST]:"fire-fcm-compat",[RT]:"fire-perf",[AT]:"fire-perf-compat",[CT]:"fire-rc",[xT]:"fire-rc-compat",[PT]:"fire-gcs",[kT]:"fire-gcs-compat",[NT]:"fire-fst",[VT]:"fire-fst-compat",[DT]:"fire-vertex","fire-js":"fire-js",[LT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,MT=new Map,Zh=new Map;function qm(r,e){try{r.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ia(r){const e=r.name;if(Zh.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;Zh.set(e,r);for(const t of Su.values())qm(t,r);for(const t of MT.values())qm(t,r);return!0}function Py(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ky(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new Ry("app","Firebase",FT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=OT;function Dy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jh,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ni.create("bad-app-name",{appName:String(o)});if(t||(t=Ey()),!t)throw ni.create("no-options");const u=Su.get(o);if(u){if(Iu(t,u.options)&&Iu(s,u.config))return u;throw ni.create("duplicate-app",{appName:o})}const h=new qE(o);for(const g of Zh.values())h.addComponent(g);const f=new UT(t,s,h);return Su.set(o,f),f}function Vy(r=Jh){const e=Su.get(r);if(!e&&r===Jh&&Ey())return Dy();if(!e)throw ni.create("no-app",{appName:r});return e}function ri(r,e,t){var s;let o=(s=bT[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(f.join(" "));return}Ia(new Zs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebase-heartbeat-database",zT=1,Sa="firebase-heartbeat-store";let jh=null;function Ly(){return jh||(jh=iT(jT,zT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Sa)}catch(t){console.warn(t)}}}}).catch(r=>{throw ni.create("idb-open",{originalErrorMessage:r.message})})),jh}async function BT(r){try{const t=(await Ly()).transaction(Sa),s=await t.objectStore(Sa).get(Oy(r));return await t.done,s}catch(e){if(e instanceof Xi)Rr.warn(e.message);else{const t=ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rr.warn(t.message)}}}async function Wm(r,e){try{const s=(await Ly()).transaction(Sa,"readwrite");await s.objectStore(Sa).put(e,Oy(r)),await s.done}catch(t){if(t instanceof Xi)Rr.warn(t.message);else{const s=ni.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Rr.warn(s.message)}}}function Oy(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=1024,HT=30;class qT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Km();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>HT){const h=QT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Km(),{heartbeatsToSend:s,unsentEntries:o}=WT(this._heartbeatsCache.heartbeats),u=Tu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Rr.warn(t),""}}}function Km(){return new Date().toISOString().substring(0,10)}function WT(r,e=$T){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Qm(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Qm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class KT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ME()?FE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Qm(r){return Tu(JSON.stringify({version:2,heartbeats:r})).length}function QT(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r){Ia(new Zs("platform-logger",e=>new aT(e),"PRIVATE")),Ia(new Zs("heartbeat",e=>new qT(e),"PRIVATE")),ri(Yh,Hm,r),ri(Yh,Hm,"esm2017"),ri("fire-js","")}GT("");var Gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ii,by;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function A(){}A.prototype=S.prototype,N.D=S.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(k,L,M){for(var C=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)C[Je-2]=arguments[Je];return S.prototype[L].apply(k,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,A){A||(A=0);var k=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)k[L]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(L=0;16>L;++L)k[L]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=N.g[0],A=N.g[1],L=N.g[2];var M=N.g[3],C=S+(M^A&(L^M))+k[0]+3614090360&4294967295;S=A+(C<<7&4294967295|C>>>25),C=M+(L^S&(A^L))+k[1]+3905402710&4294967295,M=S+(C<<12&4294967295|C>>>20),C=L+(A^M&(S^A))+k[2]+606105819&4294967295,L=M+(C<<17&4294967295|C>>>15),C=A+(S^L&(M^S))+k[3]+3250441966&4294967295,A=L+(C<<22&4294967295|C>>>10),C=S+(M^A&(L^M))+k[4]+4118548399&4294967295,S=A+(C<<7&4294967295|C>>>25),C=M+(L^S&(A^L))+k[5]+1200080426&4294967295,M=S+(C<<12&4294967295|C>>>20),C=L+(A^M&(S^A))+k[6]+2821735955&4294967295,L=M+(C<<17&4294967295|C>>>15),C=A+(S^L&(M^S))+k[7]+4249261313&4294967295,A=L+(C<<22&4294967295|C>>>10),C=S+(M^A&(L^M))+k[8]+1770035416&4294967295,S=A+(C<<7&4294967295|C>>>25),C=M+(L^S&(A^L))+k[9]+2336552879&4294967295,M=S+(C<<12&4294967295|C>>>20),C=L+(A^M&(S^A))+k[10]+4294925233&4294967295,L=M+(C<<17&4294967295|C>>>15),C=A+(S^L&(M^S))+k[11]+2304563134&4294967295,A=L+(C<<22&4294967295|C>>>10),C=S+(M^A&(L^M))+k[12]+1804603682&4294967295,S=A+(C<<7&4294967295|C>>>25),C=M+(L^S&(A^L))+k[13]+4254626195&4294967295,M=S+(C<<12&4294967295|C>>>20),C=L+(A^M&(S^A))+k[14]+2792965006&4294967295,L=M+(C<<17&4294967295|C>>>15),C=A+(S^L&(M^S))+k[15]+1236535329&4294967295,A=L+(C<<22&4294967295|C>>>10),C=S+(L^M&(A^L))+k[1]+4129170786&4294967295,S=A+(C<<5&4294967295|C>>>27),C=M+(A^L&(S^A))+k[6]+3225465664&4294967295,M=S+(C<<9&4294967295|C>>>23),C=L+(S^A&(M^S))+k[11]+643717713&4294967295,L=M+(C<<14&4294967295|C>>>18),C=A+(M^S&(L^M))+k[0]+3921069994&4294967295,A=L+(C<<20&4294967295|C>>>12),C=S+(L^M&(A^L))+k[5]+3593408605&4294967295,S=A+(C<<5&4294967295|C>>>27),C=M+(A^L&(S^A))+k[10]+38016083&4294967295,M=S+(C<<9&4294967295|C>>>23),C=L+(S^A&(M^S))+k[15]+3634488961&4294967295,L=M+(C<<14&4294967295|C>>>18),C=A+(M^S&(L^M))+k[4]+3889429448&4294967295,A=L+(C<<20&4294967295|C>>>12),C=S+(L^M&(A^L))+k[9]+568446438&4294967295,S=A+(C<<5&4294967295|C>>>27),C=M+(A^L&(S^A))+k[14]+3275163606&4294967295,M=S+(C<<9&4294967295|C>>>23),C=L+(S^A&(M^S))+k[3]+4107603335&4294967295,L=M+(C<<14&4294967295|C>>>18),C=A+(M^S&(L^M))+k[8]+1163531501&4294967295,A=L+(C<<20&4294967295|C>>>12),C=S+(L^M&(A^L))+k[13]+2850285829&4294967295,S=A+(C<<5&4294967295|C>>>27),C=M+(A^L&(S^A))+k[2]+4243563512&4294967295,M=S+(C<<9&4294967295|C>>>23),C=L+(S^A&(M^S))+k[7]+1735328473&4294967295,L=M+(C<<14&4294967295|C>>>18),C=A+(M^S&(L^M))+k[12]+2368359562&4294967295,A=L+(C<<20&4294967295|C>>>12),C=S+(A^L^M)+k[5]+4294588738&4294967295,S=A+(C<<4&4294967295|C>>>28),C=M+(S^A^L)+k[8]+2272392833&4294967295,M=S+(C<<11&4294967295|C>>>21),C=L+(M^S^A)+k[11]+1839030562&4294967295,L=M+(C<<16&4294967295|C>>>16),C=A+(L^M^S)+k[14]+4259657740&4294967295,A=L+(C<<23&4294967295|C>>>9),C=S+(A^L^M)+k[1]+2763975236&4294967295,S=A+(C<<4&4294967295|C>>>28),C=M+(S^A^L)+k[4]+1272893353&4294967295,M=S+(C<<11&4294967295|C>>>21),C=L+(M^S^A)+k[7]+4139469664&4294967295,L=M+(C<<16&4294967295|C>>>16),C=A+(L^M^S)+k[10]+3200236656&4294967295,A=L+(C<<23&4294967295|C>>>9),C=S+(A^L^M)+k[13]+681279174&4294967295,S=A+(C<<4&4294967295|C>>>28),C=M+(S^A^L)+k[0]+3936430074&4294967295,M=S+(C<<11&4294967295|C>>>21),C=L+(M^S^A)+k[3]+3572445317&4294967295,L=M+(C<<16&4294967295|C>>>16),C=A+(L^M^S)+k[6]+76029189&4294967295,A=L+(C<<23&4294967295|C>>>9),C=S+(A^L^M)+k[9]+3654602809&4294967295,S=A+(C<<4&4294967295|C>>>28),C=M+(S^A^L)+k[12]+3873151461&4294967295,M=S+(C<<11&4294967295|C>>>21),C=L+(M^S^A)+k[15]+530742520&4294967295,L=M+(C<<16&4294967295|C>>>16),C=A+(L^M^S)+k[2]+3299628645&4294967295,A=L+(C<<23&4294967295|C>>>9),C=S+(L^(A|~M))+k[0]+4096336452&4294967295,S=A+(C<<6&4294967295|C>>>26),C=M+(A^(S|~L))+k[7]+1126891415&4294967295,M=S+(C<<10&4294967295|C>>>22),C=L+(S^(M|~A))+k[14]+2878612391&4294967295,L=M+(C<<15&4294967295|C>>>17),C=A+(M^(L|~S))+k[5]+4237533241&4294967295,A=L+(C<<21&4294967295|C>>>11),C=S+(L^(A|~M))+k[12]+1700485571&4294967295,S=A+(C<<6&4294967295|C>>>26),C=M+(A^(S|~L))+k[3]+2399980690&4294967295,M=S+(C<<10&4294967295|C>>>22),C=L+(S^(M|~A))+k[10]+4293915773&4294967295,L=M+(C<<15&4294967295|C>>>17),C=A+(M^(L|~S))+k[1]+2240044497&4294967295,A=L+(C<<21&4294967295|C>>>11),C=S+(L^(A|~M))+k[8]+1873313359&4294967295,S=A+(C<<6&4294967295|C>>>26),C=M+(A^(S|~L))+k[15]+4264355552&4294967295,M=S+(C<<10&4294967295|C>>>22),C=L+(S^(M|~A))+k[6]+2734768916&4294967295,L=M+(C<<15&4294967295|C>>>17),C=A+(M^(L|~S))+k[13]+1309151649&4294967295,A=L+(C<<21&4294967295|C>>>11),C=S+(L^(A|~M))+k[4]+4149444226&4294967295,S=A+(C<<6&4294967295|C>>>26),C=M+(A^(S|~L))+k[11]+3174756917&4294967295,M=S+(C<<10&4294967295|C>>>22),C=L+(S^(M|~A))+k[2]+718787259&4294967295,L=M+(C<<15&4294967295|C>>>17),C=A+(M^(L|~S))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var A=S-this.blockSize,k=this.B,L=this.h,M=0;M<S;){if(L==0)for(;M<=A;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<S;)if(k[L++]=N.charCodeAt(M++),L==this.blockSize){o(this,k),L=0;break}}else for(;M<S;)if(k[L++]=N[M++],L==this.blockSize){o(this,k),L=0;break}}this.h=L,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var A=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=A&255,A/=256;for(this.u(N),N=Array(16),S=A=0;4>S;++S)for(var k=0;32>k;k+=8)N[A++]=this.g[S]>>>k&255;return N};function u(N,S){var A=f;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=S(N)}function h(N,S){this.h=S;for(var A=[],k=!0,L=N.length-1;0<=L;L--){var M=N[L]|0;k&&M==S||(A[L]=M,k=!1)}this.g=A}var f={};function g(N){return-128<=N&&128>N?u(N,function(S){return new h([S|0],0>S?-1:0)}):new h([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return O(y(-N));for(var S=[],A=1,k=0;N>=A;k++)S[k]=N/A|0,A*=4294967296;return new h(S,0)}function w(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return O(w(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(S,8)),k=I,L=0;L<N.length;L+=8){var M=Math.min(8,N.length-L),C=parseInt(N.substring(L,L+M),S);8>M?(M=y(Math.pow(S,M)),k=k.j(M).add(y(C))):(k=k.j(A),k=k.add(y(C)))}return k}var I=g(0),T=g(1),V=g(16777216);r=h.prototype,r.m=function(){if(z(this))return-O(this).m();for(var N=0,S=1,A=0;A<this.g.length;A++){var k=this.i(A);N+=(0<=k?k:4294967296+k)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(z(this))return"-"+O(this).toString(N);for(var S=y(Math.pow(N,6)),A=this,k="";;){var L=ie(A,S).g;A=W(A,L.j(S));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=L,x(A))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function z(N){return N.h==-1}r.l=function(N){return N=W(this,N),z(N)?-1:x(N)?0:1};function O(N){for(var S=N.g.length,A=[],k=0;k<S;k++)A[k]=~N.g[k];return new h(A,~N.h).add(T)}r.abs=function(){return z(this)?O(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],k=0,L=0;L<=S;L++){var M=k+(this.i(L)&65535)+(N.i(L)&65535),C=(M>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);k=C>>>16,M&=65535,C&=65535,A[L]=C<<16|M}return new h(A,A[A.length-1]&-2147483648?-1:0)};function W(N,S){return N.add(O(S))}r.j=function(N){if(x(this)||x(N))return I;if(z(this))return z(N)?O(this).j(O(N)):O(O(this).j(N));if(z(N))return O(this.j(O(N)));if(0>this.l(V)&&0>N.l(V))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,A=[],k=0;k<2*S;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<N.g.length;L++){var M=this.i(k)>>>16,C=this.i(k)&65535,Je=N.i(L)>>>16,vt=N.i(L)&65535;A[2*k+2*L]+=C*vt,K(A,2*k+2*L),A[2*k+2*L+1]+=M*vt,K(A,2*k+2*L+1),A[2*k+2*L+1]+=C*Je,K(A,2*k+2*L+1),A[2*k+2*L+2]+=M*Je,K(A,2*k+2*L+2)}for(k=0;k<S;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=S;k<2*S;k++)A[k]=0;return new h(A,0)};function K(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ee(N,S){this.g=N,this.h=S}function ie(N,S){if(x(S))throw Error("division by zero");if(x(N))return new ee(I,I);if(z(N))return S=ie(O(N),S),new ee(O(S.g),O(S.h));if(z(S))return S=ie(N,O(S)),new ee(O(S.g),S.h);if(30<N.g.length){if(z(N)||z(S))throw Error("slowDivide_ only works with positive integers.");for(var A=T,k=S;0>=k.l(N);)A=Ie(A),k=Ie(k);var L=ve(A,1),M=ve(k,1);for(k=ve(k,2),A=ve(A,2);!x(k);){var C=M.add(k);0>=C.l(N)&&(L=L.add(A),M=C),k=ve(k,1),A=ve(A,1)}return S=W(N,L.j(S)),new ee(L,S)}for(L=I;0<=N.l(S);){for(A=Math.max(1,Math.floor(N.m()/S.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=y(A),C=M.j(S);z(C)||0<C.l(N);)A-=k,M=y(A),C=M.j(S);x(M)&&(M=T),L=L.add(M),N=W(N,C)}return new ee(L,N)}r.A=function(N){return ie(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)&N.i(k);return new h(A,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)|N.i(k);return new h(A,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)^N.i(k);return new h(A,this.h^N.h)};function Ie(N){for(var S=N.g.length+1,A=[],k=0;k<S;k++)A[k]=N.i(k)<<1|N.i(k-1)>>>31;return new h(A,N.h)}function ve(N,S){var A=S>>5;S%=32;for(var k=N.g.length-A,L=[],M=0;M<k;M++)L[M]=0<S?N.i(M+A)>>>S|N.i(M+A+1)<<32-S:N.i(M+A);return new h(L,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,by=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,ii=h}).apply(typeof Gm<"u"?Gm:typeof self<"u"?self:typeof window<"u"?window:{});var su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var My,fa,Fy,mu,ed,Uy,jy,zy;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,_){return l==Array.prototype||l==Object.prototype||(l[p]=_.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof su=="object"&&su];for(var p=0;p<l.length;++p){var _=l[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var _=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var U=l[E];if(!(U in _))break e;_=_[U]}l=l[l.length-1],E=_[l],p=p(E),p!=E&&p!=null&&e(_,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var _=0,E=!1,U={next:function(){if(!E&&_<l.length){var q=_++;return{value:p(q,l[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function y(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,_){return l.call.apply(l.bind,arguments)}function I(l,p,_){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,E),l.apply(p,U)}}return function(){return l.apply(p,arguments)}}function T(l,p,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:I,T.apply(null,arguments)}function V(l,p){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function x(l,p){function _(){}_.prototype=p.prototype,l.aa=p.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(E,U,q){for(var ne=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ne[ze-2]=arguments[ze];return p.prototype[U].apply(E,ne)}}function z(l){const p=l.length;if(0<p){const _=Array(p);for(let E=0;E<p;E++)_[E]=l[E];return _}return[]}function O(l,p){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(g(E)){const U=l.length||0,q=E.length||0;l.length=U+q;for(let ne=0;ne<q;ne++)l[U+ne]=E[ne]}else l.push(E)}}class W{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function K(l){return/^[\s\xa0]*$/.test(l)}function ee(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function ie(l){return ie[" "](l),l}ie[" "]=function(){};var Ie=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ve(l,p,_){for(const E in l)p.call(_,l[E],E,l)}function N(l,p){for(const _ in l)p.call(void 0,l[_],_,l)}function S(l){const p={};for(const _ in l)p[_]=l[_];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let _,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(_ in E)l[_]=E[_];for(let q=0;q<A.length;q++)_=A[q],Object.prototype.hasOwnProperty.call(E,_)&&(l[_]=E[_])}}function L(l){var p=1;l=l.split(":");const _=[];for(;0<p&&l.length;)_.push(l.shift()),p--;return l.length&&_.push(l.join(":")),_}function M(l){f.setTimeout(()=>{throw l},0)}function C(){var l=pe;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class Je{constructor(){this.h=this.g=null}add(p,_){const E=vt.get();E.set(p,_),this.h?this.h.next=E:this.g=E,this.h=E}}var vt=new W(()=>new Ee,l=>l.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,re=!1,pe=new Je,oe=()=>{const l=f.Promise.resolve(void 0);Ce=()=>{l.then(F)}};var F=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(_){M(_)}var p=vt;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}re=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return l}();function xe(l,p){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Ie){e:{try{ie(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else _=="mouseover"?p=l.fromElement:_=="mouseout"&&(p=l.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:De[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&xe.aa.h.call(this)}}x(xe,fe);var De={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function $e(l,p,_,E,U){this.listener=l,this.proxy=null,this.src=p,this.type=_,this.capture=!!E,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function wt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function sr(l){this.src=l,this.g={},this.h=0}sr.prototype.add=function(l,p,_,E,U){var q=l.toString();l=this.g[q],l||(l=this.g[q]=[],this.h++);var ne=xr(l,p,E,U);return-1<ne?(p=l[ne],_||(p.fa=!1)):(p=new $e(p,this.src,q,!!E,U),p.fa=_,l.push(p)),p};function ts(l,p){var _=p.type;if(_ in l.g){var E=l.g[_],U=Array.prototype.indexOf.call(E,p,void 0),q;(q=0<=U)&&Array.prototype.splice.call(E,U,1),q&&(wt(p),l.g[_].length==0&&(delete l.g[_],l.h--))}}function xr(l,p,_,E){for(var U=0;U<l.length;++U){var q=l[U];if(!q.da&&q.listener==p&&q.capture==!!_&&q.ha==E)return U}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),ns={};function mo(l,p,_,E,U){if(Array.isArray(p)){for(var q=0;q<p.length;q++)mo(l,p[q],_,E,U);return null}return _=_o(_),l&&l[Fe]?l.K(p,_,y(E)?!!E.capture:!1,U):go(l,p,_,!1,E,U)}function go(l,p,_,E,U,q){if(!p)throw Error("Invalid event type");var ne=y(U)?!!U.capture:!!U,ze=is(l);if(ze||(l[mi]=ze=new sr(l)),_=ze.add(p,_,E,ne,q),_.proxy)return _;if(E=Ba(),_.proxy=E,E.src=l,E.listener=_,l.addEventListener)Re||(U=ne),U===void 0&&(U=!1),l.addEventListener(p.toString(),E,U);else if(l.attachEvent)l.attachEvent(ar(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ba(){function l(_){return p.call(l.src,l.listener,_)}const p=yo;return l}function rs(l,p,_,E,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)rs(l,p[q],_,E,U);else E=y(E)?!!E.capture:!!E,_=_o(_),l&&l[Fe]?(l=l.i,p=String(p).toString(),p in l.g&&(q=l.g[p],_=xr(q,_,E,U),-1<_&&(wt(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete l.g[p],l.h--)))):l&&(l=is(l))&&(p=l.g[p.toString()],l=-1,p&&(l=xr(p,_,E,U)),(_=-1<l?p[l]:null)&&or(_))}function or(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Fe])ts(p.i,l);else{var _=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(_,E,l.capture):p.detachEvent?p.detachEvent(ar(_),E):p.addListener&&p.removeListener&&p.removeListener(E),(_=is(p))?(ts(_,l),_.h==0&&(_.src=null,p[mi]=null)):wt(l)}}}function ar(l){return l in ns?ns[l]:ns[l]="on"+l}function yo(l,p){if(l.da)l=!0;else{p=new xe(p,this);var _=l.listener,E=l.ha||l.src;l.fa&&or(l),l=_.call(E,p)}return l}function is(l){return l=l[mi],l instanceof sr?l:null}var ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function _o(l){return typeof l=="function"?l:(l[ss]||(l[ss]=function(p){return l.handleEvent(p)}),l[ss])}function dt(){G.call(this),this.i=new sr(this),this.M=this,this.F=null}x(dt,G),dt.prototype[Fe]=!0,dt.prototype.removeEventListener=function(l,p,_,E){rs(this,l,p,_,E)};function ft(l,p){var _,E=l.F;if(E)for(_=[];E;E=E.F)_.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new fe(p,l);else if(p instanceof fe)p.target=p.target||l;else{var U=p;p=new fe(E,l),k(p,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var ne=p.g=_[q];U=lr(ne,E,!0,p)&&U}if(ne=p.g=l,U=lr(ne,E,!0,p)&&U,U=lr(ne,E,!1,p)&&U,_)for(q=0;q<_.length;q++)ne=p.g=_[q],U=lr(ne,E,!1,p)&&U}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var _=l.g[p],E=0;E<_.length;E++)wt(_[E]);delete l.g[p],l.h--}}this.F=null},dt.prototype.K=function(l,p,_,E){return this.i.add(String(l),p,!1,_,E)},dt.prototype.L=function(l,p,_,E){return this.i.add(String(l),p,!0,_,E)};function lr(l,p,_,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,q=0;q<p.length;++q){var ne=p[q];if(ne&&!ne.da&&ne.capture==_){var ze=ne.listener,pt=ne.ha||ne.src;ne.fa&&ts(l.i,ne),U=ze.call(pt,E)!==!1&&U}}return U&&!E.defaultPrevented}function vo(l,p,_){if(typeof l=="function")_&&(l=T(l,_));else if(l&&typeof l.handleEvent=="function")l=T(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function Pr(l){l.g=vo(()=>{l.g=null,l.i&&(l.i=!1,Pr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class gi extends G{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Pr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(l){G.call(this),this.h=l,this.g={}}x(yi,G);var wo=[];function Eo(l){ve(l.g,function(p,_){this.g.hasOwnProperty(_)&&or(p)},l),l.g={}}yi.prototype.N=function(){yi.aa.N.call(this),Eo(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var To=f.JSON.stringify,Io=f.JSON.parse,So=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function _i(){}_i.prototype.h=null;function os(l){return l.h||(l.h=l.i())}function as(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){fe.call(this,"d")}x(Bn,fe);function ls(){fe.call(this,"c")}x(ls,fe);var $n={},Ro=null;function vi(){return Ro=Ro||new dt}$n.La="serverreachability";function Ao(l){fe.call(this,$n.La,l)}x(Ao,fe);function ur(l){const p=vi();ft(p,new Ao(p))}$n.STAT_EVENT="statevent";function Co(l,p){fe.call(this,$n.STAT_EVENT,l),this.stat=p}x(Co,fe);function st(l){const p=vi();ft(p,new Co(p,l))}$n.Ma="timingevent";function us(l,p){fe.call(this,$n.Ma,l),this.size=p}x(us,fe);function Tn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function wi(){this.g=!0}wi.prototype.xa=function(){this.g=!1};function Ei(l,p,_,E,U,q){l.info(function(){if(l.g)if(q)for(var ne="",ze=q.split("&"),pt=0;pt<ze.length;pt++){var Ve=ze[pt].split("=");if(1<Ve.length){var Et=Ve[0];Ve=Ve[1];var lt=Et.split("_");ne=2<=lt.length&&lt[1]=="type"?ne+(Et+"="+Ve+"&"):ne+(Et+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+p+`
`+_+`
`+ne})}function cs(l,p,_,E,U,q,ne){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+p+`
`+_+`
`+q+" "+ne})}function In(l,p,_,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+ic(l,_)+(E?" "+E:"")})}function xo(l,p){l.info(function(){return"TIMEOUT: "+p})}wi.prototype.info=function(){};function ic(l,p){if(!l.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var E=_[l];if(!(2>E.length)){var U=E[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<U.length;ne++)U[ne]=""}}}}return To(_)}catch{return p}}var hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$a={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function Ti(){}x(Ti,_i),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},Sn=new Ti;function Rn(l,p,_,E){this.j=l,this.i=p,this.l=_,this.R=E||1,this.U=new yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ha}function Ha(){this.i=null,this.g="",this.h=!1}var Po={},ds={};function fs(l,p,_){l.L=1,l.v=Lr(tn(p)),l.m=_,l.P=!0,ko(l,null)}function ko(l,p){l.F=Date.now(),He(l),l.A=tn(l.v);var _=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),br(_.i,"t",E),l.C=0,_=l.j.J,l.h=new Ha,l.g=ll(l.j,_?p:null,!l.m),0<l.O&&(l.M=new gi(T(l.Y,l,l.g),l.O)),p=l.U,_=l.g,E=l.ca;var U="readystatechange";Array.isArray(U)||(U&&(wo[0]=U.toString()),U=wo);for(var q=0;q<U.length;q++){var ne=mo(_,U[q],E||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ur(),Ei(l.i,l.u,l.A,l.l,l.R,l.m)}Rn.prototype.ca=function(l){l=l.target;const p=this.M;p&&Wt(l)==3?p.j():this.Y(l)},Rn.prototype.Y=function(l){try{if(l==this.g)e:{const lt=Wt(this.g);var p=this.g.Ba();const dn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||bo(this.g)))){this.J||lt!=4||p==7||(p==8||0>=dn?ur(3):ur(2)),Ii(this);var _=this.g.Z();this.X=_;t:if(qa(this)){var E=bo(this.g);l="";var U=E.length,q=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),kr(this);var ne="";break t}this.h.i=new f.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,l+=this.h.i.decode(E[p],{stream:!(q&&p==U-1)});E.length=0,this.h.g+=l,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,cs(this.i,this.u,this.A,this.l,this.R,lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,pt=this.g;if((ze=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ze)){var Ve=ze;break t}}Ve=null}if(_=Ve)In(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,No(this,_);else{this.o=!1,this.s=3,st(12),cn(this),kr(this);break e}}if(this.P){_=!0;let rn;for(;!this.J&&this.C<ne.length;)if(rn=sc(this,ne),rn==ds){lt==4&&(this.s=4,st(14),_=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Po){this.s=4,st(15),In(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else In(this.i,this.l,rn,null),No(this,rn);if(qa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||ne.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)In(this.i,this.l,ne,"[Invalid Chunked Response]"),cn(this),kr(this);else if(0<ne.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Fo(Et),Et.M=!0,st(11))}}else In(this.i,this.l,ne,null),No(this,ne);lt==4&&cn(this),this.o&&!this.J&&(lt==4?Ss(this.j,this):(this.o=!1,He(this)))}else vs(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),cn(this),kr(this)}}}catch{}finally{}};function qa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function sc(l,p){var _=l.C,E=p.indexOf(`
`,_);return E==-1?ds:(_=Number(p.substring(_,E)),isNaN(_)?Po:(E+=1,E+_>p.length?ds:(p=p.slice(E,E+_),l.C=E+_,p)))}Rn.prototype.cancel=function(){this.J=!0,cn(this)};function He(l){l.S=Date.now()+l.I,Wa(l,l.I)}function Wa(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tn(T(l.ba,l),p)}function Ii(l){l.B&&(f.clearTimeout(l.B),l.B=null)}Rn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(xo(this.i,this.A),this.L!=2&&(ur(),st(17)),cn(this),this.s=2,kr(this)):Wa(this,this.S-l)};function kr(l){l.j.G==0||l.J||Ss(l.j,l)}function cn(l){Ii(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Eo(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function No(l,p){try{var _=l.j;if(_.G!=0&&(_.g==l||jt(_.h,l))){if(!l.K&&jt(_.h,l)&&_.G==3){try{var E=_.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)Is(_),kn(_);else break e;Ts(_),st(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tn(T(_.Za,_),6e3));if(1>=Qa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else pr(_,11)}else if((l.K||_.g==l)&&Is(_),!K(p))for(U=_.Da.g.parse(p),p=0;p<U.length;p++){let Ve=U[p];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Et=Ve[3];Et!=null&&(_.la=Et,_.j.info("VER="+_.la));const lt=Ve[4];lt!=null&&(_.Aa=lt,_.j.info("SVER="+_.Aa));const dn=Ve[5];dn!=null&&typeof dn=="number"&&0<dn&&(E=1.5*dn,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const rn=l.g;if(rn){const ki=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var q=E.h;q.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Do(q,q.h),q.h=null))}if(E.D){const As=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(E.ya=As,Be(E.I,E.D,As))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var ne=l;if(E.qa=al(E,E.J?E.ia:null,E.W),ne.K){Ga(E.h,ne);var ze=ne,pt=E.L;pt&&(ze.I=pt),ze.B&&(Ii(ze),He(ze)),E.g=ne}else Pi(E);0<_.i.length&&Kn(_)}else Ve[0]!="stop"&&Ve[0]!="close"||pr(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?pr(_,7):Ct(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}ur(4)}catch{}}var Ka=class{constructor(l,p){this.g=l,this.map=p}};function Si(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Qa(l){return l.h?1:l.g?l.g.size:0}function jt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Do(l,p){l.g?l.g.add(p):l.h=p}function Ga(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Si.prototype.cancel=function(){if(this.i=Xa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Xa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const _ of l.g.values())p=p.concat(_.D);return p}return z(l.i)}function ps(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],_=l.length,E=0;E<_;E++)p.push(l[E]);return p}p=[],_=0;for(E in l)p[_++]=l[E];return p}function ms(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var _=0;_<l;_++)p.push(_);return p}p=[],_=0;for(const E in l)p[_++]=E;return p}}}function Nr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var _=ms(l),E=ps(l),U=E.length,q=0;q<U;q++)p.call(void 0,E[q],_&&_[q],l)}var Ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oc(l,p){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var E=l[_].indexOf("="),U=null;if(0<=E){var q=l[_].substring(0,E);U=l[_].substring(E+1)}else q=l[_];p(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function cr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof cr){this.h=l.h,Ai(this,l.j),this.o=l.o,this.g=l.g,Dr(this,l.s),this.l=l.l;var p=l.i,_=new Hn;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Vr(this,_),this.m=l.m}else l&&(p=String(l).match(Ri))?(this.h=!1,Ai(this,p[1]||"",!0),this.o=Ne(p[2]||""),this.g=Ne(p[3]||"",!0),Dr(this,p[4]),this.l=Ne(p[5]||"",!0),Vr(this,p[6]||"",!0),this.m=Ne(p[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}cr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Or(p,gs,!0),":");var _=this.g;return(_||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Or(p,gs,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(Or(_,_.charAt(0)=="/"?Za:Ja,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",Or(_,Vo)),l.join("")};function tn(l){return new cr(l)}function Ai(l,p,_){l.j=_?Ne(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Dr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Vr(l,p,_){p instanceof Hn?(l.i=p,qn(l.i,l.h)):(_||(p=Or(p,el)),l.i=new Hn(p,l.h))}function Be(l,p,_){l.i.set(p,_)}function Lr(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ne(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Or(l,p,_){return typeof l=="string"?(l=encodeURI(l).replace(p,Ya),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ya(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var gs=/[#\/\?@]/g,Ja=/[#\?:]/g,Za=/[#\?]/g,el=/[#\?@]/g,Vo=/#/g;function Hn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function At(l){l.g||(l.g=new Map,l.h=0,l.i&&oc(l.i,function(p,_){l.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Hn.prototype,r.add=function(l,p){At(this),this.i=null,l=hn(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(p),this.h+=1,this};function An(l,p){At(l),p=hn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Cn(l,p){return At(l),p=hn(l,p),l.g.has(p)}r.forEach=function(l,p){At(this),this.g.forEach(function(_,E){_.forEach(function(U){l.call(p,U,E,this)},this)},this)},r.na=function(){At(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let E=0;E<p.length;E++){const U=l[E];for(let q=0;q<U.length;q++)_.push(p[E])}return _},r.V=function(l){At(this);let p=[];if(typeof l=="string")Cn(this,l)&&(p=p.concat(this.g.get(hn(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)p=p.concat(l[_])}return p},r.set=function(l,p){return At(this),this.i=null,l=hn(this,l),Cn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function br(l,p,_){An(l,p),0<_.length&&(l.i=null,l.g.set(hn(l,p),z(_)),l.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var E=p[_];const q=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var U=q;ne[E]!==""&&(U+="="+encodeURIComponent(String(ne[E]))),l.push(U)}}return this.i=l.join("&")};function hn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function qn(l,p){p&&!l.j&&(At(l),l.i=null,l.g.forEach(function(_,E){var U=E.toLowerCase();E!=U&&(An(this,E),br(this,U,_))},l)),l.j=p}function ac(l,p){const _=new wi;if(f.Image){const E=new Image;E.onload=V(qt,_,"TestLoadImage: loaded",!0,p,E),E.onerror=V(qt,_,"TestLoadImage: error",!1,p,E),E.onabort=V(qt,_,"TestLoadImage: abort",!1,p,E),E.ontimeout=V(qt,_,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function tl(l,p){const _=new wi,E=new AbortController,U=setTimeout(()=>{E.abort(),qt(_,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(q=>{clearTimeout(U),q.ok?qt(_,"TestPingServer: ok",!0,p):qt(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),qt(_,"TestPingServer: error",!1,p)})}function qt(l,p,_,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(_)}catch{}}function lc(){this.g=new So}function nl(l,p,_){const E=_||"";try{Nr(l,function(U,q){let ne=U;y(U)&&(ne=To(U)),p.push(E+q+"="+encodeURIComponent(ne))})}catch(U){throw p.push(E+"type="+encodeURIComponent("_badmap")),U}}function hr(l){this.l=l.Ub||null,this.j=l.eb||!1}x(hr,_i),hr.prototype.g=function(){return new Ci(this.l,this.j)},hr.prototype.i=function(l){return function(){return l}}({});function Ci(l,p){dt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ci,dt),r=Ci.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Pn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?xn(this):Pn(this),this.readyState==3&&rl(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,xn(this))},r.Qa=function(l){this.g&&(this.response=l,xn(this))},r.ga=function(){this.g&&xn(this)};function xn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Pn(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=p.next();return l.join(`\r
`)};function Pn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function dr(l){let p="";return ve(l,function(_,E){p+=E,p+=":",p+=_,p+=`\r
`}),p}function Mr(l,p,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=dr(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):Be(l,p,_))}function Ge(l){dt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ge,dt);var uc=/^https?$/i,Lo=["POST","PUT"];r=Ge.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?os(this.o):os(Sn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(q){xi(this,q);return}if(l=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)_.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())_.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Lo,p,void 0))||E||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of _)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(l),this.u=!1}catch(q){xi(this,q)}};function xi(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,ys(l),nn(l)}function ys(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),nn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Oo(this):this.bb())},r.bb=function(){Oo(this)};function Oo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Wt(l)!=4||l.Z()!=2)){if(l.u&&Wt(l)==4)vo(l.Ea,0,l);else if(ft(l,"readystatechange"),Wt(l)==4){l.h=!1;try{const ne=l.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var E;if(E=ne===0){var U=String(l.D).match(Ri)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),E=!uc.test(U?U.toLowerCase():"")}_=E}if(_)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var q=2<Wt(l)?l.g.statusText:""}catch{q=""}l.l=q+" ["+l.Z()+"]",ys(l)}}finally{nn(l)}}}}function nn(l,p){if(l.g){_s(l);const _=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ft(l,"ready");try{_.onreadystatechange=E}catch{}}}function _s(l){l.I&&(f.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function Wt(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Io(p)}};function bo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(l){const p={};l=(l.g&&2<=Wt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(K(l[E]))continue;var _=L(l[E]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=p[U]||[];p[U]=q,q.push(_)}N(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wn(l,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||p}function Mo(l){this.Aa=0,this.i=[],this.j=new wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wn("baseRetryDelayMs",5e3,l),this.cb=Wn("retryDelaySeedMs",1e4,l),this.Wa=Wn("forwardChannelMaxRetries",2,l),this.wa=Wn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(l&&l.concurrentRequestLimit),this.Da=new lc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Mo.prototype,r.la=8,r.G=1,r.connect=function(l,p,_,E){st(0),this.W=l,this.H=p||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=al(this,null,this.W),Kn(this)};function Ct(l){if(ws(l),l.G==3){var p=l.U++,_=tn(l.I);if(Be(_,"SID",l.K),Be(_,"RID",p),Be(_,"TYPE","terminate"),fr(l,_),p=new Rn(l,l.j,p),p.L=2,p.v=Lr(tn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.v,_=!0),_||(p.g=ll(p.j,null),p.g.ea(p.v)),p.F=Date.now(),He(p)}ol(l)}function kn(l){l.g&&(Fo(l),l.g.cancel(),l.g=null)}function ws(l){kn(l),l.u&&(f.clearTimeout(l.u),l.u=null),Is(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function Kn(l){if(!en(l.h)&&!l.s){l.s=!0;var p=l.Ga;Ce||oe(),re||(Ce(),re=!0),pe.add(p,l),l.B=0}}function cc(l,p){return Qa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tn(T(l.Ga,l,p),sl(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const U=new Rn(this,this.j,l);let q=this.o;if(this.S&&(q?(q=S(q),k(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Fr(this,U,p),_=tn(this.I),Be(_,"RID",l),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),fr(this,_),q&&(this.O?p="headers="+encodeURIComponent(String(dr(q)))+"&"+p:this.m&&Mr(_,this.m,q)),Do(this.h,U),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",p),Be(_,"SID","null"),U.T=!0,fs(U,_,null)):fs(U,_,p),this.G=2}}else this.G==3&&(l?Es(this,l):this.i.length==0||en(this.h)||Es(this))};function Es(l,p){var _;p?_=p.l:_=l.U++;const E=tn(l.I);Be(E,"SID",l.K),Be(E,"RID",_),Be(E,"AID",l.T),fr(l,E),l.m&&l.o&&Mr(E,l.m,l.o),_=new Rn(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Fr(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Do(l.h,_),fs(_,E,p)}function fr(l,p){l.H&&ve(l.H,function(_,E){Be(p,E,_)}),l.l&&Nr({},function(_,E){Be(p,E,_)})}function Fr(l,p,_){_=Math.min(l.i.length,_);var E=l.l?T(l.l.Na,l.l,l):null;e:{var U=l.i;let q=-1;for(;;){const ne=["count="+_];q==-1?0<_?(q=U[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let ze=!0;for(let pt=0;pt<_;pt++){let Ve=U[pt].g;const Et=U[pt].map;if(Ve-=q,0>Ve)q=Math.max(0,U[pt].g-100),ze=!1;else try{nl(Et,ne,"req"+Ve+"_")}catch{E&&E(Et)}}if(ze){E=ne.join("&");break e}}}return l=l.i.splice(0,_),p.D=l,E}function Pi(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Ce||oe(),re||(Ce(),re=!0),pe.add(p,l),l.v=0}}function Ts(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tn(T(l.Fa,l),sl(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,il(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tn(T(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),kn(this),il(this))};function Fo(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function il(l){l.g=new Rn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=tn(l.qa);Be(p,"RID","rpc"),Be(p,"SID",l.K),Be(p,"AID",l.T),Be(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(p,"TO",l.ja),Be(p,"TYPE","xmlhttp"),fr(l,p),l.m&&l.o&&Mr(p,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=Lr(tn(p)),_.m=null,_.P=!0,ko(_,l)}r.Za=function(){this.C!=null&&(this.C=null,kn(this),Ts(this),st(19))};function Is(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Ss(l,p){var _=null;if(l.g==p){Is(l),Fo(l),l.g=null;var E=2}else if(jt(l.h,p))_=p.D,Ga(l.h,p),E=1;else return;if(l.G!=0){if(p.o)if(E==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var U=l.B;E=vi(),ft(E,new us(E,_)),Kn(l)}else Pi(l);else if(U=p.s,U==3||U==0&&0<p.X||!(E==1&&cc(l,p)||E==2&&Ts(l)))switch(_&&0<_.length&&(p=l.h,p.i=p.i.concat(_)),U){case 1:pr(l,5);break;case 4:pr(l,10);break;case 3:pr(l,6);break;default:pr(l,2)}}}function sl(l,p){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*p}function pr(l,p){if(l.j.info("Error code "+p),p==2){var _=T(l.fb,l),E=l.Xa;const U=!E;E=new cr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ai(E,"https"),Lr(E),U?ac(E.toString(),_):tl(E.toString(),_)}else st(2);l.G=0,l.l&&l.l.sa(p),ol(l),ws(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function ol(l){if(l.G=0,l.ka=[],l.l){const p=Xa(l.h);(p.length!=0||l.i.length!=0)&&(O(l.ka,p),O(l.ka,l.i),l.h.i.length=0,z(l.i),l.i.length=0),l.l.ra()}}function al(l,p,_){var E=_ instanceof cr?tn(_):new cr(_);if(E.g!="")p&&(E.g=p+"."+E.g),Dr(E,E.s);else{var U=f.location;E=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var q=new cr(null);E&&Ai(q,E),p&&(q.g=p),U&&Dr(q,U),_&&(q.l=_),E=q}return _=l.D,p=l.ya,_&&p&&Be(E,_,p),Be(E,"VER",l.la),fr(l,E),E}function ll(l,p,_){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ge(new hr({eb:_})):new Ge(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}r=Uo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Rs(){}Rs.prototype.g=function(l,p){return new zt(l,p)};function zt(l,p){dt.call(this),this.g=new Mo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!K(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!K(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Qn(this)}x(zt,dt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Ct(this.g)},zt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=To(l),l=_);p.i.push(new Ka(p.Ya++,l)),p.G==3&&Kn(p)},zt.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,zt.aa.N.call(this)};function ul(l){Bn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const _ in p){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}x(ul,Bn);function cl(){ls.call(this),this.status=1}x(cl,ls);function Qn(l){this.g=l}x(Qn,Uo),Qn.prototype.ua=function(){ft(this.g,"a")},Qn.prototype.ta=function(l){ft(this.g,new ul(l))},Qn.prototype.sa=function(l){ft(this.g,new cl)},Qn.prototype.ra=function(){ft(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,zy=function(){return new Rs},jy=function(){return vi()},Uy=$n,ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,mu=hs,$a.COMPLETE="complete",Fy=$a,as.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",dt.prototype.listen=dt.prototype.K,fa=as,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,My=Ge}).apply(typeof su<"u"?su:typeof self<"u"?self:typeof window<"u"?window:{});const Xm="@firebase/firestore",Ym="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Ay("@firebase/firestore");function Qs(){return Wi.logLevel}function ae(r,...e){if(Wi.logLevel<=Oe.DEBUG){const t=e.map(Pd);Wi.debug(`Firestore (${uo}): ${r}`,...t)}}function Ar(r,...e){if(Wi.logLevel<=Oe.ERROR){const t=e.map(Pd);Wi.error(`Firestore (${uo}): ${r}`,...t)}}function eo(r,...e){if(Wi.logLevel<=Oe.WARN){const t=e.map(Pd);Wi.warn(`Firestore (${uo}): ${r}`,...t)}}function Pd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,By(r,s,t)}function By(r,e,t){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ar(s),new Error(s)}function je(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||By(e,o,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Xi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}}class YT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JT{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new si;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new si,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new si)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string",31837,{l:s}),new $y(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class ZT{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e1{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new ZT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ky(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){je(this.o===void 0,3512);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=n1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ae(r,e){return r<e?-1:r>e?1:0}function td(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ae(s,o);{const u=Hy(),h=r1(u.encode(Zm(r,t)),u.encode(Zm(e,t)));return h!==0?h:Ae(s,o)}}t+=s>65535?2:1}return Ae(r.length,e.length)}function Zm(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function r1(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ae(r[t],e[t]);return Ae(r.length,e.length)}function to(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=-62135596800,tg=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*tg);return new yt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eg)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tg}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-eg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new yt(0,0))}static max(){return new Te(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="__name__";class Zn{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&_e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Zn.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ae(e.length,t.length)}static compareSegments(e,t){const s=Zn.isNumericId(e),o=Zn.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Zn.extractNumericId(e).compare(Zn.extractNumericId(t)):td(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ii.fromString(e.substring(4,e.length-2))}}class Qe extends Zn{construct(e,t,s){return new Qe(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Qe(t)}static emptyPath(){return new Qe([])}}const i1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Zn{construct(e,t,s){return new Nt(e,t,s)}static isValidIdentifier(e){return i1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ng}static keyField(){return new Nt([ng])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Qe.fromString(e))}static fromName(e){return new me(Qe.fromString(e).popFirst(5))}static empty(){return new me(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=-1;function s1(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new yt(t+1,0):new yt(t,s));return new li(o,me.empty(),e)}function o1(r){return new li(r.readTime,r.key,Ra)}class li{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new li(Te.min(),me.empty(),Ra)}static max(){return new li(Te.max(),me.empty(),Ra)}}function a1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(r.documentKey,e.documentKey),t!==0?t:Ae(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==l1)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,s)=>{t(e)})}static reject(e){return new Q((t,s)=>{s(e)})}static waitFor(e){return new Q((t,s)=>{let o=0,u=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=Q.resolve(!1);for(const s of e)t=t.next(o=>o?Q.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new Q((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next(w=>{h[y]=w,++f,f===u&&s(h)},w=>o(w))}})}static doWhile(e,t){return new Q((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function c1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}zu.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=-1;function Bu(r){return r==null}function Ru(r){return r===0&&1/r==-1/0}function h1(r){return typeof r=="number"&&Number.isInteger(r)&&!Ru(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="";function d1(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=rg(e)),e=f1(r.get(t),e);return rg(e)}function f1(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case Wy:t+="";break;default:t+=u}}return t}function rg(r){return r+Wy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Yi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ky(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,t){this.comparator=e,this.root=t||kt.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ou(this.root,e,this.comparator,!0)}}class ou{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??kt.RED,this.left=o??kt.EMPTY,this.right=u??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new kt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sg(this.data.getIterator())}getIteratorFrom(e){return new sg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class sg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new _t(Nt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Qy("Invalid base64 string: "+u):u}}(e);return new Dt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const p1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(r){if(je(!!r,39018),typeof r=="string"){let e=0;const t=p1.exec(r);if(je(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(r.seconds),nanos:at(r.nanos)}}function at(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ci(r){return typeof r=="string"?Dt.fromBase64String(r):Dt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="server_timestamp",Xy="__type__",Yy="__previous_value__",Jy="__local_write_time__";function Nd(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xy])===null||t===void 0?void 0:t.stringValue)===Gy}function $u(r){const e=r.mapValue.fields[Yy];return Nd(e)?$u(e):e}function Aa(r){const e=ui(r.mapValue.fields[Jy].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t,s,o,u,h,f,g,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w}}const Au="(default)";class Ca{constructor(e,t){this.projectId=e,this.database=t||Au}static empty(){return new Ca("","")}get isDefaultDatabase(){return this.database===Au}isEqual(e){return e instanceof Ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="__type__",g1="__max__",au={mapValue:{}},e_="__vector__",Cu="value";function hi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nd(r)?4:_1(r)?9007199254740991:y1(r)?10:11:_e(28295,{value:r})}function ir(r,e){if(r===e)return!0;const t=hi(r);if(t!==hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Aa(r).isEqual(Aa(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ui(o.timestampValue),f=ui(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ci(o.bytesValue).isEqual(ci(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return at(o.geoPointValue.latitude)===at(u.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return at(o.integerValue)===at(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=at(o.doubleValue),f=at(u.doubleValue);return h===f?Ru(h)===Ru(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return to(r.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(ig(h)!==ig(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!ir(h[g],f[g])))return!1;return!0}(r,e);default:return _e(52216,{left:r})}}function xa(r,e){return(r.values||[]).find(t=>ir(t,e))!==void 0}function no(r,e){if(r===e)return 0;const t=hi(r),s=hi(e);if(t!==s)return Ae(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ae(r.booleanValue,e.booleanValue);case 2:return function(u,h){const f=at(u.integerValue||u.doubleValue),g=at(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,e);case 3:return og(r.timestampValue,e.timestampValue);case 4:return og(Aa(r),Aa(e));case 5:return td(r.stringValue,e.stringValue);case 6:return function(u,h){const f=ci(u),g=ci(h);return f.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),g=h.split("/");for(let y=0;y<f.length&&y<g.length;y++){const w=Ae(f[y],g[y]);if(w!==0)return w}return Ae(f.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const f=Ae(at(u.latitude),at(h.latitude));return f!==0?f:Ae(at(u.longitude),at(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return ag(r.arrayValue,e.arrayValue);case 10:return function(u,h){var f,g,y,w;const I=u.fields||{},T=h.fields||{},V=(f=I[Cu])===null||f===void 0?void 0:f.arrayValue,x=(g=T[Cu])===null||g===void 0?void 0:g.arrayValue,z=Ae(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((w=x==null?void 0:x.values)===null||w===void 0?void 0:w.length)||0);return z!==0?z:ag(V,x)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===au.mapValue&&h===au.mapValue)return 0;if(u===au.mapValue)return 1;if(h===au.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),y=h.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let I=0;I<g.length&&I<w.length;++I){const T=td(g[I],w[I]);if(T!==0)return T;const V=no(f[g[I]],y[w[I]]);if(V!==0)return V}return Ae(g.length,w.length)}(r.mapValue,e.mapValue);default:throw _e(23264,{Pe:t})}}function og(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ae(r,e);const t=ui(r),s=ui(e),o=Ae(t.seconds,s.seconds);return o!==0?o:Ae(t.nanos,s.nanos)}function ag(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=no(t[o],s[o]);if(u)return u}return Ae(t.length,s.length)}function ro(r){return nd(r)}function nd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ui(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ci(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return me.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=nd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${nd(t.fields[h])}`;return o+"}"}(r.mapValue):_e(61005,{value:r})}function gu(r){switch(hi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$u(r);return e?16+gu(e):16;case 5:return 2*r.stringValue.length;case 6:return ci(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+gu(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Yi(s.fields,(u,h)=>{o+=u.length+gu(h)}),o}(r.mapValue);default:throw _e(13486,{value:r})}}function lg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rd(r){return!!r&&"integerValue"in r}function Dd(r){return!!r&&"arrayValue"in r}function ug(r){return!!r&&"nullValue"in r}function cg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yu(r){return!!r&&"mapValue"in r}function y1(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zy])===null||t===void 0?void 0:t.stringValue)===e_}function ya(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Yi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ya(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ya(r.arrayValue.values[t]);return e}return Object.assign({},r)}function _1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===g1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!yu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(t)}setAll(e){let t=Nt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=ya(h):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());yu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Yi(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new vn(ya(this.value))}}function t_(r){const e=[];return Yi(r.fields,(t,s)=>{const o=new Nt([t]);if(yu(s)){const u=t_(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t,s,o,u,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ut(e,0,Te.min(),Te.min(),Te.min(),vn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ut(e,1,t,Te.min(),s,o,0)}static newNoDocument(e,t){return new Ut(e,2,t,Te.min(),Te.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,Te.min(),Te.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,t){this.position=e,this.inclusive=t}}function hg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),t.key):s=no(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ir(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t="asc"){this.field=e,this.dir=t}}function v1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{}class ht extends n_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new E1(e,t,s):t==="array-contains"?new S1(e,s):t==="in"?new R1(e,s):t==="not-in"?new A1(e,s):t==="array-contains-any"?new C1(e,s):new ht(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new T1(e,s):new I1(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(no(t,this.value)):t!==null&&hi(this.value)===hi(t)&&this.matchesComparison(no(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends n_{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Un(e,t)}matches(e){return r_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function r_(r){return r.op==="and"}function i_(r){return w1(r)&&r_(r)}function w1(r){for(const e of r.filters)if(e instanceof Un)return!1;return!0}function id(r){if(r instanceof ht)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(i_(r))return r.filters.map(e=>id(e)).join(",");{const e=r.filters.map(t=>id(t)).join(",");return`${r.op}(${e})`}}function s_(r,e){return r instanceof ht?function(s,o){return o instanceof ht&&s.op===o.op&&s.field.isEqual(o.field)&&ir(s.value,o.value)}(r,e):r instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,f)=>u&&s_(h,o.filters[f]),!0):!1}(r,e):void _e(19439)}function o_(r){return r instanceof ht?function(t){return`${t.field.canonicalString()} ${t.op} ${ro(t.value)}`}(r):r instanceof Un?function(t){return t.op.toString()+" {"+t.getFilters().map(o_).join(" ,")+"}"}(r):"Filter"}class E1 extends ht{constructor(e,t,s){super(e,t,s),this.key=me.fromName(s.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class T1 extends ht{constructor(e,t){super(e,"in",t),this.keys=a_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class I1 extends ht{constructor(e,t){super(e,"not-in",t),this.keys=a_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function a_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>me.fromName(s.referenceValue))}class S1 extends ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dd(t)&&xa(t.arrayValue,this.value)}}class R1 extends ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xa(this.value.arrayValue,t)}}class A1 extends ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xa(this.value.arrayValue,t)}}class C1 extends ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>xa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.Ie=null}}function fg(r,e=null,t=[],s=[],o=null,u=null,h=null){return new x1(r,e,t,s,o,u,h)}function Vd(r){const e=Se(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>id(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Bu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ro(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ro(s)).join(",")),e.Ie=t}return e.Ie}function Ld(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!v1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!s_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dg(r.startAt,e.startAt)&&dg(r.endAt,e.endAt)}function sd(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t=null,s=[],o=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function P1(r,e,t,s,o,u,h,f){return new ba(r,e,t,s,o,u,h,f)}function l_(r){return new ba(r)}function pg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function u_(r){return r.collectionGroup!==null}function _a(r){const e=Se(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new _t(Nt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Pu(u,s))}),t.has(Nt.keyField().canonicalString())||e.Ee.push(new Pu(Nt.keyField(),s))}return e.Ee}function tr(r){const e=Se(r);return e.de||(e.de=k1(e,_a(r))),e.de}function k1(r,e){if(r.limitType==="F")return fg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Pu(o.field,u)});const t=r.endAt?new xu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xu(r.startAt.position,r.startAt.inclusive):null;return fg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function od(r,e){const t=r.filters.concat([e]);return new ba(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ad(r,e,t){return new ba(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Hu(r,e){return Ld(tr(r),tr(e))&&r.limitType===e.limitType}function c_(r){return`${Vd(tr(r))}|lt:${r.limitType}`}function Gs(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>o_(o)).join(", ")}]`),Bu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>ro(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>ro(o)).join(",")),`Target(${s})`}(tr(r))}; limitType=${r.limitType})`}function qu(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of _a(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,g){const y=hg(h,f,g);return h.inclusive?y<=0:y<0}(s.startAt,_a(s),o)||s.endAt&&!function(h,f,g){const y=hg(h,f,g);return h.inclusive?y>=0:y>0}(s.endAt,_a(s),o))}(r,e)}function N1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function h_(r){return(e,t)=>{let s=!1;for(const o of _a(r)){const u=D1(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function D1(r,e,t){const s=r.field.isKeyField()?me.comparator(e.key,t.key):function(u,h,f){const g=h.data.field(u),y=f.data.field(u);return g!==null&&y!==null?no(g,y):_e(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Ky(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new tt(me.comparator);function Cr(){return V1}const d_=new tt(me.comparator);function pa(...r){let e=d_;for(const t of r)e=e.insert(t.key,t);return e}function f_(r){let e=d_;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Hi(){return va()}function p_(){return va()}function va(){return new Ji(r=>r.toString(),(r,e)=>r.isEqual(e))}const L1=new tt(me.comparator),O1=new _t(me.comparator);function ke(...r){let e=O1;for(const t of r)e=e.add(t);return e}const b1=new _t(Ae);function M1(){return b1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ru(e)?"-0":e}}function m_(r){return{integerValue:""+r}}function F1(r,e){return h1(e)?m_(e):Od(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this._=void 0}}function U1(r,e,t){return r instanceof ku?function(o,u){const h={fields:{[Xy]:{stringValue:Gy},[Jy]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Nd(u)&&(u=$u(u)),u&&(h.fields[Yy]=u),{mapValue:h}}(t,e):r instanceof Pa?y_(r,e):r instanceof ka?__(r,e):function(o,u){const h=g_(o,u),f=mg(h)+mg(o.Re);return rd(h)&&rd(o.Re)?m_(f):Od(o.serializer,f)}(r,e)}function j1(r,e,t){return r instanceof Pa?y_(r,e):r instanceof ka?__(r,e):t}function g_(r,e){return r instanceof Nu?function(s){return rd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ku extends Wu{}class Pa extends Wu{constructor(e){super(),this.elements=e}}function y_(r,e){const t=v_(e);for(const s of r.elements)t.some(o=>ir(o,s))||t.push(s);return{arrayValue:{values:t}}}class ka extends Wu{constructor(e){super(),this.elements=e}}function __(r,e){let t=v_(e);for(const s of r.elements)t=t.filter(o=>!ir(o,s));return{arrayValue:{values:t}}}class Nu extends Wu{constructor(e,t){super(),this.serializer=e,this.Re=t}}function mg(r){return at(r.integerValue||r.doubleValue)}function v_(r){return Dd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function z1(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Pa&&o instanceof Pa||s instanceof ka&&o instanceof ka?to(s.elements,o.elements,ir):s instanceof Nu&&o instanceof Nu?ir(s.Re,o.Re):s instanceof ku&&o instanceof ku}(r.transform,e.transform)}class B1{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _u(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ku{}function w_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bd(r.key,nr.none()):new Ma(r.key,r.data,nr.none());{const t=r.data,s=vn.empty();let o=new _t(Nt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Zi(r.key,s,new Mn(o.toArray()),nr.none())}}function $1(r,e,t){r instanceof Ma?function(o,u,h){const f=o.value.clone(),g=yg(o.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Zi?function(o,u,h){if(!_u(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=yg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(E_(o)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function wa(r,e,t,s){return r instanceof Ma?function(u,h,f,g){if(!_u(u.precondition,h))return f;const y=u.value.clone(),w=_g(u.fieldTransforms,g,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof Zi?function(u,h,f,g){if(!_u(u.precondition,h))return f;const y=_g(u.fieldTransforms,g,h),w=h.data;return w.setAll(E_(u)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(I=>I.field))}(r,e,t,s):function(u,h,f){return _u(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function H1(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=g_(s.transform,o||null);u!=null&&(t===null&&(t=vn.empty()),t.set(s.field,u))}return t||null}function gg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,h)=>z1(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ma extends Ku{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends Ku{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function E_(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function yg(r,e,t){const s=new Map;je(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,j1(h,f,t[o]))}return s}function _g(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,U1(u,h,e))}return s}class bd extends Ku{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q1 extends Ku{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&$1(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=wa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=wa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=p_();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=t.has(o.key)?null:f;const g=w_(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(t,s)=>gg(t,s))&&to(this.baseMutations,e.baseMutations,(t,s)=>gg(t,s))}}class Md{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){je(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return L1}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Md(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Le;function G1(r){switch(r){case X.OK:return _e(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function T_(r){if(r===void 0)return Ar("GRPC error has no .code"),X.UNKNOWN;switch(r){case ct.OK:return X.OK;case ct.CANCELLED:return X.CANCELLED;case ct.UNKNOWN:return X.UNKNOWN;case ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ct.INTERNAL:return X.INTERNAL;case ct.UNAVAILABLE:return X.UNAVAILABLE;case ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ct.NOT_FOUND:return X.NOT_FOUND;case ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ct.ABORTED:return X.ABORTED;case ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ct.DATA_LOSS:return X.DATA_LOSS;default:return _e(39323,{code:r})}}(Le=ct||(ct={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new ii([4294967295,4294967295],0);function vg(r){const e=Hy().encode(r),t=new by;return t.update(e),new Uint8Array(t.digest())}function wg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ii([t,s],0),new ii([o,u],0)]}class Fd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ma(`Invalid padding: ${t}`);if(s<0)throw new ma(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ma(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ma(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ii.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(ii.fromNumber(s)));return o.compare(X1)===1&&(o=new ii([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=vg(e),[s,o]=wg(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.Se(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Fd(u,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.pe===0)return;const t=vg(e),[s,o]=wg(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.be(h)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Fa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Qu(Te.min(),o,new tt(Ae),Cr(),ke())}}class Fa{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Fa(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class I_{constructor(e,t){this.targetId=e,this.Ce=t}}class S_{constructor(e,t,s=Dt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Eg{constructor(){this.Fe=0,this.Me=Tg(),this.xe=Dt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),t=ke(),s=ke();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}}),new Fa(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=Tg()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,je(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Y1{constructor(e){this.ze=e,this.je=new Map,this.He=Cr(),this.Je=lu(),this.Ye=lu(),this.Ze=new tt(Ae)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(sd(u))if(s===0){const h=new me(u.path);this.tt(t,h,Ut.newNoDocument(h,Te.min()))}else je(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const f=this.ct(e),g=f?this.lt(f,e,h):1;if(g!==0){this.st(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,f;try{h=ci(s).toUint8Array()}catch(g){if(g instanceof Qy)return eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Fd(h,o,u)}catch(g){return eo(g instanceof ma?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.pe===0?null:f}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,h)=>{const f=this._t(h);if(f){if(u.current&&sd(f.target)){const g=new me(f.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,Ut.newNoDocument(g,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let s=ke();this.Ye.forEach((u,h)=>{let f=!0;h.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new Qu(e,t,this.Ze,this.He,s);return this.He=Cr(),this.Je=lu(),this.Ye=lu(),this.Ze=new tt(Ae),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Eg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new _t(Ae),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new _t(Ae),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Eg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function lu(){return new tt(me.comparator)}function Tg(){return new tt(me.comparator)}const J1={asc:"ASCENDING",desc:"DESCENDING"},Z1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eI={and:"AND",or:"OR"};class tI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ld(r,e){return r.useProto3Json||Bu(e)?e:{value:e}}function Du(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nI(r,e){return Du(r,e.toTimestamp())}function rr(r){return je(!!r,49232),Te.fromTimestamp(function(t){const s=ui(t);return new yt(s.seconds,s.nanos)}(r))}function Ud(r,e){return ud(r,e).canonicalString()}function ud(r,e){const t=function(o){return new Qe(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function A_(r){const e=Qe.fromString(r);return je(N_(e),10190,{key:e.toString()}),e}function cd(r,e){return Ud(r.databaseId,e.path)}function zh(r,e){const t=A_(e);if(t.get(1)!==r.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new me(x_(t))}function C_(r,e){return Ud(r.databaseId,e)}function rI(r){const e=A_(r);return e.length===4?Qe.emptyPath():x_(e)}function hd(r){return new Qe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function x_(r){return je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Ig(r,e,t){return{name:cd(r,e),fields:t.value.mapValue.fields}}function iI(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,w){return y.useProto3Json?(je(w===void 0||typeof w=="string",58123),Dt.fromBase64String(w||"")):(je(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Dt.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const w=y.code===void 0?X.UNKNOWN:T_(y.code);return new ce(w,y.message||"")}(h);t=new S_(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zh(r,s.document.name),u=rr(s.document.updateTime),h=s.document.createTime?rr(s.document.createTime):Te.min(),f=new vn({mapValue:{fields:s.document.fields}}),g=Ut.newFoundDocument(o,u,h,f),y=s.targetIds||[],w=s.removedTargetIds||[];t=new vu(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zh(r,s.document),u=s.readTime?rr(s.readTime):Te.min(),h=Ut.newNoDocument(o,u),f=s.removedTargetIds||[];t=new vu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zh(r,s.document),u=s.removedTargetIds||[];t=new vu([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new Q1(o,u),f=s.targetId;t=new I_(f,h)}}return t}function sI(r,e){let t;if(e instanceof Ma)t={update:Ig(r,e.key,e.value)};else if(e instanceof bd)t={delete:cd(r,e.key)};else if(e instanceof Zi)t={update:Ig(r,e.key,e.data),updateMask:pI(e.fieldMask)};else{if(!(e instanceof q1))return _e(16599,{ft:e.type});t={verify:cd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof ku)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Pa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ka)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Nu)return{fieldPath:h.field.canonicalString(),increment:f.Re};throw _e(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:nI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)}(r,e.precondition)),t}function oI(r,e){return r&&r.length>0?(je(e!==void 0,14353),r.map(t=>function(o,u){let h=o.updateTime?rr(o.updateTime):rr(u);return h.isEqual(Te.min())&&(h=rr(u)),new B1(h,o.transformResults||[])}(t,e))):[]}function aI(r,e){return{documents:[C_(r,e.path)]}}function lI(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=C_(r,o);const u=function(y){if(y.length!==0)return k_(Un.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(w=>function(T){return{field:Xs(T.field),direction:hI(T.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=ld(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:t,parent:o}}function uI(r){let e=rI(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){je(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=function(I){const T=P_(I);return T instanceof Un&&i_(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(I){return I.map(T=>function(x){return new Pu(Ys(x.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(I){let T;return T=typeof I=="object"?I.value:I,Bu(T)?null:T}(t.limit));let g=null;t.startAt&&(g=function(I){const T=!!I.before,V=I.values||[];return new xu(V,T)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const T=!I.before,V=I.values||[];return new xu(V,T)}(t.endAt)),P1(e,o,h,u,f,"F",g,y)}function cI(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function P_(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ys(t.unaryFilter.field);return ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ys(t.unaryFilter.field);return ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ys(t.unaryFilter.field);return ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ys(t.unaryFilter.field);return ht.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(r):r.fieldFilter!==void 0?function(t){return ht.create(Ys(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Un.create(t.compositeFilter.filters.map(s=>P_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(t.compositeFilter.op))}(r):_e(30097,{filter:r})}function hI(r){return J1[r]}function dI(r){return Z1[r]}function fI(r){return eI[r]}function Xs(r){return{fieldPath:r.canonicalString()}}function Ys(r){return Nt.fromServerFormat(r.fieldPath)}function k_(r){return r instanceof ht?function(t){if(t.op==="=="){if(cg(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NAN"}};if(ug(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cg(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NAN"}};if(ug(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(t.field),op:dI(t.op),value:t.value}}}(r):r instanceof Un?function(t){const s=t.getFilters().map(o=>k_(o));return s.length===1?s[0]:{compositeFilter:{op:fI(t.op),filters:s}}}(r):_e(54877,{filter:r})}function pI(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function N_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t,s,o,u=Te.min(),h=Te.min(),f=Dt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.wt=e}}function gI(r){const e=uI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.Cn=new _I}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(li.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(li.min())}updateCollectionGroup(e,t,s){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class _I{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new _t(Qe.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new _t(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D_=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(D_,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new io(0)}static lr(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="LruGarbageCollector",vI=1048576;function Ag([r,e],[t,s]){const o=Ae(r,t);return o===0?Ae(e,s):o}class wI{constructor(e){this.Er=e,this.buffer=new _t(Ag),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Ag(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ae(Rg,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ho(t)?ae(Rg,"Ignoring IndexedDB error during garbage collection: ",t):await co(t)}await this.mr(3e5)})}}class TI{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(zu.le);const s=new wI(t);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Sg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sg):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,o,u,h,f,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,f=Date.now(),this.removeTargets(e,s,t))).next(I=>(u=I,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(y=Date.now(),Qs()<=Oe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${u} targets in `+(g-f)+`ms
	Removed ${I} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}function II(r,e){return new TI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.changes=new Ji(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&wa(s.mutation,o,Mn.empty(),yt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=Hi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=pa();return u.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Hi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let u=Cr();const h=va(),f=function(){return va()}();return t.forEach((g,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Zi)?u=u.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),wa(w.mutation,y,w.mutation.getFieldMask(),yt.now())):h.set(y.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,w)=>h.set(y,w)),t.forEach((y,w)=>{var I;return f.set(y,new RI(w,(I=h.get(y))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const s=va();let o=new tt((h,f)=>h-f),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let w=s.get(g)||Mn.empty();w=f.applyToLocalView(y,w),s.set(g,w);const I=(o.get(f.batchId)||ke()).add(g);o=o.insert(f.batchId,I)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,w=g.value,I=p_();w.forEach(T=>{if(!u.has(T)){const V=w_(t.get(T),s.get(T));V!==null&&I.set(T,V),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,I))}return Q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):u_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Q.resolve(Hi());let f=Ra,g=u;return h.next(y=>Q.forEach(y,(w,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),u.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next(T=>{g=g.insert(w,T)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,ke())).next(w=>({batchId:f,changes:f_(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next(s=>{let o=pa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=pa();return this.indexManager.getCollectionParents(e,u).next(f=>Q.forEach(f,g=>{const y=function(I,T){return new ba(T,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(w=>{w.forEach((I,T)=>{h=h.insert(I,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,Ut.newInvalidDocument(w)))});let f=pa();return h.forEach((g,y)=>{const w=u.get(g);w!==void 0&&wa(w.mutation,y,Mn.empty(),yt.now()),qu(t,y)&&(f=f.insert(g,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Q.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:rr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:gI(o.bundledQuery),readTime:rr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.overlays=new tt(me.comparator),this.Qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Hi();return Q.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.bt(e,t,u)}),Q.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),Q.resolve()}getOverlaysForCollection(e,t,s){const o=Hi(),u=t.length+1,h=new me(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new tt((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let w=u.get(y.largestBatchId);w===null&&(w=Hi(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=Hi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,w)=>f.set(y,w)),!(f.size()>=o)););return Q.resolve(f)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new K1(t,s));let u=this.Qr.get(t);u===void 0&&(u=ke(),this.Qr.set(t,u)),this.Qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.$r=new _t(Rt.Ur),this.Kr=new _t(Rt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Rt(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Rt(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new me(new Qe([])),s=new Rt(t,e),o=new Rt(t,e+1),u=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new me(new Qe([])),s=new Rt(t,e),o=new Rt(t,e+1);let u=ke();return this.Kr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Rt(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Rt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return me.comparator(e.key,t.key)||Ae(e.Zr,t.Zr)}static Wr(e,t){return Ae(e.Zr,t.Zr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new _t(Rt.Ur)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new W1(u,t,s,o);this.mutationQueue.push(h);for(const f of o)this.Xr=this.Xr.add(new Rt(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ti(s),u=o<0?0:o;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?kd:this.nr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],h=>{const f=this.ei(h.Zr);u.push(f)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _t(Ae);return t.forEach(o=>{const u=new Rt(o,0),h=new Rt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],f=>{s=s.add(f.Zr)})}),Q.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Rt(new me(u),0);let f=new _t(Ae);return this.Xr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(f=f.add(g.Zr)),!0)},h),Q.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){je(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Q.forEach(t.mutations,o=>{const u=new Rt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Rt(t,0),o=this.Xr.firstAfterOrEqual(s);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.ii=e,this.docs=function(){return new tt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Q.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let s=Cr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ut.newInvalidDocument(o))}),Q.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Cr();const h=t.path,f=new me(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||a1(o1(w),s)<=0||(o.has(w.key)||qu(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,t,s,o){_e(9500)}si(e,t){return Q.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new DI(this)}getSize(e){return Q.resolve(this.size)}}class DI extends SI{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),Q.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.persistence=e,this.oi=new Ji(t=>Vd(t),Ld),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this._i=0,this.ai=new jd,this.targetCount=0,this.ui=io.cr()}forEachTarget(e,t){return this.oi.forEach((s,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),Q.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new io(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Tr(t),Q.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.oi.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Q.waitFor(u).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return Q.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),Q.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Q.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return Q.resolve(s)}containsKey(e,t){return Q.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,t){this.ci={},this.overlays={},this.li=new zu(0),this.hi=!1,this.hi=!0,this.Pi=new PI,this.referenceDelegate=e(this),this.Ti=new VI(this),this.indexManager=new yI,this.remoteDocumentCache=function(o){return new NI(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new mI(t),this.Ei=new CI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new kI(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new LI(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,t){return Q.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class LI extends u1{constructor(e){super(),this.currentSequenceNumber=e}}class zd{constructor(e){this.persistence=e,this.Vi=new jd,this.mi=null}static fi(e){return new zd(e)}get gi(){if(this.mi)return this.mi;throw _e(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),Q.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.gi,s=>{const o=me.fromPath(s);return this.pi(e,o).next(u=>{u||t.removeEntry(o,Te.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Q.or([()=>Q.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Vu{constructor(e,t){this.persistence=e,this.yi=new Ji(s=>d1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=II(this,t)}static fi(e,t){return new Vu(e,t)}di(){}Ai(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Sr(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return Q.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?Q.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,t).next(f=>{f||(s++,u.removeEntry(h,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Q.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gu(e.data.value)),t}Dr(e,t,s){return Q.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return Q.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ds=s,this.As=o}static Rs(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bd(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return bE()?8:c1(LE())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ws(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new OI;return this.bs(e,t,h).next(f=>{if(u.result=f,this.fs)return this.Ds(e,t,h,f.size)})}).next(()=>u.result)}Ds(e,t,s,o){return s.documentReadCount<this.gs?(Qs()<=Oe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Gs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Q.resolve()):(Qs()<=Oe.DEBUG&&ae("QueryEngine","Query:",Gs(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Qs()<=Oe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Gs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):Q.resolve())}ws(e,t){if(pg(t))return Q.resolve(null);let s=tr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ad(t,null,"F"),s=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.ys.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.vs(t,f);return this.Cs(t,y,h,g.readTime)?this.ws(e,ad(t,null,"F")):this.Fs(e,y,t,g)}))})))}Ss(e,t,s,o){return pg(t)||o.isEqual(Te.min())?Q.resolve(null):this.ys.getDocuments(e,s).next(u=>{const h=this.vs(t,u);return this.Cs(t,h,s,o)?Q.resolve(null):(Qs()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gs(t)),this.Fs(e,h,t,s1(o,Ra)).next(f=>f))})}vs(e,t){let s=new _t(h_(e));return t.forEach((o,u)=>{qu(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,t,s){return Qs()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Gs(t)),this.ys.getDocumentsMatchingQuery(e,t,li.min(),s)}Fs(e,t,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="LocalStore",MI=3e8;class FI{constructor(e,t,s,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new tt(Ae),this.Os=new Ji(u=>Vd(u),Ld),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function UI(r,e,t,s){return new FI(r,e,t,s)}async function L_(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let g=ke();for(const y of o){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of u){f.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next(y=>({ks:y,removedBatchIds:h,addedBatchIds:f}))})})}function jI(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,g,y,w){const I=y.batch,T=I.keys();let V=Q.resolve();return T.forEach(x=>{V=V.next(()=>w.getEntry(g,x)).next(z=>{const O=y.docVersions.get(x);je(O!==null,48541),z.version.compareTo(O)<0&&(I.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),w.addEntry(z)))})}),V.next(()=>f.mutationQueue.removeMutationBatch(g,I))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=ke();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function O_(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function zI(r,e){const t=Se(r),s=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const f=[];e.targetChanges.forEach((w,I)=>{const T=o.get(I);if(!T)return;f.push(t.Ti.removeMatchingKeys(u,w.removedDocuments,I).next(()=>t.Ti.addMatchingKeys(u,w.addedDocuments,I)));let V=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(I)!==null?V=V.withResumeToken(Dt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,s)),o=o.insert(I,V),function(z,O,W){return z.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=MI?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(T,V,w)&&f.push(t.Ti.updateTargetData(u,V))});let g=Cr(),y=ke();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))}),f.push(BI(u,h,e.documentUpdates).next(w=>{g=w.qs,y=w.Qs})),!s.isEqual(Te.min())){const w=t.Ti.getLastRemoteSnapshotVersion(u).next(I=>t.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(w)}return Q.waitFor(f).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(t.xs=o,u))}function BI(r,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Cr();return t.forEach((f,g)=>{const y=u.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):ae($d,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)}),{qs:h,Qs:o}})}function $I(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=kd),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function HI(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ti.getTargetData(s,e).next(u=>u?(o=u,Q.resolve(o)):t.Ti.allocateTargetId(s).next(h=>(o=new ei(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function dd(r,e,t){const s=Se(r),o=s.xs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ho(h))throw h;ae($d,`Failed to update sequence numbers for target ${e}: ${h}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function Cg(r,e,t){const s=Se(r);let o=Te.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,w){const I=Se(g),T=I.Os.get(w);return T!==void 0?Q.resolve(I.xs.get(T)):I.Ti.getTargetData(y,w)}(s,h,tr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,f.targetId).next(g=>{u=g})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,e,t?o:Te.min(),t?u:ke())).next(f=>(qI(s,N1(e),f),{documents:f,$s:u})))}function qI(r,e,t){let s=r.Ns.get(e)||Te.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class xg{constructor(){this.activeTargetIds=M1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WI{constructor(){this.xo=new xg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new xg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="ConnectivityMonitor";class kg{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ae(Pg,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ae(Pg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu=null;function fd(){return uu===null?uu=function(){return 268435456+Math.round(2147483648*Math.random())}():uu++,"0x"+uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="RestConnection",QI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GI{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Au?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,t,s,o,u){const h=fd(),f=this.jo(e,t.toUriEncodedString());ae(Bh,`Sending RPC '${e}' ${h}:`,f,s);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,u);const{host:y}=new URL(f),w=Oa(y);return this.Jo(e,f,g,s,w).then(I=>(ae(Bh,`Received RPC '${e}' ${h}: `,I),I),I=>{throw eo(Bh,`RPC '${e}' ${h} failed with error: `,I,"url: ",f,"request:",s),I})}Yo(e,t,s,o,u,h){return this.zo(e,t,s,o,u)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,t){const s=QI[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class YI extends GI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=fd();return new Promise((f,g)=>{const y=new My;y.setWithCredentials(!0),y.listenOnce(Fy.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case mu.NO_ERROR:const I=y.getResponseJson();ae(Mt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(I)),f(I);break;case mu.TIMEOUT:ae(Mt,`RPC '${e}' ${h} timed out`),g(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case mu.HTTP_ERROR:const T=y.getStatus();if(ae(Mt,`RPC '${e}' ${h} failed with status:`,T,"response text:",y.getResponseText()),T>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const x=V==null?void 0:V.error;if(x&&x.status&&x.message){const z=function(W){const K=W.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(K)>=0?K:X.UNKNOWN}(x.status);g(new ce(z,x.message))}else g(new ce(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ce(X.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(Mt,`RPC '${e}' ${h} completed.`)}});const w=JSON.stringify(o);ae(Mt,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",w,s,15)})}T_(e,t,s){const o=fd(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=zy(),f=jy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=u.join("");ae(Mt,`Creating RPC '${e}' stream ${o}: ${w}`,g);const I=h.createWebChannel(w,g);let T=!1,V=!1;const x=new XI({Zo:O=>{V?ae(Mt,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(T||(ae(Mt,`Opening RPC '${e}' stream ${o} transport.`),I.open(),T=!0),ae(Mt,`RPC '${e}' stream ${o} sending:`,O),I.send(O))},Xo:()=>I.close()}),z=(O,W,K)=>{O.listen(W,ee=>{try{K(ee)}catch(ie){setTimeout(()=>{throw ie},0)}})};return z(I,fa.EventType.OPEN,()=>{V||(ae(Mt,`RPC '${e}' stream ${o} transport opened.`),x.__())}),z(I,fa.EventType.CLOSE,()=>{V||(V=!0,ae(Mt,`RPC '${e}' stream ${o} transport closed`),x.u_())}),z(I,fa.EventType.ERROR,O=>{V||(V=!0,eo(Mt,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),x.u_(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),z(I,fa.EventType.MESSAGE,O=>{var W;if(!V){const K=O.data[0];je(!!K,16349);const ee=K,ie=(ee==null?void 0:ee.error)||((W=ee[0])===null||W===void 0?void 0:W.error);if(ie){ae(Mt,`RPC '${e}' stream ${o} received error:`,ie);const Ie=ie.status;let ve=function(A){const k=ct[A];if(k!==void 0)return T_(k)}(Ie),N=ie.message;ve===void 0&&(ve=X.INTERNAL,N="Unknown error status: "+Ie+" with message "+ie.message),V=!0,x.u_(new ce(ve,N)),I.close()}else ae(Mt,`RPC '${e}' stream ${o} received:`,K),x.c_(K)}}),z(f,Uy.STAT_EVENT,O=>{O.stat===ed.PROXY?ae(Mt,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===ed.NOPROXY&&ae(Mt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}}function $h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r){return new tI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,t,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=t,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="PersistentStream";class M_{constructor(e,t,s,o,u,h,f,g){this.xi=e,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new b_(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===t&&this.K_(s,o)},s=>{e(()=>{const o=new ce(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,t){const s=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ae(Ng,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ae(Ng,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JI extends M_{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=iI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?rr(h.readTime):Te.min()}(e);return this.listener.j_(t,s)}H_(e){const t={};t.database=hd(this.serializer),t.addTarget=function(u,h){let f;const g=h.target;if(f=sd(g)?{documents:aI(u,g)}:{query:lI(u,g).gt},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=R_(u,h.resumeToken);const y=ld(u,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){f.readTime=Du(u,h.snapshotVersion.toTimestamp());const y=ld(u,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const s=cI(this.serializer,e);s&&(t.labels=s),this.L_(t)}J_(e){const t={};t.database=hd(this.serializer),t.removeTarget=e,this.L_(t)}}class ZI extends M_{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=oI(e.writeResults,e.commitTime),s=rr(e.commitTime);return this.listener.ea(s,t)}ta(){const e={};e.database=hd(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>sI(this.serializer,s))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{}class tS extends eS{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,ud(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(X.UNKNOWN,u.toString())})}Yo(e,t,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Yo(e,ud(t,s),o,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(X.UNKNOWN,h.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class nS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ar(t),this.oa=!1):ae("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="RemoteStore";class rS{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(h=>{s.enqueueAndForget(async()=>{es(this)&&(ae(Ki,"Restarting streams for network reachability change."),await async function(g){const y=Se(g);y.Ta.add(4),await Ua(y),y.da.set("Unknown"),y.Ta.delete(4),await Xu(y)}(this))})}),this.da=new nS(s,o)}}async function Xu(r){if(es(r))for(const e of r.Ia)await e(!0)}async function Ua(r){for(const e of r.Ia)await e(!1)}function F_(r,e){const t=Se(r);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Kd(t)?Wd(t):fo(t).M_()&&qd(t,e))}function Hd(r,e){const t=Se(r),s=fo(t);t.Pa.delete(e),s.M_()&&U_(t,e),t.Pa.size===0&&(s.M_()?s.N_():es(t)&&t.da.set("Unknown"))}function qd(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fo(r).H_(e)}function U_(r,e){r.Aa.Ke(e),fo(r).J_(e)}function Wd(r){r.Aa=new Y1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.da._a()}function Kd(r){return es(r)&&!fo(r).F_()&&r.Pa.size>0}function es(r){return Se(r).Ta.size===0}function j_(r){r.Aa=void 0}async function iS(r){r.da.set("Online")}async function sS(r){r.Pa.forEach((e,t)=>{qd(r,e)})}async function oS(r,e){j_(r),Kd(r)?(r.da.ca(e),Wd(r)):r.da.set("Unknown")}async function aS(r,e,t){if(r.da.set("Online"),e instanceof S_&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const f of u.targetIds)o.Pa.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Pa.delete(f),o.Aa.removeTarget(f))}(r,e)}catch(s){ae(Ki,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lu(r,s)}else if(e instanceof vu?r.Aa.Xe(e):e instanceof I_?r.Aa.ot(e):r.Aa.nt(e),!t.isEqual(Te.min()))try{const s=await O_(r.localStore);t.compareTo(s)>=0&&await function(u,h){const f=u.Aa.It(h);return f.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.Pa.get(y);w&&u.Pa.set(y,w.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,y)=>{const w=u.Pa.get(g);if(!w)return;u.Pa.set(g,w.withResumeToken(Dt.EMPTY_BYTE_STRING,w.snapshotVersion)),U_(u,g);const I=new ei(w.target,g,y,w.sequenceNumber);qd(u,I)}),u.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){ae(Ki,"Failed to raise snapshot:",s),await Lu(r,s)}}async function Lu(r,e,t){if(!ho(e))throw e;r.Ta.add(1),await Ua(r),r.da.set("Offline"),t||(t=()=>O_(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae(Ki,"Retrying IndexedDB access"),await t(),r.Ta.delete(1),await Xu(r)})}function z_(r,e){return e().catch(t=>Lu(r,t,e))}async function Yu(r){const e=Se(r),t=di(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:kd;for(;lS(e);)try{const o=await $I(e.localStore,s);if(o===null){e.ha.length===0&&t.N_();break}s=o.batchId,uS(e,o)}catch(o){await Lu(e,o)}B_(e)&&$_(e)}function lS(r){return es(r)&&r.ha.length<10}function uS(r,e){r.ha.push(e);const t=di(r);t.M_()&&t.Y_&&t.Z_(e.mutations)}function B_(r){return es(r)&&!di(r).F_()&&r.ha.length>0}function $_(r){di(r).start()}async function cS(r){di(r).ta()}async function hS(r){const e=di(r);for(const t of r.ha)e.Z_(t.mutations)}async function dS(r,e,t){const s=r.ha.shift(),o=Md.from(s,e,t);await z_(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Yu(r)}async function fS(r,e){e&&di(r).Y_&&await async function(s,o){if(function(h){return G1(h)&&h!==X.ABORTED}(o.code)){const u=s.ha.shift();di(s).O_(),await z_(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yu(s)}}(r,e),B_(r)&&$_(r)}async function Dg(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),ae(Ki,"RemoteStore received new credentials");const s=es(t);t.Ta.add(3),await Ua(t),s&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Xu(t)}async function pS(r,e){const t=Se(r);e?(t.Ta.delete(2),await Xu(t)):e||(t.Ta.add(2),await Ua(t),t.da.set("Unknown"))}function fo(r){return r.Ra||(r.Ra=function(t,s,o){const u=Se(t);return u.ra(),new JI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:iS.bind(null,r),n_:sS.bind(null,r),i_:oS.bind(null,r),j_:aS.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Kd(r)?Wd(r):r.da.set("Unknown")):(await r.Ra.stop(),j_(r))})),r.Ra}function di(r){return r.Va||(r.Va=function(t,s,o){const u=Se(t);return u.ra(),new ZI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:cS.bind(null,r),i_:fS.bind(null,r),X_:hS.bind(null,r),ea:dS.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await Yu(r)):(await r.Va.stop(),r.ha.length>0&&(ae(Ki,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,f=new Qd(e,t,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gd(r,e){if(Ar("AsyncQueue",`${e}: ${r}`),ho(r))return new ce(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||me.comparator(t.key,s.key):(t,s)=>me.comparator(t.key,s.key),this.keyedMap=pa(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.ma=new tt(me.comparator)}track(e){const t=e.doc.key,s=this.ma.get(t);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(t,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(t):e.type===1&&s.type===2?this.ma=this.ma.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):_e(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,s)=>{e.push(s)}),e}}class so{constructor(e,t,s,o,u,h,f,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new so(e,t,Js.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class gS{constructor(){this.queries=Lg(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=Lg(),u.forEach((h,f)=>{for(const g of f.ya)g.onError(s)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function Lg(){return new Ji(r=>c_(r),Hu)}async function yS(r,e){const t=Se(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.wa()&&e.Sa()&&(s=2):(u=new mS,s=e.Sa()?0:1);try{switch(s){case 0:u.pa=await t.onListen(o,!0);break;case 1:u.pa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Gd(h,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,u),u.ya.push(e),e.Da(t.onlineState),u.pa&&e.va(u.pa)&&Xd(t)}async function _S(r,e){const t=Se(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ya.indexOf(e);h>=0&&(u.ya.splice(h,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function vS(r,e){const t=Se(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const f of h.ya)f.va(o)&&(s=!0);h.pa=o}}s&&Xd(t)}function wS(r,e,t){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.ya)u.onError(t);s.queries.delete(e)}function Xd(r){r.ba.forEach(e=>{e.next()})}var pd,Og;(Og=pd||(pd={})).Ca="default",Og.Cache="cache";class ES{constructor(e,t,s){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const s=t!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.key=e}}class q_{constructor(e){this.key=e}}class TS{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ke(),this.mutatedKeys=ke(),this.Ha=h_(e),this.Ja=new Js(this.Ha)}get Ya(){return this.Ga}Za(e,t){const s=t?t.Xa:new Vg,o=t?t.Ja:this.Ja;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,I)=>{const T=o.get(w),V=qu(this.query,I)?I:null,x=!!T&&this.mutatedKeys.has(T.key),z=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let O=!1;T&&V?T.data.isEqual(V.data)?x!==z&&(s.track({type:3,doc:V}),O=!0):this.eu(T,V)||(s.track({type:2,doc:V}),O=!0,(g&&this.Ha(V,g)>0||y&&this.Ha(V,y)<0)&&(f=!0)):!T&&V?(s.track({type:0,doc:V}),O=!0):T&&!V&&(s.track({type:1,doc:T}),O=!0,(g||y)&&(f=!0)),O&&(V?(h=h.add(V),u=z?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{Ja:h,Xa:s,Cs:f,mutatedKeys:u}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const h=e.Xa.ga();h.sort((w,I)=>function(V,x){const z=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:O})}};return z(V)-z(x)}(w.type,I.type)||this.Ha(w.doc,I.doc)),this.tu(s),o=o!=null&&o;const f=t&&!o?this.nu():[],g=this.ja.size===0&&this.current&&!o?1:0,y=g!==this.za;return this.za=g,h.length!==0||y?{snapshot:new so(this.query,e.Ja,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:f}:{ru:f}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Vg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ke(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const t=[];return e.forEach(s=>{this.ja.has(s)||t.push(new q_(s))}),this.ja.forEach(s=>{e.has(s)||t.push(new H_(s))}),t}su(e){this.Ga=e.$s,this.ja=ke();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return so.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Yd="SyncEngine";class IS{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class SS{constructor(e){this.key=e,this._u=!1}}class RS{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.au={},this.uu=new Ji(f=>c_(f),Hu),this.cu=new Map,this.lu=new Set,this.hu=new tt(me.comparator),this.Pu=new Map,this.Tu=new jd,this.Iu={},this.Eu=new Map,this.du=io.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function AS(r,e,t=!0){const s=Y_(r);let o;const u=s.uu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await W_(s,e,t,!0),o}async function CS(r,e){const t=Y_(r);await W_(t,e,!0,!1)}async function W_(r,e,t,s){const o=await HI(r.localStore,tr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let f;return s&&(f=await xS(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&F_(r.remoteStore,o),f}async function xS(r,e,t,s,o){r.Ru=(I,T,V)=>async function(z,O,W,K){let ee=O.view.Za(W);ee.Cs&&(ee=await Cg(z.localStore,O.query,!1).then(({documents:N})=>O.view.Za(N,ee)));const ie=K&&K.targetChanges.get(O.targetId),Ie=K&&K.targetMismatches.get(O.targetId)!=null,ve=O.view.applyChanges(ee,z.isPrimaryClient,ie,Ie);return Mg(z,O.targetId,ve.ru),ve.snapshot}(r,I,T,V);const u=await Cg(r.localStore,e,!0),h=new TS(e,u.$s),f=h.Za(u.documents),g=Fa.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,g);Mg(r,t,y.ru);const w=new IS(e,t,h);return r.uu.set(e,w),r.cu.has(t)?r.cu.get(t).push(e):r.cu.set(t,[e]),y.snapshot}async function PS(r,e,t){const s=Se(r),o=s.uu.get(e),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(h=>!Hu(h,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Hd(s.remoteStore,o.targetId),md(s,o.targetId)}).catch(co)):(md(s,o.targetId),await dd(s.localStore,o.targetId,!0))}async function kS(r,e){const t=Se(r),s=t.uu.get(e),o=t.cu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Hd(t.remoteStore,s.targetId))}async function NS(r,e,t){const s=FS(r);try{const o=await function(h,f){const g=Se(h),y=yt.now(),w=f.reduce((V,x)=>V.add(x.key),ke());let I,T;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let x=Cr(),z=ke();return g.Bs.getEntries(V,w).next(O=>{x=O,x.forEach((W,K)=>{K.isValidDocument()||(z=z.add(W))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,x)).next(O=>{I=O;const W=[];for(const K of f){const ee=H1(K,I.get(K.key).overlayedDocument);ee!=null&&W.push(new Zi(K.key,ee,t_(ee.value.mapValue),nr.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,W,f)}).next(O=>{T=O;const W=O.applyToLocalDocumentSet(I,z);return g.documentOverlayCache.saveOverlays(V,O.batchId,W)})}).then(()=>({batchId:T.batchId,changes:f_(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,g){let y=h.Iu[h.currentUser.toKey()];y||(y=new tt(Ae)),y=y.insert(f,g),h.Iu[h.currentUser.toKey()]=y}(s,o.batchId,t),await ja(s,o.changes),await Yu(s.remoteStore)}catch(o){const u=Gd(o,"Failed to persist write");t.reject(u)}}async function K_(r,e){const t=Se(r);try{const s=await zI(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Pu.get(u);h&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h._u=!0:o.modifiedDocuments.size>0?je(h._u,14607):o.removedDocuments.size>0&&(je(h._u,42227),h._u=!1))}),await ja(t,s,e)}catch(s){await co(s)}}function bg(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.uu.forEach((u,h)=>{const f=h.view.Da(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const g=Se(h);g.onlineState=f;let y=!1;g.queries.forEach((w,I)=>{for(const T of I.ya)T.Da(f)&&(y=!0)}),y&&Xd(g)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function DS(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Pu.get(e),u=o&&o.key;if(u){let h=new tt(me.comparator);h=h.insert(u,Ut.newNoDocument(u,Te.min()));const f=ke().add(u),g=new Qu(Te.min(),new Map,new tt(Ae),h,f);await K_(s,g),s.hu=s.hu.remove(u),s.Pu.delete(e),Jd(s)}else await dd(s.localStore,e,!1).then(()=>md(s,e,t)).catch(co)}async function VS(r,e){const t=Se(r),s=e.batch.batchId;try{const o=await jI(t.localStore,e);G_(t,s,null),Q_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ja(t,o)}catch(o){await co(o)}}async function LS(r,e,t){const s=Se(r);try{const o=await function(h,f){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return g.mutationQueue.lookupMutationBatch(y,f).next(I=>(je(I!==null,37113),w=I.keys(),g.mutationQueue.removeMutationBatch(y,I))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>g.localDocuments.getDocuments(y,w))})}(s.localStore,e);G_(s,e,t),Q_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ja(s,o)}catch(o){await co(o)}}function Q_(r,e){(r.Eu.get(e)||[]).forEach(t=>{t.resolve()}),r.Eu.delete(e)}function G_(r,e,t){const s=Se(r);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function md(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),t&&r.au.Vu(s,t);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||X_(r,s)})}function X_(r,e){r.lu.delete(e.path.canonicalString());const t=r.hu.get(e);t!==null&&(Hd(r.remoteStore,t),r.hu=r.hu.remove(e),r.Pu.delete(t),Jd(r))}function Mg(r,e,t){for(const s of t)s instanceof H_?(r.Tu.addReference(s.key,e),OS(r,s)):s instanceof q_?(ae(Yd,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||X_(r,s.key)):_e(19791,{mu:s})}function OS(r,e){const t=e.key,s=t.path.canonicalString();r.hu.get(t)||r.lu.has(s)||(ae(Yd,"New document in limbo: "+t),r.lu.add(s),Jd(r))}function Jd(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const t=new me(Qe.fromString(e)),s=r.du.next();r.Pu.set(s,new SS(t)),r.hu=r.hu.insert(t,s),F_(r.remoteStore,new ei(tr(l_(t.path)),s,"TargetPurposeLimboResolution",zu.le))}}async function ja(r,e,t){const s=Se(r),o=[],u=[],h=[];s.uu.isEmpty()||(s.uu.forEach((f,g)=>{h.push(s.Ru(g,e,t).then(y=>{var w;if((y||t)&&s.isPrimaryClient){const I=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(y){o.push(y);const I=Bd.Rs(g.targetId,y);u.push(I)}}))}),await Promise.all(h),s.au.j_(o),await async function(g,y){const w=Se(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(y,T=>Q.forEach(T.ds,V=>w.persistence.referenceDelegate.addReference(I,T.targetId,V)).next(()=>Q.forEach(T.As,V=>w.persistence.referenceDelegate.removeReference(I,T.targetId,V)))))}catch(I){if(!ho(I))throw I;ae($d,"Failed to update sequence numbers: "+I)}for(const I of y){const T=I.targetId;if(!I.fromCache){const V=w.xs.get(T),x=V.snapshotVersion,z=V.withLastLimboFreeSnapshotVersion(x);w.xs=w.xs.insert(T,z)}}}(s.localStore,u))}async function bS(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){ae(Yd,"User change. New user:",e.toKey());const s=await L_(t.localStore,e);t.currentUser=e,function(u,h){u.Eu.forEach(f=>{f.forEach(g=>{g.reject(new ce(X.CANCELLED,h))})}),u.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ja(t,s.ks)}}function MS(r,e){const t=Se(r),s=t.Pu.get(e);if(s&&s._u)return ke().add(s.key);{let o=ke();const u=t.cu.get(e);if(!u)return o;for(const h of u){const f=t.uu.get(h);o=o.unionWith(f.view.Ya)}return o}}function Y_(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=K_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DS.bind(null,e),e.au.j_=vS.bind(null,e.eventManager),e.au.Vu=wS.bind(null,e.eventManager),e}function FS(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LS.bind(null,e),e}class Ou{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return UI(this.persistence,new bI,e.initialUser,this.serializer)}yu(e){return new V_(zd.fi,this.serializer)}pu(e){return new WI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ou.provider={build:()=>new Ou};class US extends Ou{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){je(this.persistence.referenceDelegate instanceof Vu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EI(s,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new V_(s=>Vu.fi(s,t),this.serializer)}}class gd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>bg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bS.bind(null,this.syncEngine),await pS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gS}()}createDatastore(e){const t=Gu(e.databaseInfo.databaseId),s=function(u){return new YI(u)}(e.databaseInfo);return function(u,h,f,g){return new tS(u,h,f,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,f){return new rS(s,o,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>bg(this.syncEngine,t,0),function(){return kg.C()?new kg:new KI}())}createSyncEngine(e,t){return function(o,u,h,f,g,y,w){const I=new RS(o,u,h,f,g,y);return w&&(I.Au=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);ae(Ki,"RemoteStore shutting down."),u.Ta.add(5),await Ua(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gd.provider={build:()=>new gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="FirestoreClient";class zS{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ft.UNAUTHENTICATED,this.clientId=qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ae(fi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae(fi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Gd(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Hh(r,e){r.asyncQueue.verifyOperationInProgress(),ae(fi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await L_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Fg(r,e){r.asyncQueue.verifyOperationInProgress();const t=await BS(r);ae(fi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Dg(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Dg(e.remoteStore,o)),r._onlineComponents=e}async function BS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(fi,"Using user provided OfflineComponentProvider");try{await Hh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;eo("Error using user provided cache. Falling back to memory cache: "+t),await Hh(r,new Ou)}}else ae(fi,"Using default OfflineComponentProvider"),await Hh(r,new US(void 0));return r._offlineComponents}async function J_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(fi,"Using user provided OnlineComponentProvider"),await Fg(r,r._uninitializedComponentsProvider._online)):(ae(fi,"Using default OnlineComponentProvider"),await Fg(r,new gd))),r._onlineComponents}function $S(r){return J_(r).then(e=>e.syncEngine)}async function HS(r){const e=await J_(r),t=e.eventManager;return t.onListen=AS.bind(null,e.syncEngine),t.onUnlisten=PS.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CS.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kS.bind(null,e.syncEngine),t}function qS(r,e,t={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,y){const w=new jS({next:T=>{w.Cu(),h.enqueueAndForget(()=>_S(u,I)),T.fromCache&&g.source==="server"?y.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),I=new ES(f,w,{includeMetadataChanges:!0,La:!0});return yS(u,I)}(await HS(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r,e,t){if(!t)throw new ce(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WS(r,e,t,s){if(e===!0&&s===!0)throw new ce(X.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function jg(r){if(!me.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zg(r){if(me.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ju(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function Na(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ju(r);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="firestore.googleapis.com",Bg=!0;class $g{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tv,this.ssl=Bg}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Bg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vI)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zu{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $g({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $g(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new XT;switch(s.type){case"firstParty":return new e1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Ug.get(t);s&&(ae("ComponentProvider","Removing Datastore"),Ug.delete(t),s.terminate())}(this),Promise.resolve()}}function KS(r,e,t,s={}){var o;r=Na(r,Zu);const u=Oa(e),h=r._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${t}`;u&&(Ty(`https://${g}`),Sy("Firestore",!0)),h.host!==tv&&h.host!==g&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:s});if(!Iu(y,f)&&(r._setSettings(y),s.mockUserToken)){let w,I;if(typeof s.mockUserToken=="string")w=s.mockUserToken,I=Ft.MOCK_USER;else{w=Iy(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Ft(T)}r._authCredentials=new YT(new $y(w,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class wn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class oi extends po{constructor(e,t,s){super(e,t,l_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new me(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function za(r,e,...t){if(r=Fn(r),ev("collection","path",e),r instanceof Zu){const s=Qe.fromString(e,...t);return zg(s),new oi(r,null,s)}{if(!(r instanceof wn||r instanceof oi))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Qe.fromString(e,...t));return zg(s),new oi(r.firestore,null,s)}}function bu(r,e,...t){if(r=Fn(r),arguments.length===1&&(e=qy.newId()),ev("doc","path",e),r instanceof Zu){const s=Qe.fromString(e,...t);return jg(s),new wn(r,null,new me(s))}{if(!(r instanceof wn||r instanceof oi))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Qe.fromString(e,...t));return jg(s),new wn(r.firestore,r instanceof oi?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="AsyncQueue";class qg{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new b_(this,"async_queue_retry"),this.ec=()=>{const s=$h();s&&ae(Hg,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const t=$h();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=$h();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new si;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ho(e))throw e;ae(Hg,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Ar("INTERNAL UNHANDLED ERROR: ",Wg(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=t,t}enqueueAfterDelay(e,t,s){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const o=Qd.createAndSchedule(this,e,t,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&_e(47125,{_c:Wg(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function Wg(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ec extends Zu{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new qg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qg(e),this._firestoreClient=void 0,await e}}}function QS(r,e){const t=typeof r=="object"?r:Vy(),s=typeof r=="string"?r:Au,o=Py(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=wy("firestore");u&&KS(o,...u)}return o}function nv(r){if(r._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GS(r),r._firestoreClient}function GS(r){var e,t,s;const o=r._freezeSettings(),u=function(f,g,y,w){return new m1(f,g,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Z_(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new zS(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(Dt.fromBase64String(e))}catch(t){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oo(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=/^__.*__$/;class YS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ma(e,this.data,t,this.fieldTransforms)}}function iv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{hc:r})}}class nf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new nf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Mu(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(iv(this.hc)&&XS.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class JS{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Gu(e)}gc(e,t,s,o=!1){return new nf({hc:e,methodName:t,fc:s,path:Nt.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sv(r){const e=r._freezeSettings(),t=Gu(r._databaseId);return new JS(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ZS(r,e,t,s,o,u={}){const h=r.gc(u.merge||u.mergeFields?2:0,e,t,o);lv("Data must be an object, but it was:",h,s);const f=ov(s,h);let g,y;if(u.merge)g=new Mn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const I of u.mergeFields){const T=tR(e,I,t);if(!h.contains(T))throw new ce(X.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);rR(w,T)||w.push(T)}g=new Mn(w),y=h.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,y=h.fieldTransforms;return new YS(new vn(f),g,y)}function eR(r,e,t,s=!1){return rf(t,r.gc(s?4:3,e))}function rf(r,e){if(av(r=Fn(r)))return lv("Unsupported field value:",e,r),ov(r,e);if(r instanceof rv)return function(s,o){if(!iv(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const f of s){let g=rf(f,o.Rc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return F1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=yt.fromDate(s);return{timestampValue:Du(o.serializer,u)}}if(s instanceof yt){const u=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Du(o.serializer,u)}}if(s instanceof ef)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oo)return{bytesValue:R_(o.serializer,s._byteString)};if(s instanceof wn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Vc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ud(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof tf)return function(h,f){return{mapValue:{fields:{[Zy]:{stringValue:e_},[Cu]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw f.Vc("VectorValues must only contain numeric values.");return Od(f.serializer,y)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${Ju(s)}`)}(r,e)}function ov(r,e){const t={};return Ky(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(r,(s,o)=>{const u=rf(o,e.Ic(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function av(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yt||r instanceof ef||r instanceof oo||r instanceof wn||r instanceof rv||r instanceof tf)}function lv(r,e,t){if(!av(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Ju(t);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function tR(r,e,t){if((e=Fn(e))instanceof Zd)return e._internalPath;if(typeof e=="string")return uv(r,e);throw Mu("Field path arguments must be of type string or ",r,!1,void 0,t)}const nR=new RegExp("[~\\*/\\[\\]]");function uv(r,e,t){if(e.search(nR)>=0)throw Mu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Zd(...e.split("."))._internalPath}catch{throw Mu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Mu(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ce(X.INVALID_ARGUMENT,f+r+g)}function rR(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iR extends cv{data(){return super.data()}}function sf(r,e){return typeof e=="string"?uv(r,e):e instanceof Zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class of{}class oR extends of{}function hv(r,e,...t){let s=[];e instanceof of&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof af).length,f=u.filter(g=>g instanceof tc).length;if(h>1||h>0&&f>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class tc extends oR{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new tc(e,t,s)}_apply(e){const t=this._parse(e);return fv(e._query,t),new po(e.firestore,e.converter,od(e._query,t))}_parse(e){const t=sv(e.firestore);return function(u,h,f,g,y,w,I){let T;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Qg(I,w);const x=[];for(const z of I)x.push(Kg(g,u,z));T={arrayValue:{values:x}}}else T=Kg(g,u,I)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Qg(I,w),T=eR(f,h,I,w==="in"||w==="not-in");return ht.create(y,w,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function dv(r,e,t){const s=e,o=sf("where",r);return tc._create(o,s,t)}class af extends of{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new af(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Un.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const f=u.getFlattenedFilters();for(const g of f)fv(h,g),h=od(h,g)}(e._query,t),new po(e.firestore,e.converter,od(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Kg(r,e,t){if(typeof(t=Fn(t))=="string"){if(t==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u_(e)&&t.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Qe.fromString(t));if(!me.isDocumentKey(s))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return lg(r,new me(s))}if(t instanceof wn)return lg(r,t._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ju(t)}.`)}function Qg(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fv(r,e){const t=function(o,u){for(const h of o)for(const f of h.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class aR{convertValue(e,t="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Yi(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Cu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>at(h.doubleValue));return new tf(u)}convertGeoPoint(e){return new ef(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=$u(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Aa(e));default:return null}}convertTimestamp(e){const t=ui(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Qe.fromString(e);je(N_(s),9688,{name:e});const o=new Ca(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(t)||Ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uR extends cv{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(sf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class wu extends uR{data(e={}){return super.data(e)}}class cR{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new wu(this._firestore,this._userDataWriter,s.key,s,new cu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const g=new wu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new cu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const g=new wu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new cu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:hR(f.type),doc:g,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}class dR extends aR{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function lf(r){r=Na(r,po);const e=Na(r.firestore,ec),t=nv(e),s=new dR(e);return sR(r._query),qS(t,r._query).then(o=>new cR(e,s,r,o))}function yd(r){return mv(Na(r.firestore,ec),[new bd(r._key,nr.none())])}function pv(r,e){const t=Na(r.firestore,ec),s=bu(r),o=lR(r.converter,e);return mv(t,[ZS(sv(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,nr.exists(!1))]).then(()=>s)}function mv(r,e){return function(s,o){const u=new si;return s.asyncQueue.enqueueAndForget(async()=>NS(await $S(s),o,u)),u.promise}(nv(r),e)}(function(e,t=!0){(function(o){uo=o})(Ny),Ia(new Zs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new ec(new JT(s.getProvider("auth-internal")),new t1(h,s.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ca(y.options.projectId,w)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),ri(Xm,Ym,e),ri(Xm,Ym,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="firebasestorage.googleapis.com",yv="storageBucket",fR=2*60*1e3,pR=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends Xi{constructor(e,t,s=0){super(qh(e),`Firebase Storage: ${t} (${qh(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,it.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function qh(r){return"storage/"+r}function uf(){const r="An unknown error occurred, please check the error payload for server response.";return new it(rt.UNKNOWN,r)}function mR(r){return new it(rt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function gR(r){return new it(rt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yR(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new it(rt.UNAUTHENTICATED,r)}function _R(){return new it(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vR(r){return new it(rt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function wR(){return new it(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ER(){return new it(rt.CANCELED,"User canceled the upload/download.")}function TR(r){return new it(rt.INVALID_URL,"Invalid URL '"+r+"'.")}function IR(r){return new it(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function SR(){return new it(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yv+"' property when initializing the app?")}function RR(){return new it(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function AR(){return new it(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function CR(r){return new it(rt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _d(r){return new it(rt.INVALID_ARGUMENT,r)}function _v(){return new it(rt.APP_DELETED,"The Firebase app was deleted.")}function xR(r){return new it(rt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ea(r,e){return new it(rt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function da(r){throw new it(rt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ln.makeFromUrl(e,t)}catch{return new ln(e,"")}if(s.path==="")return s;throw IR(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const h="(/(.*))?$",f=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(ie){ie.path_=decodeURIComponent(ie.path)}const w="v[A-Za-z0-9_]+",I=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",V=new RegExp(`^https?://${I}/${w}/b/${o}/o${T}`,"i"),x={bucket:1,path:3},z=t===gv?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",W=new RegExp(`^https?://${z}/${o}/${O}`,"i"),ee=[{regex:f,indices:g,postModify:u},{regex:V,indices:x,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let ie=0;ie<ee.length;ie++){const Ie=ee[ie],ve=Ie.regex.exec(e);if(ve){const N=ve[Ie.indices.bucket];let S=ve[Ie.indices.path];S||(S=""),s=new ln(N,S),Ie.postModify(s);break}}if(s==null)throw TR(e);return s}}class PR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r,e,t){let s=1,o=null,u=null,h=!1,f=0;function g(){return f===2}let y=!1;function w(...O){y||(y=!0,e.apply(null,O))}function I(O){o=setTimeout(()=>{o=null,r(V,g())},O)}function T(){u&&clearTimeout(u)}function V(O,...W){if(y){T();return}if(O){T(),w.call(null,O,...W);return}if(g()||h){T(),w.call(null,O,...W);return}s<64&&(s*=2);let ee;f===1?(f=2,ee=0):ee=(s+Math.random())*1e3,I(ee)}let x=!1;function z(O){x||(x=!0,T(),!y&&(o!==null?(O||(f=2),clearTimeout(o),I(0)):O||(f=1)))}return I(0),u=setTimeout(()=>{h=!0,z(!0)},t),z}function NR(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){return r!==void 0}function VR(r){return typeof r=="object"&&!Array.isArray(r)}function cf(r){return typeof r=="string"||r instanceof String}function Gg(r){return hf()&&r instanceof Blob}function hf(){return typeof Blob<"u"}function Xg(r,e,t,s){if(s<e)throw _d(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw _d(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function vv(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var qi;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(qi||(qi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t,s,o,u,h,f,g,y,w,I,T=!0,V=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=f,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=I,this.retry=T,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,z)=>{this.resolve_=x,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new hu(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=f=>{const g=f.loaded,y=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const f=u.getErrorCode()===qi.NO_ERROR,g=u.getStatus();if(!f||LR(g,this.additionalRetryCodes_)&&this.retry){const w=u.getErrorCode()===qi.ABORT;s(!1,new hu(!1,null,w));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new hu(y,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());DR(g)?u(g):u()}catch(g){h(g)}else if(f!==null){const g=uf();g.serverResponse=f.getErrorText(),this.errorCallback_?h(this.errorCallback_(f,g)):h(g)}else if(o.canceled){const g=this.appDelete_?_v():ER();h(g)}else{const g=wR();h(g)}};this.canceled_?t(!1,new hu(!1,null,!0)):this.backoffId_=kR(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hu{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function bR(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function MR(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FR(r,e){e&&(r["X-Firebase-GMPID"]=e)}function UR(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function jR(r,e,t,s,o,u,h=!0,f=!1){const g=vv(r.urlParams),y=r.url+g,w=Object.assign({},r.headers);return FR(w,e),bR(w,t),MR(w,u),UR(w,s),new OR(y,r.method,w,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BR(...r){const e=zR();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(hf())return new Blob(r);throw new it(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $R(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r){if(typeof atob>"u")throw CR("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wh{constructor(e,t){this.data=e,this.contentType=t||null}}function qR(r,e){switch(r){case er.RAW:return new Wh(wv(e));case er.BASE64:case er.BASE64URL:return new Wh(Ev(r,e));case er.DATA_URL:return new Wh(KR(e),QR(e))}throw uf()}function wv(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function WR(r){let e;try{e=decodeURIComponent(r)}catch{throw Ea(er.DATA_URL,"Malformed data URL.")}return wv(e)}function Ev(r,e){switch(r){case er.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Ea(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case er.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Ea(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=HR(e)}catch(o){throw o.message.includes("polyfill")?o:Ea(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Tv{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ea(er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=GR(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function KR(r){const e=new Tv(r);return e.base64?Ev(er.BASE64,e.rest):WR(e.rest)}function QR(r){return new Tv(r).contentType}function GR(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t){let s=0,o="";Gg(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Gg(this.data_)){const s=this.data_,o=$R(s,e,t);return o===null?null:new Zr(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Zr(s,!0)}}static getBlob(...e){if(hf()){const t=e.map(s=>s instanceof Zr?s.data_:s);return new Zr(BR.apply(null,t))}else{const t=e.map(h=>cf(h)?qR(er.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let f=0;f<h.length;f++)o[u++]=h[f]}),new Zr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(r){let e;try{e=JSON.parse(r)}catch{return null}return VR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function YR(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function Sv(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(r,e){return e}class Ht{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||JR}}let du=null;function ZR(r){return!cf(r)||r.length<2?r:Sv(r)}function Rv(){if(du)return du;const r=[];r.push(new Ht("bucket")),r.push(new Ht("generation")),r.push(new Ht("metageneration")),r.push(new Ht("name","fullPath",!0));function e(u,h){return ZR(h)}const t=new Ht("name");t.xform=e,r.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new Ht("size");return o.xform=s,r.push(o),r.push(new Ht("timeCreated")),r.push(new Ht("updated")),r.push(new Ht("md5Hash",null,!0)),r.push(new Ht("cacheControl",null,!0)),r.push(new Ht("contentDisposition",null,!0)),r.push(new Ht("contentEncoding",null,!0)),r.push(new Ht("contentLanguage",null,!0)),r.push(new Ht("contentType",null,!0)),r.push(new Ht("metadata","customMetadata",!0)),du=r,du}function eA(r,e){function t(){const s=r.bucket,o=r.fullPath,u=new ln(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:t})}function tA(r,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return eA(s,r),s}function Av(r,e,t){const s=Iv(e);return s===null?null:tA(r,s,t)}function nA(r,e,t,s){const o=Iv(e);if(o===null||!cf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(y=>{const w=r.bucket,I=r.fullPath,T="/b/"+h(w)+"/o/"+h(I),V=nc(T,t,s),x=vv({alt:"media",token:y});return V+x})[0]}function rA(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=r[u.local])}return JSON.stringify(t)}class df{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(r){if(!r)throw uf()}function iA(r,e){function t(s,o){const u=Av(r,o,e);return Cv(u!==null),u}return t}function sA(r,e){function t(s,o){const u=Av(r,o,e);return Cv(u!==null),nA(u,o,r.host,r._protocol)}return t}function xv(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=_R():o=yR():t.getStatus()===402?o=gR(r.bucket):t.getStatus()===403?o=vR(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Pv(r){const e=xv(r);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=mR(r.path)),u.serverResponse=o.serverResponse,u}return t}function oA(r,e,t){const s=e.fullServerUrl(),o=nc(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,f=new df(o,u,sA(r,t),h);return f.errorHandler=Pv(e),f}function aA(r,e){const t=e.fullServerUrl(),s=nc(t,r.host,r._protocol),o="DELETE",u=r.maxOperationRetryTime;function h(g,y){}const f=new df(s,o,h,u);return f.successCodes=[200,204],f.errorHandler=Pv(e),f}function lA(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function uA(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=lA(null,e)),s}function cA(r,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function f(){let ee="";for(let ie=0;ie<2;ie++)ee=ee+Math.random().toString().slice(2);return ee}const g=f();h["Content-Type"]="multipart/related; boundary="+g;const y=uA(e,s,o),w=rA(y,t),I="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,T=`\r
--`+g+"--",V=Zr.getBlob(I,s,T);if(V===null)throw RR();const x={name:y.fullPath},z=nc(u,r.host,r._protocol),O="POST",W=r.maxUploadRetryTime,K=new df(z,O,iA(r,t),W);return K.urlParams=x,K.headers=h,K.body=V.uploadData(),K.errorHandler=xv(e),K}class hA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw da("cannot .send() more than once");if(Oa(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw da("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw da("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw da("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw da("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class dA extends hA{initXhr(){this.xhr_.responseType="text"}}function ff(){return new dA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t){this._service=e,t instanceof ln?this._location=t:this._location=ln.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qi(e,t)}get root(){const e=new ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Sv(this._location.path)}get storage(){return this._service}get parent(){const e=XR(this._location.path);if(e===null)return null;const t=new ln(this._location.bucket,e);return new Qi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw xR(e)}}function fA(r,e,t){r._throwIfRoot("uploadBytes");const s=cA(r.storage,r._location,Rv(),new Zr(e,!0),t);return r.storage.makeRequestWithTokens(s,ff).then(o=>({metadata:o,ref:r}))}function pA(r){r._throwIfRoot("getDownloadURL");const e=oA(r.storage,r._location,Rv());return r.storage.makeRequestWithTokens(e,ff).then(t=>{if(t===null)throw AR();return t})}function mA(r){r._throwIfRoot("deleteObject");const e=aA(r.storage,r._location);return r.storage.makeRequestWithTokens(e,ff)}function gA(r,e){const t=YR(r._location.path,e),s=new ln(r._location.bucket,t);return new Qi(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(r){return/^[A-Za-z]+:\/\//.test(r)}function _A(r,e){return new Qi(r,e)}function kv(r,e){if(r instanceof pf){const t=r;if(t._bucket==null)throw SR();const s=new Qi(t,t._bucket);return e!=null?kv(s,e):s}else return e!==void 0?gA(r,e):r}function vA(r,e){if(e&&yA(e)){if(r instanceof pf)return _A(r,e);throw _d("To use ref(service, url), the first argument must be a Storage instance.")}else return kv(r,e)}function Yg(r,e){const t=e==null?void 0:e[yv];return t==null?null:ln.makeFromBucketSpec(t,r)}function wA(r,e,t,s={}){r.host=`${e}:${t}`;const o=Oa(e);o&&(Ty(`https://${r.host}`),Sy("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:Iy(u,r.app.options.projectId))}class pf{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=gv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fR,this._maxUploadRetryTime=pR,this._requests=new Set,o!=null?this._bucket=ln.makeFromBucketSpec(o,this._host):this._bucket=Yg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ln.makeFromBucketSpec(this._url,e):this._bucket=Yg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ky(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qi(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new PR(_v());{const h=jR(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Jg="@firebase/storage",Zg="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="storage";function EA(r,e,t){return r=Fn(r),fA(r,e,t)}function TA(r){return r=Fn(r),pA(r)}function Dv(r){return r=Fn(r),mA(r)}function mf(r,e){return r=Fn(r),vA(r,e)}function IA(r=Vy(),e){r=Fn(r);const s=Py(r,Nv).getImmediate({identifier:e}),o=wy("storage");return o&&SA(s,...o),s}function SA(r,e,t,s={}){wA(r,e,t,s)}function RA(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new pf(t,s,o,e,Ny)}function AA(){Ia(new Zs(Nv,RA,"PUBLIC").setMultipleInstances(!0)),ri(Jg,Zg,""),ri(Jg,Zg,"esm2017")}AA();var CA="firebase",xA="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(CA,xA,"app");const PA={apiKey:"AIzaSyBXH7JgXIWzi7DNwjN7LqUzZgOHCQSe-Y8",authDomain:"disinfo-website.firebaseapp.com",projectId:"disinfo-website",storageBucket:"disinfo-website.appspot.com",messagingSenderId:"123456789012",appId:"1:123456789012:web:1234567890abcdef123456",measurementId:"G-ABCDEFGHIJ"},Vv=Dy(PA),ai=QS(Vv),gf=IA(Vv),kA=async r=>{try{const e={title:r,createdAt:new Date().toISOString()};return{id:(await pv(za(ai,"folders"),e)).id,...e}}catch(e){throw console.error("Errore durante la creazione della cartella:",e),e}},NA=async()=>{try{const r=await lf(za(ai,"folders")),e=[];return r.forEach(t=>{e.push({id:t.id,...t.data()})}),e}catch(r){throw console.error("Errore durante il recupero delle cartelle:",r),r}},DA=async r=>{try{const e=hv(za(ai,"contents"),dv("folderId","==",r)),s=(await lf(e)).docs.map(async o=>{const u=o.data();if(u.type==="pdf"&&u.url)try{const h=mf(gf,u.url);await Dv(h)}catch(h){console.error("Errore durante l'eliminazione del file:",h)}return yd(bu(ai,"contents",o.id))});await Promise.all(s),await yd(bu(ai,"folders",r))}catch(e){throw console.error("Errore durante l'eliminazione della cartella:",e),e}},VA=async(r,e,t,s,o,u)=>{try{let h="";if(s==="pdf"&&o){const y=mf(gf,`pdfs/${r}/${o.name}`);await EA(y,o),h=await TA(y)}else s==="link"&&(h=u);const f={folderId:r,title:e,description:t,type:s,url:h,createdAt:new Date().toISOString()};return{id:(await pv(za(ai,"contents"),f)).id,...f}}catch(h){throw console.error("Errore durante l'aggiunta del contenuto:",h),h}},LA=async r=>{try{const e=hv(za(ai,"contents"),dv("folderId","==",r)),t=await lf(e),s=[];return t.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(e){throw console.error("Errore durante il recupero dei contenuti della cartella:",e),e}},OA=async(r,e,t)=>{try{if(t==="pdf"&&e)try{const s=mf(gf,e);await Dv(s)}catch(s){console.error("Errore durante l'eliminazione del file:",s)}await yd(bu(ai,"contents",r))}catch(s){throw console.error("Errore durante l'eliminazione del contenuto:",s),s}},Lv=H.createContext(void 0),bA=({children:r})=>{const[e,t]=H.useState([]),[s,o]=H.useState(!0),[u,h]=H.useState(null),f=async()=>{try{o(!0),h(null);const V=await NA();t(V)}catch(V){h("Errore durante il caricamento delle cartelle"),console.error(V)}finally{o(!1)}};H.useEffect(()=>{f()},[]);const g=async V=>{try{o(!0),h(null),await kA(V),await f()}catch(x){h("Errore durante la creazione della cartella"),console.error(x)}finally{o(!1)}},y=async(V,x,z,O,W,K)=>{try{o(!0),h(null),await VA(V,x,z,O,W,K)}catch(ee){h("Errore durante l'aggiunta del contenuto"),console.error(ee)}finally{o(!1)}},w=async V=>{try{return o(!0),h(null),await LA(V)}catch(x){return h("Errore durante il recupero dei contenuti"),console.error(x),[]}finally{o(!1)}},I=async V=>{try{o(!0),h(null),await DA(V),await f()}catch(x){h("Errore durante l'eliminazione della cartella"),console.error(x)}finally{o(!1)}},T=async(V,x,z)=>{try{o(!0),h(null),await OA(V,x,z)}catch(O){h("Errore durante l'eliminazione del contenuto"),console.error(O)}finally{o(!1)}};return b.jsx(Lv.Provider,{value:{folders:e,loading:s,error:u,addFolder:g,addContentItem:y,getFolderContent:w,deleteFolder:I,deleteContentItem:T,refreshFolders:f},children:r})},rc=()=>{const r=H.useContext(Lv);if(r===void 0)throw new Error("useContent must be used within a ContentProvider");return r};function MA(){const{folders:r,loading:e,error:t,refreshFolders:s}=rc(),[o,u]=H.useState(!0);return H.useEffect(()=>{(async()=>{u(!0),await s(),u(!1)})()},[s]),b.jsxs("div",{className:"min-h-screen bg-yellow-50",children:[b.jsx("header",{className:"bg-black p-4 shadow-md",children:b.jsxs("div",{className:"container mx-auto flex items-center",children:[b.jsx("img",{src:"./images/disinfo_logo.jpg",alt:"DISINFO Logo",className:"h-10"}),b.jsx("h1",{className:"ml-4 text-xl font-bold text-white",children:"DISINFO"})]})}),b.jsxs("main",{className:"container mx-auto p-4",children:[b.jsx("h2",{className:"mb-6 text-2xl font-bold",children:"Cartelle Disponibili"}),o||e?b.jsx("div",{className:"rounded-lg bg-white p-8 text-center shadow-md",children:b.jsx("p",{className:"text-gray-500",children:"Caricamento cartelle..."})}):t?b.jsx("div",{className:"rounded-lg bg-white p-8 text-center shadow-md",children:b.jsx("p",{className:"text-red-500",children:"Errore durante il caricamento delle cartelle. Riprova più tardi."})}):r.length===0?b.jsx("div",{className:"rounded-lg bg-white p-8 text-center shadow-md",children:b.jsx("p",{className:"text-gray-500",children:"Nessuna cartella disponibile al momento."})}):b.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(h=>b.jsxs("a",{href:`#/folder/${h.id}`,className:"block rounded-lg bg-white p-6 shadow-md transition-transform hover:scale-105 hover:shadow-lg",children:[b.jsx("h3",{className:"mb-2 text-xl font-medium",children:h.title}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Creata il ",new Date(h.createdAt).toLocaleDateString("it-IT")]})]},h.id))})]}),b.jsx("footer",{className:"mt-auto bg-black p-4 text-center text-white",children:b.jsx("div",{className:"container mx-auto",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," DISINFO. Tutti i diritti riservati."]})})})]})}function FA(){const[r,e]=H.useState(""),[t,s]=H.useState(""),[o,u]=H.useState(""),{login:h}=ju(),f=Va(),g=y=>{if(y.preventDefault(),u(""),!r||!t){u("Inserisci username e password");return}h(r,t)?f("/admin"):u("Credenziali non valide")};return b.jsx("div",{className:"flex min-h-screen items-center justify-center bg-yellow-50",children:b.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-md",children:[b.jsx("div",{className:"mb-6 flex justify-center",children:b.jsx("img",{src:"./images/disinfo_logo.jpg",alt:"DISINFO Logo",className:"h-16"})}),b.jsx("h1",{className:"mb-6 text-center text-2xl font-bold text-gray-900",children:"Accesso Admin"}),o&&b.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4 text-sm text-red-700",children:o}),b.jsxs("form",{onSubmit:g,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"username",className:"mb-2 block text-sm font-medium text-gray-700",children:"Username"}),b.jsx("input",{id:"username",type:"text",value:r,onChange:y=>e(y.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-yellow-500 focus:outline-none focus:ring-yellow-500"})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"password",className:"mb-2 block text-sm font-medium text-gray-700",children:"Password"}),b.jsx("input",{id:"password",type:"password",value:t,onChange:y=>s(y.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-yellow-500 focus:outline-none focus:ring-yellow-500"})]}),b.jsx("button",{type:"submit",className:"w-full rounded-md bg-black px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2",children:"Accedi"})]})]})})}function UA(){const{user:r,logout:e}=ju(),{folders:t,loading:s,error:o,addFolder:u,deleteFolder:h,refreshFolders:f}=rc(),[g,y]=H.useState(""),[w,I]=H.useState("");H.useEffect(()=>{f()},[f]);const T=async x=>{if(x.preventDefault(),I(""),!g.trim()){I("Inserisci un titolo per la cartella");return}try{await u(g.trim()),y("")}catch(z){I("Errore durante la creazione della cartella"),console.error(z)}},V=async x=>{try{await h(x)}catch(z){console.error("Errore durante l'eliminazione della cartella:",z)}};return b.jsxs("div",{className:"min-h-screen bg-yellow-50",children:[b.jsx("header",{className:"bg-black p-4 shadow-md",children:b.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("img",{src:"./images/disinfo_logo.jpg",alt:"DISINFO Logo",className:"h-10"}),b.jsx("h1",{className:"ml-4 text-xl font-bold text-white",children:"Admin Dashboard"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsxs("span",{className:"mr-4 text-white",children:["Benvenuto, ",r==null?void 0:r.username]}),b.jsx("button",{onClick:e,className:"rounded bg-yellow-500 px-4 py-2 font-bold text-black hover:bg-yellow-600",children:"Logout"})]})]})}),b.jsxs("main",{className:"container mx-auto p-4",children:[b.jsxs("section",{className:"mb-8",children:[b.jsx("h2",{className:"mb-4 text-2xl font-bold",children:"Crea Nuova Cartella"}),b.jsxs("form",{onSubmit:T,className:"flex items-end gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{htmlFor:"folderTitle",className:"mb-2 block text-sm font-medium text-gray-700",children:"Titolo Cartella"}),b.jsx("input",{id:"folderTitle",type:"text",value:g,onChange:x=>y(x.target.value),placeholder:"es. Incontro del 15 gennaio 2025",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-yellow-500 focus:outline-none focus:ring-yellow-500"})]}),b.jsx("button",{type:"submit",disabled:s,className:"rounded-md bg-black px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 disabled:bg-gray-400",children:s?"Creazione...":"Crea Cartella"})]}),w&&b.jsx("div",{className:"mt-2 text-sm text-red-600",children:w}),o&&b.jsx("div",{className:"mt-2 text-sm text-red-600",children:o})]}),b.jsxs("section",{children:[b.jsx("h2",{className:"mb-4 text-2xl font-bold",children:"Cartelle"}),s&&b.jsx("p",{className:"text-gray-500",children:"Caricamento cartelle..."}),!s&&t.length===0?b.jsx("p",{className:"text-gray-500",children:"Nessuna cartella creata."}):b.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(x=>b.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-md",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-medium",children:x.title}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("a",{href:`#/admin/folder/${x.id}`,className:"rounded bg-yellow-500 px-3 py-1 text-sm font-medium text-black hover:bg-yellow-600",children:"Gestisci"}),b.jsx("button",{onClick:()=>V(x.id),disabled:s,className:"rounded bg-red-500 px-3 py-1 text-sm font-medium text-white hover:bg-red-600 disabled:bg-red-300",children:"Elimina"})]})]}),b.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Creata il ",new Date(x.createdAt).toLocaleDateString("it-IT")]})]},x.id))})]})]})]})}function jA(){const{folderId:r}=ly(),e=Va(),{user:t}=ju(),{folders:s,loading:o,error:u,addContentItem:h,deleteContentItem:f,getFolderContent:g,refreshFolders:y}=rc(),[w,I]=H.useState(null),[T,V]=H.useState([]),[x,z]=H.useState(""),[O,W]=H.useState(""),[K,ee]=H.useState("pdf"),[ie,Ie]=H.useState(null),[ve,N]=H.useState(""),[S,A]=H.useState(""),[k,L]=H.useState(!1);H.useEffect(()=>{if(!(t!=null&&t.isAdmin)){e("/login");return}(async()=>{if(r){await y();const Ce=s.find(re=>re.id===r);Ce?(I(Ce),M()):e("/admin")}})()},[r,s,e,t,y]);const M=async()=>{if(r)try{L(!0);const Ee=await g(r);V(Ee)}catch(Ee){console.error("Errore durante il caricamento dei contenuti:",Ee)}finally{L(!1)}},C=Ee=>{if(Ee.target.files&&Ee.target.files[0]){const Ce=Ee.target.files[0];if(Ce.type!=="application/pdf"){A("Solo file PDF sono supportati");return}Ie(Ce)}},Je=async Ee=>{if(Ee.preventDefault(),A(""),!x.trim()){A("Inserisci un titolo");return}if(K==="pdf"&&!ie){A("Seleziona un file PDF");return}if(K==="link"&&!ve.trim()){A("Inserisci un URL valido");return}try{r&&(await h(r,x.trim(),O.trim(),K,K==="pdf"?ie:null,K==="link"?ve:""),z(""),W(""),Ie(null),N(""),await M())}catch(Ce){A("Errore durante il caricamento"),console.error(Ce)}},vt=async(Ee,Ce,re)=>{try{await f(Ee,Ce,re),await M()}catch(pe){console.error("Errore durante l'eliminazione del contenuto:",pe)}};return o&&!w?b.jsx("div",{className:"p-8 text-center",children:"Caricamento..."}):b.jsxs("div",{className:"min-h-screen bg-yellow-50",children:[b.jsx("header",{className:"bg-black p-4 shadow-md",children:b.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("img",{src:"./images/disinfo_logo.jpg",alt:"DISINFO Logo",className:"h-10"}),b.jsxs("h1",{className:"ml-4 text-xl font-bold text-white",children:["Gestione Cartella: ",w==null?void 0:w.title]})]}),b.jsx("div",{children:b.jsx("button",{onClick:()=>e("/admin"),className:"rounded bg-yellow-500 px-4 py-2 font-bold text-black hover:bg-yellow-600",children:"Torna alla Dashboard"})})]})}),b.jsxs("main",{className:"container mx-auto p-4",children:[b.jsxs("section",{className:"mb-8",children:[b.jsx("h2",{className:"mb-4 text-2xl font-bold",children:"Aggiungi Contenuto"}),b.jsxs("form",{onSubmit:Je,className:"rounded-lg bg-white p-6 shadow-md",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"title",className:"mb-2 block text-sm font-medium text-gray-700",children:"Titolo"}),b.jsx("input",{id:"title",type:"text",value:x,onChange:Ee=>z(Ee.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-yellow-500 focus:outline-none focus:ring-yellow-500",placeholder:"Titolo del contenuto"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"description",className:"mb-2 block text-sm font-medium text-gray-700",children:"Descrizione"}),b.jsx("textarea",{id:"description",value:O,onChange:Ee=>W(Ee.target.value),rows:4,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-yellow-500 focus:outline-none focus:ring-yellow-500",placeholder:"Descrizione del contenuto"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Tipo di Contenuto"}),b.jsxs("div",{className:"flex space-x-4",children:[b.jsxs("label",{className:"flex items-center",children:[b.jsx("input",{type:"radio",value:"pdf",checked:K==="pdf",onChange:()=>ee("pdf"),className:"mr-2"}),"File PDF"]}),b.jsxs("label",{className:"flex items-center",children:[b.jsx("input",{type:"radio",value:"link",checked:K==="link",onChange:()=>ee("link"),className:"mr-2"}),"Link"]})]})]}),K==="pdf"?b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"file",className:"mb-2 block text-sm font-medium text-gray-700",children:"File PDF"}),b.jsx("input",{id:"file",type:"file",accept:"application/pdf",onChange:C,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-yellow-500 focus:outline-none focus:ring-yellow-500"}),ie&&b.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["File selezionato: ",ie.name]})]}):b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"url",className:"mb-2 block text-sm font-medium text-gray-700",children:"URL"}),b.jsx("input",{id:"url",type:"url",value:ve,onChange:Ee=>N(Ee.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-yellow-500 focus:outline-none focus:ring-yellow-500",placeholder:"https://example.com"})]}),S&&b.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4 text-sm text-red-700",children:S}),u&&b.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4 text-sm text-red-700",children:u}),b.jsx("button",{type:"submit",disabled:o,className:"w-full rounded-md bg-black px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 disabled:bg-gray-400",children:o?"Caricamento in corso...":"Aggiungi Contenuto"})]})]}),b.jsxs("section",{children:[b.jsx("h2",{className:"mb-4 text-2xl font-bold",children:"Contenuti nella Cartella"}),k?b.jsx("p",{className:"text-gray-500",children:"Caricamento contenuti..."}):T.length===0?b.jsx("p",{className:"text-gray-500",children:"Nessun contenuto in questa cartella."}):b.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:T.map(Ee=>b.jsx("div",{className:"rounded-lg bg-white p-4 shadow-md",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium",children:Ee.title}),b.jsx("p",{className:"mt-1 text-sm text-gray-600",children:Ee.description}),b.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Tipo: ",Ee.type==="pdf"?"PDF":"Link"," | Aggiunto il ",new Date(Ee.createdAt).toLocaleDateString("it-IT")]})]}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("a",{href:Ee.url,target:"_blank",rel:"noopener noreferrer",className:"rounded bg-yellow-500 px-3 py-1 text-sm font-medium text-black hover:bg-yellow-600",children:"Visualizza"}),b.jsx("button",{onClick:()=>vt(Ee.id,Ee.url,Ee.type),disabled:o,className:"rounded bg-red-500 px-3 py-1 text-sm font-medium text-white hover:bg-red-600 disabled:bg-red-300",children:"Elimina"})]})]})},Ee.id))})]})]})]})}function zA(){const{folderId:r}=ly(),e=Va(),{folders:t,loading:s,error:o,getFolderContent:u,refreshFolders:h}=rc(),[f,g]=H.useState(null),[y,w]=H.useState([]),[I,T]=H.useState(null),[V,x]=H.useState(!1);H.useEffect(()=>{(async()=>{if(r){await h();const W=t.find(K=>K.id===r);W?(g(W),z()):e("/")}})()},[r,t,h,e]);const z=async()=>{if(r)try{x(!0);const O=await u(r);w(O),O.length>0&&!I&&T(O[0])}catch(O){console.error("Errore durante il caricamento dei contenuti:",O)}finally{x(!1)}};return s&&!f?b.jsx("div",{className:"p-8 text-center",children:"Caricamento..."}):b.jsxs("div",{className:"min-h-screen bg-yellow-50",children:[b.jsx("header",{className:"bg-black p-4 shadow-md",children:b.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("img",{src:"./images/disinfo_logo.jpg",alt:"DISINFO Logo",className:"h-10"}),b.jsx("h1",{className:"ml-4 text-xl font-bold text-white",children:"DISINFO"})]}),b.jsx("button",{onClick:()=>e("/"),className:"rounded bg-yellow-500 px-4 py-2 font-bold text-black hover:bg-yellow-600",children:"Torna alla Home"})]})}),b.jsxs("main",{className:"container mx-auto p-4",children:[b.jsx("h2",{className:"mb-6 text-2xl font-bold",children:f==null?void 0:f.title}),o?b.jsx("div",{className:"rounded-lg bg-white p-8 text-center shadow-md",children:b.jsx("p",{className:"text-red-500",children:"Errore durante il caricamento dei contenuti. Riprova più tardi."})}):b.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[b.jsx("div",{className:"lg:col-span-1",children:b.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-md",children:[b.jsx("h3",{className:"mb-4 border-b pb-2 text-lg font-medium",children:"Contenuti"}),V?b.jsx("p",{className:"text-gray-500",children:"Caricamento contenuti..."}):y.length===0?b.jsx("p",{className:"text-gray-500",children:"Nessun contenuto in questa cartella."}):b.jsx("ul",{className:"space-y-2",children:y.map(O=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>T(O),className:`w-full rounded-md p-2 text-left hover:bg-yellow-100 ${(I==null?void 0:I.id)===O.id?"bg-yellow-200":""}`,children:[b.jsx("div",{className:"font-medium",children:O.title}),b.jsx("div",{className:"text-xs text-gray-500",children:O.type==="pdf"?"PDF":"Link"})]})},O.id))})]})}),b.jsx("div",{className:"lg:col-span-2",children:I?b.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-md",children:[b.jsx("h3",{className:"mb-2 text-xl font-medium",children:I.title}),b.jsx("p",{className:"mb-4 text-gray-700",children:I.description}),I.type==="pdf"?b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"mb-2 flex justify-between",children:[b.jsx("span",{className:"text-sm font-medium",children:"Visualizzazione PDF"}),b.jsx("a",{href:I.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"Apri in una nuova scheda"})]}),b.jsx("div",{className:"h-[70vh] w-full overflow-hidden rounded border border-gray-300",children:b.jsx("iframe",{src:I.url,title:I.title,className:"h-full w-full"})})]}):b.jsx("div",{className:"mt-4",children:b.jsx("a",{href:I.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block rounded-md bg-yellow-500 px-4 py-2 font-medium text-black hover:bg-yellow-600",children:"Visita il Link"})})]}):b.jsx("div",{className:"flex h-full items-center justify-center rounded-lg bg-white p-8 shadow-md",children:b.jsx("p",{className:"text-gray-500",children:"Seleziona un contenuto dalla lista per visualizzarlo."})})})]})]}),b.jsx("footer",{className:"mt-8 bg-black p-4 text-center text-white",children:b.jsx("div",{className:"container mx-auto",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," DISINFO. Tutti i diritti riservati."]})})})]})}const ey=({children:r})=>{const{user:e}=ju();return!e||!e.isAdmin?b.jsx(b0,{to:"/login",replace:!0}):b.jsx(b.Fragment,{children:r})};function BA(){return b.jsx(wE,{children:b.jsx(bA,{children:b.jsx(lE,{children:b.jsxs(F0,{children:[b.jsx(Ks,{path:"/",element:b.jsx(MA,{})}),b.jsx(Ks,{path:"login",element:b.jsx(FA,{})}),b.jsx(Ks,{path:"folder/:folderId",element:b.jsx(zA,{})}),b.jsx(Ks,{path:"admin",element:b.jsx(ey,{children:b.jsx(UA,{})})}),b.jsx(Ks,{path:"admin/folder/:folderId",element:b.jsx(ey,{children:b.jsx(jA,{})})})]})})})})}Ww.createRoot(document.getElementById("root")).render(b.jsx(H.StrictMode,{children:b.jsx(BA,{})}));
